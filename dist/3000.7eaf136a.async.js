"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3e3,3015],{41009:function(ee,L,e){e.d(L,{iK:function(){return $},zc:function(){return w}});var $=function(u){return u[u.SUCCESS=200]="SUCCESS",u[u.ERROR=-1]="ERROR",u[u.TIMEOUT=401]="TIMEOUT",u.TYPE="success",u}({}),D=function(u){return u.GET="GET",u.POST="POST",u.PUT="PUT",u.DELETE="DELETE",u}({}),w=function(u){return u.JSON="application/json;charset=UTF-8",u.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",u.FORM_DATA="multipart/form-data;charset=UTF-8",u}({})},43e3:function(ee,L,e){e.r(L);var $=e(15558),D=e.n($),w=e(26068),u=e.n(w),P=e(90228),f=e.n(P),b=e(87999),y=e.n(b),z=e(48305),U=e.n(z),j=e(75271),k=e(61032),Z=e(81114),O=e(73320),A=e(2336),M=e(51162),I=e(79654),x=e(21263),_=e(35609),E=e(18380),m=e(48625),r=e(8797),W=e(57355),n=e(23102),J=e(14218),g=e(10189),R=e(54584),N=e(86743),p=e(16621),G=e(73323),X=e(25723),T=e(29716),F=e(65269),pe=e(33015),le=e(42449),t=e(52676),te=Z.Z.TextArea,re=O.Z.Option,_e=function(ue){var ne=ue.id,Q=(0,k.useModel)("wms"),he=Q.warehouseList,fe=Q.warehouseMap,de=Q.areaList,Ce=Q.areaMap,Ee=Q.merchantList,Pe=Q.merchantMap,ve=Q.itemBrandMap,oe=(0,j.useState)([]),ce=U()(oe,2),ye=ce[0],B=ce[1],o=(0,j.useState)([]),v=U()(o,2),Y=v[0],q=v[1],H=A.Z.useForm(),ae=U()(H,1),i=ae[0],Qe=(0,j.useRef)(),Ie=(0,j.useState)(!1),Me=U()(Ie,2),xe=Me[0],je=Me[1],Re=(0,j.useState)(!1),Te=U()(Re,2),Fe=Te[0],Ue=Te[1],Ae=(0,j.useState)(!1),be=U()(Ae,2),Be=be[0],ge=be[1];(0,j.useEffect)(function(){Promise.all([(0,F.pX)("wms_receipt_status"),(0,F.pX)("wms_receipt_type")]).then(function(l){var h=U()(l,2),s=h[0],a=h[1];B(Object.values(s)),q(Object.values(a))})},[]),(0,j.useEffect)(function(){ne?Se(ne):i.setFieldsValue({receiptOrderNo:"RK".concat((0,le.v)()),receiptOrderType:"2",receiptOrderStatus:0,totalQuantity:0,details:[]})},[ne]);var Se=function(){var l=y()(f()().mark(function h(s){var a;return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return je(!0),c.prev=1,c.next=4,(0,X.ud)(s);case 4:a=c.sent,i.setFieldsValue(a.data);case 6:return c.prev=6,je(!1),c.finish(6);case 9:case"end":return c.stop()}},h,null,[[1,,6,9]])}));return function(s){return l.apply(this,arguments)}}(),we=function(h){var s;i.setFieldsValue({areaId:void 0,details:(s=i.getFieldValue("details"))===null||s===void 0?void 0:s.map(function(a){return u()(u()({},a),{},{areaId:void 0})})})},Le=function(h){var s;i.setFieldsValue({details:(s=i.getFieldValue("details"))===null||s===void 0?void 0:s.map(function(a){return u()(u()({},a),{},{areaId:h})})})},ke=function(){var h=i.getFieldValue("details")||[],s=0;h.forEach(function(a){a.quantity&&(s+=Number(a.quantity))}),i.setFieldsValue({totalQuantity:s})},We=function(){var h=i.getFieldValue("details")||[],s=0;h.forEach(function(a){a.amount>=0&&(s=(0,le.f)(s,-Number(a.amount)))}),i.setFieldsValue({payableAmount:s})},Ke=function(){var l=y()(f()().mark(function h(s,a){var d;return f()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:s.id?M.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var V=y()(f()().mark(function ie(){var me;return f()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,T.al)(s.id);case 2:me=i.getFieldValue("details"),me.splice(a,1),i.setFieldsValue({details:me}),I.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return K.stop()}},ie)}));function se(){return V.apply(this,arguments)}return se}()}):(d=i.getFieldValue("details"),d.splice(a,1),i.setFieldsValue({details:d}));case 1:case"end":return C.stop()}},h)}));return function(s,a){return l.apply(this,arguments)}}(),Ze=function(){if(!i.getFieldValue("warehouseId")){I.ZP.error("\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93");return}ge(!0)},Ve=function(h){ge(!1);var s=i.getFieldValue("details")||[];i.setFieldsValue({details:[].concat(D()(s),D()(h.map(function(a){return{itemSku:u()({},a),amount:void 0,quantity:a.quantity,batchNo:void 0,productionDate:void 0,expirationDate:void 0,warehouseId:i.getFieldValue("warehouseId"),areaId:i.getFieldValue("areaId")}})))})},De=function(){var l=y()(f()().mark(function h(){var s,a,d,c,C,V,se,ie=arguments;return f()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return s=ie.length>0&&ie[0]!==void 0?ie[0]:0,S.prev=1,S.next=4,i.validateFields();case 4:if(d=i.getFieldsValue(),(a=d.details)!==null&&a!==void 0&&a.length){S.next=8;break}return I.ZP.error("\u8BF7\u6DFB\u52A0\u5546\u54C1\u660E\u7EC6"),S.abrupt("return");case 8:if(c=d.details.filter(function(K){return!K.areaId}),!c.length){S.next=12;break}return I.ZP.error("\u8BF7\u4E3A\u6240\u6709\u5546\u54C1\u9009\u62E9\u5E93\u533A"),S.abrupt("return");case 12:if(C=d.details.filter(function(K){return!K.quantity}),!C.length){S.next=16;break}return I.ZP.error("\u8BF7\u4E3A\u6240\u6709\u5546\u54C1\u8BBE\u7F6E\u6570\u91CF"),S.abrupt("return");case 16:if(V=d.details.map(function(K){return{id:K.id,receiptOrderId:d.id,skuId:K.itemSku.id,amount:K.amount,quantity:K.quantity,batchNo:K.batchNo,productionDate:K.productionDate,expirationDate:K.expirationDate,warehouseId:d.warehouseId,areaId:K.areaId}}),se=u()(u()({},d),{},{receiptOrderStatus:s,details:V}),!d.id){S.next=23;break}return S.next=21,(0,X.tu)(se);case 21:S.next=25;break;case 23:return S.next=25,(0,X.o)(se);case 25:I.ZP.success("\u64CD\u4F5C\u6210\u529F"),k.history.push("/receiptOrder"),S.next=32;break;case 29:S.prev=29,S.t0=S.catch(1),I.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 32:case"end":return S.stop()}},h,null,[[1,29]])}));return function(){return l.apply(this,arguments)}}(),$e=function(){var l=y()(f()().mark(function h(){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:M.Z.confirm({title:"\u786E\u8BA4\u6682\u5B58\u5165\u5E93\u5355\u5417\uFF1F",onOk:function(){return De(0)}});case 1:case"end":return a.stop()}},h)}));return function(){return l.apply(this,arguments)}}(),Ne=function(){var l=y()(f()().mark(function h(){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:M.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u5165\u5E93\u5355\u5417\uFF1F",onOk:function(){return De(-1)}});case 1:case"end":return a.stop()}},h)}));return function(){return l.apply(this,arguments)}}(),Ge=function(){var l=y()(f()().mark(function h(){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:M.Z.confirm({title:"\u786E\u8BA4\u5165\u5E93\u5417\uFF1F",onOk:function(){return De(1)}});case 1:case"end":return a.stop()}},h)}));return function(){return l.apply(this,arguments)}}(),Ye=function(){return M.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"}),!1},ze=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(h,s){var a,d,c,C;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(a=s.itemSku)===null||a===void 0||(a=a.item)===null||a===void 0?void 0:a.itemName,((d=s.itemSku)===null||d===void 0||(d=d.item)===null||d===void 0?void 0:d.itemCode)&&"(".concat(s.itemSku.item.itemCode,")")]}),((c=s.itemSku)===null||c===void 0||(c=c.item)===null||c===void 0?void 0:c.itemBrand)&&(0,t.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(C=ve.get(s.itemSku.item.itemBrand))===null||C===void 0?void 0:C.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(h,s){var a,d;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(a=s.itemSku)===null||a===void 0?void 0:a.skuName}),((d=s.itemSku)===null||d===void 0?void 0:d.barcode)&&(0,t.jsxs)("div",{children:["\u6761\u7801\uFF1A",s.itemSku.barcode]})]})}},{title:"\u5E93\u533A",render:function(h,s){return(0,t.jsx)(x.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",open:i.getFieldValue("warehouseId")?!1:void 0,children:(0,t.jsx)(O.Z,{value:s.areaId,placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:!i.getFieldValue("warehouseId")||!!i.getFieldValue("areaId"),onChange:function(d){var c=i.getFieldValue("details"),C=c.findIndex(function(V){return V.skuId===s.skuId});C!==-1&&(c[C].areaId=d,i.setFieldsValue({details:c}))},style:{width:"100%"},children:de.filter(function(a){return a.warehouseId===i.getFieldValue("warehouseId")}).map(function(a){return(0,t.jsx)(re,{value:a.id,children:a.areaName},a.id)})})})}},{title:"\u6570\u91CF",render:function(h,s){return(0,t.jsx)(_.Z,{value:s.quantity,placeholder:"\u6570\u91CF",min:1,precision:0,onChange:function(d){var c=i.getFieldValue("details"),C=c.findIndex(function(V){return V.skuId===s.skuId});C!==-1&&(c[C].quantity=d,i.setFieldsValue({details:c}),ke())},style:{width:"100%"}})}},{title:"\u4EF7\u683C",render:function(h,s){return(0,t.jsx)(_.Z,{value:s.amount,placeholder:"\u4EF7\u683C",precision:2,min:0,max:2147483647,onChange:function(d){var c=i.getFieldValue("details"),C=c.findIndex(function(V){return V.skuId===s.skuId});C!==-1&&(c[C].amount=d,i.setFieldsValue({details:c}))},style:{width:"100%"}})}},{title:"\u6279\u53F7",render:function(h,s){return(0,t.jsx)(Z.Z,{value:s.batchNo,onChange:function(d){var c=i.getFieldValue("details"),C=c.findIndex(function(V){return V.skuId===s.skuId});C!==-1&&(c[C].batchNo=d.target.value,i.setFieldsValue({details:c}))}})}},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",render:function(h,s){return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[(0,t.jsx)("span",{style:{marginRight:8},children:"\u751F\u4EA7\u65E5\u671F\uFF1A"}),(0,t.jsx)(E.default,{value:s.productionDate,format:"YYYY-MM-DD",onChange:function(d){var c=i.getFieldValue("details"),C=c.findIndex(function(V){return V.skuId===s.skuId});C!==-1&&(c[C].productionDate=d==null?void 0:d.format("YYYY-MM-DD HH:mm:ss"),i.setFieldsValue({details:c}))},style:{width:150}})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)("span",{style:{marginRight:8},children:"\u8FC7\u671F\u65E5\u671F\uFF1A"}),(0,t.jsx)(E.default,{value:s.expirationDate,format:"YYYY-MM-DD",onChange:function(d){var c=i.getFieldValue("details"),C=c.findIndex(function(V){return V.skuId===s.skuId});C!==-1&&(c[C].expirationDate=d==null?void 0:d.format("YYYY-MM-DD HH:mm:ss"),i.setFieldsValue({details:c}))},style:{width:150}})]})]})}},{title:"\u64CD\u4F5C",render:function(h,s,a){return(0,t.jsx)(m.ZP,{icon:(0,t.jsx)(N.Z,{}),type:"text",danger:!0,onClick:function(){return Ke(s,a)},children:"\u5220\u9664"})}}];return(0,t.jsxs)(G._z,{children:[(0,t.jsx)(r.Z,{title:"\u5165\u5E93\u5355\u57FA\u672C\u4FE1\u606F",loading:xe,style:{marginBottom:24},children:(0,t.jsxs)(A.Z,{form:i,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},children:[(0,t.jsxs)(W.Z,{gutter:24,children:[(0,t.jsx)(n.Z,{xs:24,sm:12,md:8,children:(0,t.jsx)(A.Z.Item,{label:"\u5165\u5E93\u5355\u53F7",name:"receiptOrderNo",rules:[{required:!0,message:"\u5165\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,t.jsx)(Z.Z,{disabled:!!ne,style:{width:"100%"}})})}),(0,t.jsx)(n.Z,{xs:24,sm:12,md:8,children:(0,t.jsx)(A.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,t.jsx)(O.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",onChange:we,style:{width:"100%"},children:he.map(function(l){return(0,t.jsx)(re,{value:l.id,children:l.warehouseName},l.id)})})})}),(0,t.jsx)(n.Z,{xs:24,sm:12,md:8,children:(0,t.jsx)(A.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,t.jsx)(x.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",open:i.getFieldValue("warehouseId")?!1:void 0,children:(0,t.jsx)(O.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:!i.getFieldValue("warehouseId"),onChange:Le,style:{width:"100%"},children:de.filter(function(l){return l.warehouseId===i.getFieldValue("warehouseId")}).map(function(l){return(0,t.jsx)(re,{value:l.id,children:l.areaName},l.id)})})})})})]}),(0,t.jsxs)(W.Z,{gutter:24,children:[(0,t.jsx)(n.Z,{xs:24,sm:12,md:8,children:(0,t.jsx)(A.Z.Item,{label:"\u5165\u5E93\u7C7B\u578B",name:"receiptOrderType",rules:[{required:!0,message:"\u5165\u5E93\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,t.jsx)(J.ZP.Group,{children:Y==null?void 0:Y.map(function(l){return(0,t.jsx)(J.ZP.Button,{value:l.value,children:l.label},l.value)})})})}),(0,t.jsx)(n.Z,{xs:24,sm:12,md:8,children:(0,t.jsx)(A.Z.Item,{label:"\u4F9B\u5E94\u5546",name:"merchantId",children:(0,t.jsx)(O.Z,{placeholder:"\u8BF7\u9009\u62E9\u4F9B\u5E94\u5546",style:{width:"100%"},children:Ee.map(function(l){return(0,t.jsx)(re,{value:l.id,children:l.merchantName},l.id)})})})}),(0,t.jsx)(n.Z,{xs:24,sm:12,md:8,children:(0,t.jsx)(A.Z.Item,{label:"\u8BA2\u5355\u53F7",name:"orderNo",children:(0,t.jsx)(Z.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",style:{width:"100%"}})})})]}),(0,t.jsxs)(W.Z,{gutter:24,children:[(0,t.jsx)(n.Z,{span:16,children:(0,t.jsx)(A.Z.Item,{label:"\u5907\u6CE8",name:"remark",labelCol:{span:3},wrapperCol:{span:21},children:(0,t.jsx)(te,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",maxLength:100,rows:2,showCount:!0,style:{width:"100%"}})})}),(0,t.jsx)(n.Z,{xs:24,sm:12,md:4,children:(0,t.jsx)(A.Z.Item,{label:"\u91D1\u989D",name:"payableAmount",children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(_.Z,{precision:2,min:0,style:{width:"100%"}}),(0,t.jsx)(m.ZP,{type:"link",onClick:We,style:{marginLeft:8},children:"\u81EA\u52A8\u8BA1\u7B97"})]})})}),(0,t.jsx)(n.Z,{xs:24,sm:12,md:4,children:(0,t.jsx)(A.Z.Item,{label:"\u6570\u91CF",name:"totalQuantity",children:(0,t.jsx)(_.Z,{disabled:!0,precision:0,style:{width:"100%"}})})})]})]})}),(0,t.jsxs)(r.Z,{title:"\u5546\u54C1\u660E\u7EC6",loading:xe,style:{marginBottom:24},children:[(0,t.jsxs)("div",{style:{marginBottom:16},children:[(0,t.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,t.jsx)(g.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:Fe,onChange:Ue,beforeChange:Ye,style:{margin:"0 8px"}}),(0,t.jsx)(x.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",open:i.getFieldValue("warehouseId")?!1:void 0,children:(0,t.jsx)(m.ZP,{type:"primary",icon:(0,t.jsx)(p.Z,{}),onClick:Ze,disabled:!i.getFieldValue("warehouseId"),style:{float:"right"},children:"\u6DFB\u52A0\u5546\u54C1"})})]}),(0,t.jsx)(R.Z,{columns:ze,dataSource:i.getFieldValue("details")||[],rowKey:"skuId",pagination:!1,scroll:{x:"max-content"}})]}),(0,t.jsx)(pe.default,{open:Be,onOk:Ve,onCancel:function(){return ge(!1)},width:"80%"}),(0,t.jsx)("div",{style:{position:"fixed",bottom:0,right:0,width:"100%",padding:"16px",background:"#fff",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.15)",zIndex:1},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m.ZP,{onClick:Ge,type:"primary",style:{marginRight:8},children:"\u5B8C\u6210\u5165\u5E93"}),ne&&(0,t.jsx)(m.ZP,{onClick:Ne,danger:!0,children:"\u4F5C\u5E9F"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.ZP,{onClick:$e,type:"primary",style:{marginRight:8},children:"\u6682\u5B58"}),(0,t.jsx)(m.ZP,{onClick:function(){return k.history.push("/receiptOrder")},children:"\u53D6\u6D88"})]})]})})]})};L.default=_e},33015:function(ee,L,e){e.r(L);var $=e(90228),D=e.n($),w=e(26068),u=e.n(w),P=e(87999),f=e.n(P),b=e(15558),y=e.n(b),z=e(48305),U=e.n(z),j=e(75271),k=e(61032),Z=e(2336),O=e(48625),A=e(1153),M=e(57355),I=e(23102),x=e(81114),_=e(16621),E=e(47383),m=e(17023),r=e(90607),W=e(88223),n=e(52676),J=(0,j.forwardRef)(function(g,R){var N=g.open,p=g.onCancel,G=g.singleSelect,X=G===void 0?!1:G,T=g.size,F=T===void 0?"80%":T,pe=Z.Z.useForm(),le=U()(pe,1),t=le[0],te=(0,j.useRef)(),re=(0,j.useState)([]),_e=U()(re,2),Oe=_e[0],ue=_e[1],ne=(0,j.useState)(!1),Q=U()(ne,2),he=Q[0],fe=Q[1],de=(0,k.useModel)("wms"),Ce=de.itemBrandMap;(0,j.useImperativeHandle)(R,function(){return{getList:function(){var o;(o=te.current)===null||o===void 0||o.reload()}}});var Ee=function(o){return(o.length||o.length===0)&&(o.width||o.width===0)&&(o.height||o.height===0)?"".concat(o.length," * ").concat(o.width," * ").concat(o.height):[o.length||o.length===0?"\u957F\uFF1A".concat(o.length):"",o.width||o.width===0?"\u5BBD\uFF1A".concat(o.width):"",o.height||o.height===0?"\u9AD8\uFF1A".concat(o.height):""].filter(Boolean).join(" ")},Pe=function(o){p()},ve=function(){p(),ue([])},oe=function(){p(),ue([])},ce=function(){k.history.push("/system/itemManage2?openDrawer=true")},ye=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(o,v){var Y,q,H,ae;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:(Y=v.item)===null||Y===void 0?void 0:Y.itemName}),((q=v.item)===null||q===void 0?void 0:q.itemCode)&&(0,n.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",v.item.itemCode]}),((H=v.item)===null||H===void 0?void 0:H.itemBrand)&&(0,n.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(ae=Ce.get(v.item.itemBrand))===null||ae===void 0?void 0:ae.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(o,v){return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:v.skuName}),v.skuCode&&(0,n.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",v.skuCode]}),v.barcode&&(0,n.jsxs)("div",{children:["\u6761\u7801\uFF1A",v.barcode]})]})}},{title:"\u4EF7\u683C(\u5143)",width:160,align:"left",render:function(o,v){return(0,n.jsxs)("div",{children:[v.costPrice!==void 0&&(0,n.jsxs)("div",{className:"flex-space-between",children:[(0,n.jsx)("span",{children:"\u6210\u672C\u4EF7\uFF1A"}),(0,n.jsx)("div",{children:v.costPrice})]}),v.sellingPrice!==void 0&&(0,n.jsxs)("div",{className:"flex-space-between",children:[(0,n.jsx)("span",{children:"\u9500\u552E\u4EF7\uFF1A"}),(0,n.jsx)("div",{children:v.sellingPrice})]})]})}},{title:"\u91CD\u91CF(kg)",width:160,align:"left",render:function(o,v){return(0,n.jsxs)("div",{children:[v.netWeight!==void 0&&(0,n.jsxs)("div",{className:"flex-space-between",children:[(0,n.jsx)("span",{children:"\u51C0\u91CD\uFF1A"}),(0,n.jsx)("div",{children:v.netWeight})]}),v.grossWeight!==void 0&&(0,n.jsxs)("div",{className:"flex-space-between",children:[(0,n.jsx)("span",{children:"\u6BDB\u91CD\uFF1A"}),(0,n.jsx)("div",{children:v.grossWeight})]})]})}},{title:"\u957F\u5BBD\u9AD8(cm)",align:"right",width:250,render:function(o,v){return(0,n.jsx)("div",{children:Ee(v)})}}].concat(y()(X?[{title:"\u64CD\u4F5C",width:100,align:"right",render:function(o,v){return(0,n.jsx)(O.ZP,{type:"link",onClick:function(){return Pe(v)},children:"\u9009\u62E9"})}}]:[]));return(0,n.jsxs)(A.Z,{title:"\u5546\u54C1\u9009\u62E9",width:F,open:N,onClose:oe,destroyOnClose:!0,footer:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(O.ZP,{icon:(0,n.jsx)(_.Z,{}),onClick:ce,children:"\u521B\u5EFA\u5546\u54C1"}),(0,n.jsx)(O.ZP,{icon:(0,n.jsx)(E.Z,{}),onClick:function(){var o;return(o=te.current)===null||o===void 0?void 0:o.reload()},style:{marginLeft:8},children:"\u5237\u65B0"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(O.ZP,{onClick:oe,style:{marginRight:8},children:"\u53D6\u6D88"}),!X&&(0,n.jsx)(O.ZP,{type:"primary",onClick:ve,children:"\u786E\u8BA4"})]})]}),children:[(0,n.jsxs)(Z.Z,{form:t,layout:"inline",labelAlign:"left",children:[(0,n.jsxs)(M.Z,{gutter:20,style:{width:"100%"},children:[(0,n.jsx)(I.Z,{span:8,children:(0,n.jsx)(Z.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,n.jsx)(x.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})})}),(0,n.jsx)(I.Z,{span:8,children:(0,n.jsx)(Z.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,n.jsx)(x.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0})})}),(0,n.jsx)(I.Z,{span:8,children:(0,n.jsx)(Z.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,n.jsx)(x.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0})})})]}),(0,n.jsxs)(M.Z,{gutter:20,style:{width:"100%",marginTop:16},children:[(0,n.jsx)(I.Z,{span:8,children:(0,n.jsx)(Z.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,n.jsx)(x.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0})})}),(0,n.jsx)(I.Z,{span:8,children:(0,n.jsx)(O.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{}),onClick:function(){var o;return(o=te.current)===null||o===void 0?void 0:o.reload()},children:"\u67E5\u8BE2"})})]})]}),(0,n.jsx)(r.Z,{style:{marginTop:16},actionRef:te,rowKey:"id",search:!1,options:!1,request:function(){var B=f()(D()().mark(function o(v){var Y,q,H;return D()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return fe(!0),i.prev=1,Y=t.getFieldsValue(),q=u()(u()({},Y),{},{pageNum:v.current,pageSize:v.pageSize}),i.next=6,(0,W.uE)(q);case 6:return H=i.sent,i.abrupt("return",{data:H.rows,total:H.total,success:!0});case 8:return i.prev=8,fe(!1),i.finish(8);case 11:case"end":return i.stop()}},o,null,[[1,,8,11]])}));return function(o){return B.apply(this,arguments)}}(),columns:ye,rowSelection:X?void 0:{selectedRowKeys:Oe.map(function(B){return B.id}),onChange:function(o,v){return ue(v)}},loading:he,pagination:{showSizeChanger:!0,pageSizeOptions:["5","10","20","50"]}})]})});L.default=J},65269:function(ee,L,e){e.d(L,{Hr:function(){return A},QK:function(){return n},Vd:function(){return k},a7:function(){return _},jK:function(){return U},n2:function(){return W},oH:function(){return I},pX:function(){return Z},sF:function(){return m}});var $=e(26068),D=e.n($),w=e(90228),u=e.n(w),P=e(87999),f=e.n(P),b=e(61032),y=e(41009),z=e(18606);function U(g){return j.apply(this,arguments)}function j(){return j=f()(u()().mark(function g(R){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,b.request)("/api/system/dict/type/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:R}));case 1:case"end":return p.stop()}},g)})),j.apply(this,arguments)}function k(g){return(0,b.request)("/api/system/dict/type/".concat(g),{method:"GET"})}function Z(g,R){return O.apply(this,arguments)}function O(){return O=f()(u()().mark(function g(R,N){var p,G;return u()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return console.log("getDictValueEnum resp:",R),T.next=3,(0,b.request)("/api/system/dict/data/type/".concat(R),{method:"GET"});case 3:if(p=T.sent,console.log("getDictValueEnum resp:",R,p),p.code!==y.iK.SUCCESS){T.next=11;break}return G={},p.data.forEach(function(F){G[F.dictValue]={text:F.dictLabel,label:F.dictLabel,value:N?Number(F.dictValue):F.dictValue,key:F.dictCode,listClass:F.listClass,status:F.listClass}}),T.abrupt("return",G);case 11:return T.abrupt("return",{});case 12:case"end":return T.stop()}},g)})),O.apply(this,arguments)}function A(g,R){return M.apply(this,arguments)}function M(){return M=f()(u()().mark(function g(R,N){var p,G;return u()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,b.request)("/api/system/dict/data/type/".concat(R),{method:"GET"});case 2:if(p=T.sent,p.code!==200){T.next=6;break}return G=p.data.map(function(F){return{text:F.dictLabel,label:F.dictLabel,value:N?Number(F.dictValue):F.dictValue,key:F.dictCode,listClass:F.listClass,status:F.listClass}}),T.abrupt("return",G);case 6:return T.abrupt("return",[]);case 7:case"end":return T.stop()}},g)})),M.apply(this,arguments)}function I(g){return x.apply(this,arguments)}function x(){return x=f()(u()().mark(function g(R){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,b.request)("/api/system/dict/type",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:R}));case 1:case"end":return p.stop()}},g)})),x.apply(this,arguments)}function _(g){return E.apply(this,arguments)}function E(){return E=f()(u()().mark(function g(R){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,b.request)("/api/system/dict/type",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:R}));case 1:case"end":return p.stop()}},g)})),E.apply(this,arguments)}function m(g){return r.apply(this,arguments)}function r(){return r=f()(u()().mark(function g(R){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,b.request)("/api/system/dict/type/".concat(R),{method:"DELETE"}));case 1:case"end":return p.stop()}},g)})),r.apply(this,arguments)}function W(g){return(0,z.su)("/api/system/dict/type/export",{params:g},"dict_type_".concat(new Date().getTime(),".xlsx"))}function n(g){return J.apply(this,arguments)}function J(){return J=f()(u()().mark(function g(R){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,b.request)("/api/system/dict/type/optionselect",{params:D()({},R),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return p.stop()}},g)})),J.apply(this,arguments)}},88223:function(ee,L,e){e.d(L,{pe:function(){return I},uE:function(){return b}});var $=e(90228),D=e.n($),w=e(87999),u=e.n(w),P=e(61032),f=e(18606);function b(_){return y.apply(this,arguments)}function y(){return y=u()(D()().mark(function _(E){return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/wms/itemSku/list",{method:"GET",params:E}));case 1:case"end":return r.stop()}},_)})),y.apply(this,arguments)}function z(_){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function _(E){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/itemSku/listNoPage",{method:"GET",params:E}));case 1:case"end":return r.stop()}},_)})),U.apply(this,arguments)}function j(_,E){return downLoadXlsx("/api/wms/itemSku/export",{params:_},"itemSku_".concat(new Date().getTime(),".xlsx"))}function k(_){return request("/api/wms/itemSku/".concat(_),{method:"GET"})}function Z(_){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function _(E){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/itemSku",{method:"POST",data:E}));case 1:case"end":return r.stop()}},_)})),O.apply(this,arguments)}function A(_){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function _(E){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/itemSku",{method:"PUT",data:E}));case 1:case"end":return r.stop()}},_)})),M.apply(this,arguments)}function I(_){return x.apply(this,arguments)}function x(){return x=u()(D()().mark(function _(E){return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/wms/itemSku/".concat(E),{method:"DELETE"}));case 1:case"end":return r.stop()}},_)})),x.apply(this,arguments)}},25723:function(ee,L,e){e.d(L,{Ug:function(){return b},o:function(){return j},sr:function(){return I},tu:function(){return A},ud:function(){return U}});var $=e(90228),D=e.n($),w=e(87999),u=e.n(w),P=e(61032),f=e(18606);function b(m){return y.apply(this,arguments)}function y(){return y=u()(D()().mark(function m(r){return D()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/wms/receiptOrder/list",{method:"GET",params:r}));case 1:case"end":return n.stop()}},m)})),y.apply(this,arguments)}function z(m,r){return downLoadXlsx("/api/wms/receiptOrder/export",{params:m},"receiptOrder_".concat(new Date().getTime(),".xlsx"))}function U(m){return(0,P.request)("/api/wms/receiptOrder/".concat(m),{method:"GET"})}function j(m){return k.apply(this,arguments)}function k(){return k=u()(D()().mark(function m(r){return D()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/wms/receiptOrder",{method:"POST",data:r}));case 1:case"end":return n.stop()}},m)})),k.apply(this,arguments)}function Z(m){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function m(r){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/receiptOrder/warehousing",{method:"POST",data:r}));case 1:case"end":return n.stop()}},m)})),O.apply(this,arguments)}function A(m){return M.apply(this,arguments)}function M(){return M=u()(D()().mark(function m(r){return D()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/wms/receiptOrder",{method:"PUT",data:r}));case 1:case"end":return n.stop()}},m)})),M.apply(this,arguments)}function I(m){return x.apply(this,arguments)}function x(){return x=u()(D()().mark(function m(r){return D()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/wms/receiptOrder/".concat(r),{method:"DELETE"}));case 1:case"end":return n.stop()}},m)})),x.apply(this,arguments)}function _(){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function m(){return _regeneratorRuntime().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",request("/api/wms/receiptOrder/generate/no",{method:"GET"}));case 1:case"end":return W.stop()}},m)})),E.apply(this,arguments)}},29716:function(ee,L,e){e.d(L,{al:function(){return A},dR:function(){return I}});var $=e(90228),D=e.n($),w=e(87999),u=e.n(w),P=e(61032),f=e(18606);function b(_){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function _(E){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/receiptOrderDetail/list",{method:"GET",params:E}));case 1:case"end":return r.stop()}},_)})),y.apply(this,arguments)}function z(_,E){return downLoadXlsx("/api/wms/receiptOrderDetail/export",{params:_},"receiptOrderDetail_".concat(new Date().getTime(),".xlsx"))}function U(_){return request("/api/wms/receiptOrderDetail/".concat(_),{method:"GET"})}function j(_){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function _(E){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/receiptOrderDetail",{method:"POST",data:E}));case 1:case"end":return r.stop()}},_)})),k.apply(this,arguments)}function Z(_){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function _(E){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/receiptOrderDetail",{method:"PUT",data:E}));case 1:case"end":return r.stop()}},_)})),O.apply(this,arguments)}function A(_){return M.apply(this,arguments)}function M(){return M=u()(D()().mark(function _(E){return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/wms/receiptOrderDetail/".concat(E),{method:"DELETE"}));case 1:case"end":return r.stop()}},_)})),M.apply(this,arguments)}function I(_){return x.apply(this,arguments)}function x(){return x=u()(D()().mark(function _(E){return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.request)("/api/wms/receiptOrderDetail/list/".concat(E),{method:"GET"}));case 1:case"end":return r.stop()}},_)})),x.apply(this,arguments)}},42449:function(ee,L,e){e.d(L,{f:function(){return $},v:function(){return D}});function $(w,u){var P,f;try{P=w.toString().split(".")[1].length}catch(z){P=0}try{f=u.toString().split(".")[1].length}catch(z){f=0}var b=Math.pow(10,Math.max(P,f)),y=P>=f?P:f;return Number(((w*b-u*b)/b).toFixed(y))}function D(){var w=new Date,u=String(w.getMonth()+1).padStart(2,"0"),P=String(w.getDate()).padStart(2,"0"),f=Math.floor(Math.random()*1e4);return u+P+String(f).padStart(4,"0")}}}]);
