"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9852],{79852:function(J,h,e){e.r(h);var R=e(48305),f=e.n(R),i=e(75271),v=e(61032),p=e(48625),_=e(64634),x=e(16621),W=e(47383),s=e(52676),I=(0,i.forwardRef)(function(a,T){var j=a.value,B=a.onChange,c=a.size,S=c===void 0?"middle":c,E=a.showAllLevels,m=E===void 0?!1:E,C=a.disabled,U=C===void 0?!1:C,O=a.clearable,y=O===void 0?!0:O,D=a.multiple,K=D===void 0?!1:D,r=(0,v.useModel)("wms"),M=r.areaList,L=r.warehouseList,P=r.getWarehouseList,g=r.getAreaList,Z=(0,i.useState)([]),A=f()(Z,2),V=A[0],$=A[1],z=(0,i.useState)(!1),b=f()(z,2),Q=b[0],u=b[1];(0,i.useImperativeHandle)(T,function(){return{refresh:function(){P(),g()}}}),(0,i.useEffect)(function(){H()},[L,M]);var H=function(){var l=new Map,o=new Map;M.forEach(function(n){var w=o.get(n.warehouseId)||[];w.push({value:n.id,label:n.areaName}),o.set(n.warehouseId,w)});var d=L.map(function(n){return{value:n.id,label:n.warehouseName,children:o.get(n.id)}});$(m?d:d.filter(function(n){return n.children}))},F=function(l){u(l)},N=function(){v.history.push("/system/warehouse"),u(!1)},k=function(){P(),g(),u(!1)},G=function(l){return(0,s.jsxs)("div",{children:[l,(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",borderTop:"1px solid #f0f2f5"},children:[(0,s.jsx)(p.ZP,{type:"link",icon:(0,s.jsx)(x.Z,{}),onClick:N,children:"\u65B0\u589E"}),(0,s.jsx)(p.ZP,{type:"link",icon:(0,s.jsx)(W.Z,{}),onClick:k,children:"\u5237\u65B0"})]})]})};return(0,s.jsx)(_.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u4FE1\u606F",options:V,value:j,onChange:B,multiple:K,allowClear:y,size:S,disabled:U,showCheckedStrategy:m?_.Z.SHOW_CHILD:_.Z.SHOW_PARENT,dropdownRender:G,onDropdownVisibleChange:F,showSearch:{filter:function(l,o){return o.some(function(d){return d.label.toLowerCase().indexOf(l.toLowerCase())>-1})}}})});h.default=I}}]);
