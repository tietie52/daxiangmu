"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6563,6778,6422],{26563:function(te,K,r){r.r(K);var x=r(15558),g=r.n(x),V=r(90228),E=r.n(V),w=r(26068),B=r.n(w),G=r(87999),P=r.n(G),z=r(48305),R=r.n(z),A=r(75271),L=r(61032),Q=r(81114),M=r(73320),j=r(2336),k=r(79654),$=r(51162),F=r(18380),a=r(6778),h=r(35609),C=r(48625),t=r(8797),ie=r(57355),H=r(23102),ue=r(54584),le=r(86743),oe=r(16621),de=r(73323),_=r(73877),f=r(54936),y=r(90023),c=r(16483),D=r.n(c),e=r(52676),U=Q.Z.TextArea,O=M.Z.Option,b=function(Z){var S=Z.id,I=Z.onCancel,Y=(0,L.useModel)("wms"),J=Y.warehouseMap,X=Y.areaMap,ce=Y.itemBrandMap,_e=j.Z.useForm(),me=R()(_e,1),p=me[0],Ee=(0,A.useRef)(),pe=(0,A.useState)(!1),ne=R()(pe,2),W=ne[0],q=ne[1],he=(0,A.useState)(!1),re=R()(he,2),ee=re[0],ae=re[1],fe=(0,A.useState)(!1),ge=R()(fe,2),xe=ge[0],Re=ge[1],Pe=(0,A.useState)([]),ye=R()(Pe,2),Ae=ye[0],Ue=ye[1],ke=(0,A.useState)([]),Oe=R()(ke,2),ve=Oe[0],Ce=Oe[1];(0,A.useEffect)(function(){if(S)ae(!0),Me(S);else{var l=new Date().getTime();p.setFieldsValue({checkOrderNo:"PK".concat(l),checkOrderStatus:0,checkOrderTotal:0,details:[]})}},[S]);var Me=function(){var l=P()(E()().mark(function v(n){var i,o;return E()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return q(!0),m.prev=1,m.next=4,(0,_.YT)(n);case 4:i=m.sent,o=i.data,o.details&&(o.details=o.details.map(function(u){var s;return B()(B()({},u),{},{areaName:(s=X.get(u.areaId))===null||s===void 0?void 0:s.areaName,newInventoryDetail:!u.inventoryDetailId,quantity:Number(u.quantity),checkQuantity:Number(u.checkQuantity)})})),p.setFieldsValue(o);case 8:return m.prev=8,q(!1),m.finish(8);case 11:case"end":return m.stop()}},v,null,[[1,,8,11]])}));return function(n){return l.apply(this,arguments)}}(),be=function(){var l=P()(E()().mark(function v(){var n,i,o,d;return E()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,p.validateFields(["warehouseId"]);case 2:if(n=u.sent,n.warehouseId){u.next=6;break}return k.ZP.error("\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01"),u.abrupt("return");case 6:return ae(!0),q(!0),u.prev=8,u.next=11,(0,y.tB)({warehouseId:n.warehouseId,areaId:n.areaId});case 11:i=u.sent,o=p.getFieldValue("details")||[],d=i.data.filter(function(s){return!o.find(function(T){return T.inventoryDetailId===s.id})}).map(function(s){var T;return{itemSku:s.itemSku,inventoryDetailId:s.id,skuId:s.itemSku.id,warehouseId:s.warehouseId,areaId:s.areaId,quantity:Number(s.remainQuantity),checkQuantity:Number(s.remainQuantity),areaName:(T=X.get(s.areaId))===null||T===void 0?void 0:T.areaName,batchNo:s.batchNo,productionDate:s.productionDate,expirationDate:s.expirationDate,receiptTime:s.createTime,newInventoryDetail:!1}}),p.setFieldsValue({details:[].concat(g()(o),g()(d))});case 15:return u.prev=15,q(!1),u.finish(15);case 18:case"end":return u.stop()}},v,null,[[8,,15,18]])}));return function(){return l.apply(this,arguments)}}(),je=function(){var v=p.getFieldValue("details")||[],n=0;v.forEach(function(i){i.quantity!==i.checkQuantity&&(n+=i.checkQuantity-i.quantity)}),p.setFieldsValue({checkOrderTotal:n})},Te=function(){var l=P()(E()().mark(function v(n,i){var o;return E()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:n.id?$.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var u=P()(E()().mark(function T(){var De;return E()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,f.mQ)(n.id);case 2:De=p.getFieldValue("details"),De.splice(i,1),p.setFieldsValue({details:De}),k.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return se.stop()}},T)}));function s(){return u.apply(this,arguments)}return s}()}):(o=p.getFieldValue("details"),o.splice(i,1),p.setFieldsValue({details:o}));case 1:case"end":return m.stop()}},v)}));return function(n,i){return l.apply(this,arguments)}}(),Ie=function(){var l=P()(E()().mark(function v(){var n,i,o,d,m=arguments;return E()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=m.length>0&&m[0]!==void 0?m[0]:0,s.prev=1,s.next=4,p.validateFields();case 4:if(i=p.getFieldsValue(),o=(i.details||[]).map(function(T){return{id:T.id,checkOrderId:i.id,skuId:T.skuId,quantity:T.quantity,checkQuantity:T.checkQuantity,inventoryDetailId:T.inventoryDetailId,warehouseId:i.warehouseId,areaId:T.areaId,batchNo:T.batchNo,productionDate:T.productionDate,expirationDate:T.expirationDate,receiptTime:T.receiptTime}}),d=B()(B()({},i),{},{checkOrderStatus:n,details:o}),!i.id){s.next=12;break}return s.next=10,(0,_.tE)(d);case 10:s.next=14;break;case 12:return s.next=14,(0,_.Qz)(d);case 14:k.ZP.success("\u64CD\u4F5C\u6210\u529F"),I(),s.next=21;break;case 18:s.prev=18,s.t0=s.catch(1),k.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 21:case"end":return s.stop()}},v,null,[[1,18]])}));return function(){return l.apply(this,arguments)}}(),we=function(){var l=P()(E()().mark(function v(){var n,i,o,d;return E()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,p.validateFields();case 3:if(n=p.getFieldsValue(),i=(n.details||[]).filter(function(s){return s.newInventoryDetail}),!(i.length&&i.some(function(s){return!s.areaId}))){u.next=8;break}return k.ZP.error("\u8BF7\u9009\u62E9\u5E93\u533A"),u.abrupt("return");case 8:return o=(n.details||[]).map(function(s){return{id:s.id,checkOrderId:n.id,skuId:s.skuId,quantity:s.quantity,checkQuantity:s.checkQuantity,warehouseId:n.warehouseId,areaId:s.areaId,batchNo:s.batchNo,productionDate:s.productionDate,expirationDate:s.expirationDate,receiptTime:s.receiptTime,inventoryDetailId:s.inventoryDetailId}}),d=B()(B()({},n),{},{details:o}),u.next=12,(0,_.BF)(d);case 12:k.ZP.success("\u76D8\u5E93\u6210\u529F"),I(),u.next=19;break;case 16:u.prev=16,u.t0=u.catch(0),k.ZP.error("\u64CD\u4F5C\u5931\u8D25");case 19:case"end":return u.stop()}},v,null,[[0,16]])}));return function(){return l.apply(this,arguments)}}(),Fe=function(){var l=P()(E()().mark(function v(){return E()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:$.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u76D8\u5E93\u5355\u5417\uFF1F",onOk:function(){return Ie(-1)}});case 1:case"end":return i.stop()}},v)}));return function(){return l.apply(this,arguments)}}(),Se=[{title:"\u5546\u54C1\u4FE1\u606F",dataIndex:["itemSku","item","itemName"],render:function(v,n){var i,o,d,m;return(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{children:[(i=n.itemSku)===null||i===void 0||(i=i.item)===null||i===void 0?void 0:i.itemName,((o=n.itemSku)===null||o===void 0||(o=o.item)===null||o===void 0?void 0:o.itemCode)&&"(".concat(n.itemSku.item.itemCode,")")]}),((d=n.itemSku)===null||d===void 0||(d=d.item)===null||d===void 0?void 0:d.itemBrand)&&(0,e.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(m=ce.get(n.itemSku.item.itemBrand))===null||m===void 0?void 0:m.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(v,n){return(0,e.jsx)("div",{children:n.itemSku?"".concat(n.itemSku.skuName).concat(n.itemSku.barcode?"(".concat(n.itemSku.barcode,")"):""):"\u8BF7\u9009\u62E9\u5546\u54C1"})}},{title:"\u5E93\u533A",render:function(v,n){return n.newInventoryDetail?(0,e.jsx)(M.Z,{value:n.areaId,onChange:function(o){var d=p.getFieldValue("details"),m=d.findIndex(function(s){return s.skuId===n.skuId});if(m!==-1){var u;d[m].areaId=o,d[m].areaName=(u=X.get(o))===null||u===void 0?void 0:u.areaName,p.setFieldsValue({details:d})}},style:{width:"100%"},children:ve.filter(function(i){return i.warehouseId===p.getFieldValue("warehouseId")}).map(function(i){return(0,e.jsx)(O,{value:i.id,children:i.areaName},i.id)})}):(0,e.jsx)("div",{children:n.areaName})}},{title:"\u6279\u53F7",render:function(v,n){return n.newInventoryDetail?(0,e.jsx)(Q.Z,{value:n.batchNo,onChange:function(o){var d=p.getFieldValue("details"),m=d.findIndex(function(u){return u.skuId===n.skuId});m!==-1&&(d[m].batchNo=o.target.value,p.setFieldsValue({details:d}))}}):(0,e.jsx)("div",{children:n.batchNo})}},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",render:function(v,n){return n.newInventoryDetail?(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[(0,e.jsx)("span",{style:{marginRight:8},children:"\u751F\u4EA7\u65E5\u671F\uFF1A"}),(0,e.jsx)(F.default,{value:n.productionDate?D()(n.productionDate):null,onChange:function(o){var d=p.getFieldValue("details"),m=d.findIndex(function(u){return u.skuId===n.skuId});m!==-1&&(d[m].productionDate=o?o.format("YYYY-MM-DD HH:mm:ss"):void 0,p.setFieldsValue({details:d}))},style:{width:150}})]}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,e.jsx)("span",{style:{marginRight:8},children:"\u8FC7\u671F\u65E5\u671F\uFF1A"}),(0,e.jsx)(F.default,{value:n.expirationDate?D()(n.expirationDate):null,onChange:function(o){var d=p.getFieldValue("details"),m=d.findIndex(function(u){return u.skuId===n.skuId});m!==-1&&(d[m].expirationDate=o?o.format("YYYY-MM-DD HH:mm:ss"):void 0,p.setFieldsValue({details:d}))},style:{width:150}})]})]}):(0,e.jsxs)("div",{children:[n.productionDate&&(0,e.jsxs)("div",{children:["\u751F\u4EA7\u65E5\u671F\uFF1A",n.productionDate.substring(0,10)]}),n.expirationDate&&(0,e.jsxs)("div",{children:["\u8FC7\u671F\u65E5\u671F\uFF1A",n.expirationDate.substring(0,10)]})]})}},{title:"\u5165\u5E93\u65E5\u671F",render:function(v,n){return n.newInventoryDetail?(0,e.jsx)(F.default,{value:n.receiptTime?D()(n.receiptTime):null,onChange:function(o){var d=p.getFieldValue("details"),m=d.findIndex(function(u){return u.skuId===n.skuId});m!==-1&&(d[m].receiptTime=o?o.format("YYYY-MM-DD HH:mm:ss"):void 0,p.setFieldsValue({details:d}))},style:{width:150}}):(0,e.jsx)("div",{children:D()(n.receiptTime).format("YYYY-MM-DD")})}},{title:"\u8D26\u9762\u5E93\u5B58",render:function(v,n){return(0,e.jsx)(a.Z,{value:Number(n.quantity),precision:0})}},{title:"\u76C8\u4E8F\u6570",render:function(v,n){return(0,e.jsx)(a.Z,{value:Number(n.checkQuantity)-Number(n.quantity),precision:0})}},{title:"\u5B9E\u9645\u5E93\u5B58",render:function(v,n){return(0,e.jsx)(h.Z,{value:n.checkQuantity,onChange:function(o){var d=p.getFieldValue("details"),m=d.findIndex(function(u){return u.skuId===n.skuId});m!==-1&&(d[m].checkQuantity=o,p.setFieldsValue({details:d}),je())},min:0,style:{width:"100%"}})}},{title:"\u64CD\u4F5C",render:function(v,n,i){return n.newInventoryDetail&&(0,e.jsx)(C.ZP,{icon:(0,e.jsx)(le.Z,{}),type:"link",danger:!0,onClick:function(){return Te(n,i)},children:"\u5220\u9664"})}}];return(0,e.jsx)(de._z,{children:ee?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.Z,{title:"\u76D8\u5E93\u5355\u57FA\u672C\u4FE1\u606F",loading:W,style:{marginBottom:24},children:(0,e.jsx)(j.Z,{form:p,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left",children:(0,e.jsxs)(ie.Z,{gutter:24,children:[(0,e.jsx)(H.Z,{xs:24,sm:12,md:8,children:(0,e.jsx)(j.Z.Item,{label:"\u76D8\u5E93\u5355\u53F7",name:"checkOrderNo",rules:[{required:!0,message:"\u76D8\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(Q.Z,{disabled:!!S,style:{width:"100%"}})})}),(0,e.jsx)(H.Z,{xs:24,sm:12,md:8,children:(0,e.jsx)(j.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,e.jsx)(M.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",disabled:ee,style:{width:"100%"},onChange:function(v){p.setFieldsValue({areaId:void 0}),Ce(Array.from(X.values()).filter(function(n){return n.warehouseId===v}))},children:Array.from(J.values()).map(function(l){return(0,e.jsx)(O,{value:l.id,children:l.warehouseName},l.id)})})})}),(0,e.jsx)(H.Z,{xs:24,sm:12,md:8,children:(0,e.jsx)(j.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,e.jsx)(M.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:!p.getFieldValue("warehouseId")||ee,style:{width:"100%"},children:ve.filter(function(l){return l.warehouseId===p.getFieldValue("warehouseId")}).map(function(l){return(0,e.jsx)(O,{value:l.id,children:l.areaName},l.id)})})})}),(0,e.jsx)(H.Z,{span:16,children:(0,e.jsx)(j.Z.Item,{label:"\u5907\u6CE8",name:"remark",labelCol:{span:3},wrapperCol:{span:21},children:(0,e.jsx)(U,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",maxLength:100,rows:2,showCount:!0,style:{width:"100%"}})})}),(0,e.jsx)(H.Z,{xs:8,sm:8,md:8,children:(0,e.jsx)(j.Z.Item,{label:"\u76C8\u4E8F\u6570",name:"checkOrderTotal",children:(0,e.jsx)(h.Z,{disabled:!0,precision:0,style:{width:"100%"}})})})]})})}),(0,e.jsxs)(t.Z,{title:"\u5546\u54C1\u660E\u7EC6",className:"mt10",loading:W,children:[(0,e.jsxs)("div",{style:{marginBottom:16},children:[(0,e.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,e.jsx)(C.ZP,{type:"text",onClick:function(){$.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"})},children:xe?"\u5F00\u542F":"\u5173\u95ED"}),(0,e.jsx)(C.ZP,{type:"primary",style:{float:"right"},icon:(0,e.jsx)(oe.Z,{}),disabled:!p.getFieldValue("warehouseId"),onClick:function(){},children:"\u65B0\u589E\u5E93\u5B58"})]}),(0,e.jsx)(ue.Z,{columns:Se,dataSource:p.getFieldValue("details")||[],rowKey:"skuId",pagination:!1,scroll:{x:"max-content"}})]}),(0,e.jsx)("div",{style:{position:"fixed",bottom:0,right:0,width:"100%",padding:"16px",background:"#fff",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.15)"},children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(C.ZP,{onClick:we,type:"primary",style:{marginRight:8},children:"\u5B8C\u6210\u76D8\u5E93"}),S&&(0,e.jsx)(C.ZP,{onClick:Fe,danger:!0,children:"\u4F5C\u5E9F"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(C.ZP,{onClick:function(){return Ie(0)},type:"primary",style:{marginRight:8},children:"\u6682\u5B58"}),(0,e.jsx)(C.ZP,{onClick:I,children:"\u53D6\u6D88"})]})]})})]}):(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsx)(t.Z,{style:{width:"500px"},children:(0,e.jsxs)(j.Z,{form:p,layout:"vertical",children:[(0,e.jsx)(j.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,e.jsx)(M.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",onChange:function(v){p.setFieldsValue({areaId:void 0}),Ce(Array.from(X.values()).filter(function(n){return n.warehouseId===v}))},children:Array.from(J.values()).map(function(l){return(0,e.jsx)(O,{value:l.id,children:l.warehouseName},l.id)})})}),(0,e.jsx)(j.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,e.jsx)(M.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",children:ve.map(function(l){return(0,e.jsx)(O,{value:l.id,children:l.areaName},l.id)})})}),(0,e.jsx)(j.Z.Item,{children:(0,e.jsx)(C.ZP,{type:"primary",onClick:be,style:{width:"100%"},children:"\u5F00\u59CB\u76D8\u5E93"})})]})})})})};K.default=b},73877:function(te,K,r){r.d(K,{BF:function(){return j},Qz:function(){return A},YT:function(){return R},_q:function(){return $},rX:function(){return G},tE:function(){return Q}});var x=r(90228),g=r.n(x),V=r(87999),E=r.n(V),w=r(61032),B=r(18606);function G(a){return P.apply(this,arguments)}function P(){return P=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrder/list",{method:"GET",params:h}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function z(a,h){return downLoadXlsx("/api/wms/checkOrder/export",{params:a},"checkOrder_".concat(new Date().getTime(),".xlsx"))}function R(a){return(0,w.request)("/api/wms/checkOrder/".concat(a),{method:"GET"})}function A(a){return L.apply(this,arguments)}function L(){return L=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrder",{method:"POST",data:h}));case 1:case"end":return t.stop()}},a)})),L.apply(this,arguments)}function Q(a){return M.apply(this,arguments)}function M(){return M=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrder",{method:"PUT",data:h}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){return k=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrder/check",{method:"POST",data:h}));case 1:case"end":return t.stop()}},a)})),k.apply(this,arguments)}function $(a){return F.apply(this,arguments)}function F(){return F=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrder/".concat(h),{method:"DELETE"}));case 1:case"end":return t.stop()}},a)})),F.apply(this,arguments)}},54936:function(te,K,r){r.d(K,{WB:function(){return $},al:function(){return G},kW:function(){return z},mQ:function(){return j}});var x=r(90228),g=r.n(x),V=r(87999),E=r.n(V),w=r(61032),B=r(18606);function G(a){return P.apply(this,arguments)}function P(){return P=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrderDetail/list",{method:"GET",params:h}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function z(a,h){return(0,B.su)("/api/wms/checkOrderDetail/export",{params:a},"checkOrderDetail_".concat(new Date().getTime(),".xlsx"))}function R(a){return request("/api/wms/checkOrderDetail/".concat(a),{method:"GET"})}function A(a){return L.apply(this,arguments)}function L(){return L=_asyncToGenerator(_regeneratorRuntime().mark(function a(h){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/checkOrderDetail",{method:"POST",data:h}));case 1:case"end":return t.stop()}},a)})),L.apply(this,arguments)}function Q(a){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function a(h){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/checkOrderDetail",{method:"PUT",data:h}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){return k=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrderDetail/".concat(h),{method:"DELETE"}));case 1:case"end":return t.stop()}},a)})),k.apply(this,arguments)}function $(a){return F.apply(this,arguments)}function F(){return F=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/checkOrderDetail/list/".concat(h),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),F.apply(this,arguments)}},90023:function(te,K,r){r.d(K,{fN:function(){return G},tB:function(){return z}});var x=r(90228),g=r.n(x),V=r(87999),E=r.n(V),w=r(61032),B=r(18606);function G(a){return P.apply(this,arguments)}function P(){return P=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/inventoryDetail/list",{method:"GET",params:h}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function z(a){return R.apply(this,arguments)}function R(){return R=E()(g()().mark(function a(h){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,w.request)("/api/wms/inventoryDetail/listNoPage",{method:"GET",params:h}));case 1:case"end":return t.stop()}},a)})),R.apply(this,arguments)}function A(a,h){return downLoadXlsx("/api/wms/inventoryDetail/export",{params:a},"inventoryDetail_".concat(new Date().getTime(),".xlsx"))}function L(a){return request("/api/wms/inventoryDetail/".concat(a),{method:"GET"})}function Q(a){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function a(h){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail",{method:"POST",data:h}));case 1:case"end":return t.stop()}},a)})),M.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function a(h){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail",{method:"PUT",data:h}));case 1:case"end":return t.stop()}},a)})),k.apply(this,arguments)}function $(a){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function a(h){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail/".concat(h),{method:"DELETE"}));case 1:case"end":return t.stop()}},a)})),F.apply(this,arguments)}},6778:function(te,K,r){r.d(K,{Z:function(){return de}});var x=r(75271),g=r(18402),V=r(94787),E=r(82187),w=r.n(E),B=r(71305),G=r(46323),P=r(5013),R=_=>{const{value:f,formatter:y,precision:c,decimalSeparator:D,groupSeparator:e="",prefixCls:U}=_;let O;if(typeof y=="function")O=y(f);else{const b=String(f),N=b.match(/^(-?)(\d*)(\.(\d+))?$/);if(!N||b==="-")O=b;else{const Z=N[1];let S=N[2]||"0",I=N[4]||"";S=S.replace(/\B(?=(\d{3})+(?!\d))/g,e),typeof c=="number"&&(I=I.padEnd(c,"0").slice(0,c>0?c:0)),I&&(I=`${D}${I}`),O=[x.createElement("span",{key:"int",className:`${U}-content-value-int`},Z,S),I&&x.createElement("span",{key:"decimal",className:`${U}-content-value-decimal`},I)]}}return x.createElement("span",{className:`${U}-content-value`},O)},A=r(38224),L=r(37951),Q=r(83509);const M=_=>{const{componentCls:f,marginXXS:y,padding:c,colorTextDescription:D,titleFontSize:e,colorTextHeading:U,contentFontSize:O,fontFamily:b}=_;return{[f]:Object.assign(Object.assign({},(0,A.Wf)(_)),{[`${f}-title`]:{marginBottom:y,color:D,fontSize:e},[`${f}-skeleton`]:{paddingTop:c},[`${f}-content`]:{color:U,fontSize:O,fontFamily:b,[`${f}-content-value`]:{display:"inline-block",direction:"ltr"},[`${f}-content-prefix, ${f}-content-suffix`]:{display:"inline-block"},[`${f}-content-prefix`]:{marginInlineEnd:y},[`${f}-content-suffix`]:{marginInlineStart:y}}})}},j=_=>{const{fontSizeHeading3:f,fontSize:y}=_;return{titleFontSize:y,contentFontSize:f}};var k=(0,L.I$)("Statistic",_=>{const f=(0,Q.IX)(_,{});return[M(f)]},j),$=function(_,f){var y={};for(var c in _)Object.prototype.hasOwnProperty.call(_,c)&&f.indexOf(c)<0&&(y[c]=_[c]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,c=Object.getOwnPropertySymbols(_);D<c.length;D++)f.indexOf(c[D])<0&&Object.prototype.propertyIsEnumerable.call(_,c[D])&&(y[c[D]]=_[c[D]]);return y},a=_=>{const{prefixCls:f,className:y,rootClassName:c,style:D,valueStyle:e,value:U=0,title:O,valueRender:b,prefix:N,suffix:Z,loading:S=!1,formatter:I,precision:Y,decimalSeparator:J=".",groupSeparator:X=",",onMouseEnter:ce,onMouseLeave:_e}=_,me=$(_,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:p,direction:Ee,className:pe,style:ne}=(0,G.dj)("statistic"),W=p("statistic",f),[q,he,re]=k(W),ee=x.createElement(R,{decimalSeparator:J,groupSeparator:X,prefixCls:W,formatter:I,precision:Y,value:U}),ae=w()(W,{[`${W}-rtl`]:Ee==="rtl"},pe,y,c,he,re),fe=(0,B.Z)(me,{aria:!0,data:!0});return q(x.createElement("div",Object.assign({},fe,{className:ae,style:Object.assign(Object.assign({},ne),D),onMouseEnter:ce,onMouseLeave:_e}),O&&x.createElement("div",{className:`${W}-title`},O),x.createElement(P.Z,{paragraph:!1,loading:S,className:`${W}-skeleton`},x.createElement("div",{style:e,className:`${W}-content`},N&&x.createElement("span",{className:`${W}-content-prefix`},N),b?b(ee):ee,Z&&x.createElement("span",{className:`${W}-content-suffix`},Z)))))};const h=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function C(_,f){let y=_;const c=/\[[^\]]*]/g,D=(f.match(c)||[]).map(b=>b.slice(1,-1)),e=f.replace(c,"[]"),U=h.reduce((b,N)=>{let[Z,S]=N;if(b.includes(Z)){const I=Math.floor(y/S);return y-=I*S,b.replace(new RegExp(`${Z}+`,"g"),Y=>{const J=Y.length;return I.toString().padStart(J,"0")})}return b},e);let O=0;return U.replace(c,()=>{const b=D[O];return O+=1,b})}function t(_,f){const{format:y=""}=f,c=new Date(_).getTime(),D=Date.now(),e=Math.max(c-D,0);return C(e,y)}var ie=function(_,f){var y={};for(var c in _)Object.prototype.hasOwnProperty.call(_,c)&&f.indexOf(c)<0&&(y[c]=_[c]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,c=Object.getOwnPropertySymbols(_);D<c.length;D++)f.indexOf(c[D])<0&&Object.prototype.propertyIsEnumerable.call(_,c[D])&&(y[c[D]]=_[c[D]]);return y};const H=1e3/30;function ue(_){return new Date(_).getTime()}const le=_=>{const{value:f,format:y="HH:mm:ss",onChange:c,onFinish:D}=_,e=ie(_,["value","format","onChange","onFinish"]),U=(0,g.Z)(),O=x.useRef(null),b=()=>{D==null||D(),O.current&&(clearInterval(O.current),O.current=null)},N=()=>{const I=ue(f);I>=Date.now()&&(O.current=setInterval(()=>{U(),c==null||c(I-Date.now()),I<Date.now()&&b()},H))};x.useEffect(()=>(N(),()=>{O.current&&(clearInterval(O.current),O.current=null)}),[f]);const Z=(I,Y)=>t(I,Object.assign(Object.assign({},Y),{format:y})),S=I=>(0,V.Tm)(I,{title:void 0});return x.createElement(a,Object.assign({},e,{value:f,valueRender:S,formatter:Z}))};var oe=x.memo(le);a.Countdown=oe;var de=a}}]);
