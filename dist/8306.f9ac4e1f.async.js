"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8306,2545],{41009:function(he,I,r){r.d(I,{iK:function(){return Q},zc:function(){return U}});var Q=function(t){return t[t.SUCCESS=200]="SUCCESS",t[t.ERROR=-1]="ERROR",t[t.TIMEOUT=401]="TIMEOUT",t.TYPE="success",t}({}),j=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t}({}),U=function(t){return t.JSON="application/json;charset=UTF-8",t.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",t.FORM_DATA="multipart/form-data;charset=UTF-8",t}({})},75883:function(he,I,r){r.r(I);var Q=r(26068),j=r.n(Q),U=r(90228),t=r.n(U),ae=r(87999),f=r.n(ae),A=r(48305),e=r.n(A),p=r(75271),X=r(61032),x=r(79654),y=r(48625),S=r(51162),l=r(1153),i=r(16621),P=r(30426),F=r(90607),$=r(54936),C=r(52676),Z=(0,p.forwardRef)(function(J,q){var ee=J.open,K=J.checkOrderNo,V=J.onCancel,o=(0,p.useState)(),v=e()(o,2),B=v[0],s=v[1],k=(0,p.useRef)(),Y=(0,p.useState)([]),n=e()(Y,2),h=n[0],Oe=n[1],_e=(0,p.useState)(),se=e()(_e,2),Te=se[0],oe=se[1],me=(0,p.useState)(!1),fe=e()(me,2),te=fe[0],Ee=fe[1],G=(0,X.useAccess)(),xe=(0,X.useModel)("wms"),Ce=xe.areaMap;(0,p.useImperativeHandle)(q,function(){return{setCheckOrderId:s,handleQuery:function(){var E;(E=k.current)===null||E===void 0||E.reload()}}});var ue=function(){var M=f()(t()().mark(function E(c){var _,D;return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(_=x.ZP.loading("\u6B63\u5728\u5220\u9664"),c){O.next=3;break}return O.abrupt("return",!0);case 3:return O.prev=3,O.next=6,(0,$.mQ)(c.map(function(z){return z.id}).join(","));case 6:return D=O.sent,_(),D.code===200?x.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):x.ZP.error(D.msg),O.abrupt("return",!0);case 12:return O.prev=12,O.t0=O.catch(3),_(),x.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),O.abrupt("return",!1);case 17:case"end":return O.stop()}},E,null,[[3,12]])}));return function(c){return M.apply(this,arguments)}}(),Ae=function(){var M=f()(t()().mark(function E(){var c;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return c=x.ZP.loading("\u6B63\u5728\u5BFC\u51FA"),D.prev=1,D.next=4,(0,$.kW)({checkOrderId:B});case 4:return c(),x.ZP.success("\u5BFC\u51FA\u6210\u529F"),D.abrupt("return",!0);case 9:return D.prev=9,D.t0=D.catch(1),c(),x.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),D.abrupt("return",!1);case 14:case"end":return D.stop()}},E,null,[[1,9]])}));return function(){return M.apply(this,arguments)}}(),ce=[{title:"\u5546\u54C1\u540D\u79F0",dataIndex:["itemSku","item","itemName"],valueType:"text"},{title:"\u89C4\u683C\u540D\u79F0",dataIndex:["itemSku","skuName"],valueType:"text"},{title:"\u5E93\u533A",dataIndex:"areaName",valueType:"text",render:function(E,c){var _;return(_=Ce.get(c.areaId))===null||_===void 0?void 0:_.areaName}},{title:"\u6279\u53F7",dataIndex:"batchNo",valueType:"text"},{title:"\u8D26\u9762\u5E93\u5B58",dataIndex:"quantity",valueType:"digit",align:"right"},{title:"\u76C8\u4E8F\u6570",valueType:"digit",align:"right",render:function(E,c){var _=c.checkQuantity/1,D=c.quantity/1;return _-D}},{title:"\u5B9E\u9645\u5E93\u5B58",dataIndex:"checkQuantity",valueType:"digit",align:"right"},{title:"\u64CD\u4F5C",dataIndex:"option",width:"180px",valueType:"option",render:function(E,c){return[(0,C.jsx)(y.ZP,{type:"link",size:"small",hidden:!G.hasPerms("wms:checkOrderDetail:edit"),onClick:function(){oe(c)},children:"\u4FEE\u6539"},"edit"),(0,C.jsx)(y.ZP,{type:"link",size:"small",danger:!0,hidden:!G.hasPerms("wms:checkOrderDetail:remove"),onClick:f()(t()().mark(function _(){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:S.Z.confirm({title:"\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u8BE5\u76D8\u70B9\u660E\u7EC6\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var O=f()(t()().mark(function ve(){var N;return t()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,ue([c]);case 2:N=ne.sent,N&&k.current&&k.current.reload();case 4:case"end":return ne.stop()}},ve)}));function z(){return O.apply(this,arguments)}return z}()});case 1:case"end":return g.stop()}},_)})),children:"\u5220\u9664"},"delete")]}}];return(0,C.jsxs)(l.Z,{title:"\u76D8\u70B9\u5355\u660E\u7EC6 - ".concat(K),width:1350,open:ee,onClose:V,destroyOnClose:!0,children:[(0,C.jsx)(F.Z,{headerTitle:"\u76D8\u70B9\u660E\u7EC6\u5217\u8868",actionRef:k,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,C.jsxs)(y.ZP,{type:"primary",hidden:!G.hasPerms("wms:checkOrderDetail:add"),onClick:function(){oe(void 0)},children:[(0,C.jsx)(i.Z,{})," \u65B0\u589E"]},"add"),(0,C.jsxs)(y.ZP,{type:"primary",hidden:!G.hasPerms("wms:checkOrderDetail:export"),onClick:f()(t()().mark(function E(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Ae();case 2:case"end":return _.stop()}},E)})),children:[(0,C.jsx)(P.Z,{})," \u5BFC\u51FA"]},"export")]},request:function(){var M=f()(t()().mark(function E(c){var _;return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(B){g.next=2;break}return g.abrupt("return",{data:[],success:!0});case 2:return Ee(!0),g.prev=3,g.next=6,(0,$.al)(j()(j()({},c),{},{checkOrderId:B}));case 6:return _=g.sent,g.abrupt("return",{data:_.rows,total:_.total,success:!0});case 8:return g.prev=8,Ee(!1),g.finish(8);case 11:case"end":return g.stop()}},E,null,[[3,,8,11]])}));return function(E){return M.apply(this,arguments)}}(),columns:ce,rowSelection:{onChange:function(E,c){Oe(c)}},loading:te}),(h==null?void 0:h.length)>0&&(0,C.jsx)("div",{style:{position:"fixed",bottom:0,right:0,width:"100%",padding:"16px",background:"#fff",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.15)"},children:(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsxs)("div",{children:["\u5DF2\u9009\u62E9 ",(0,C.jsx)("a",{style:{fontWeight:600},children:h.length})," \u9879"]}),(0,C.jsx)(y.ZP,{danger:!0,hidden:!G.hasPerms("wms:checkOrderDetail:remove"),onClick:f()(t()().mark(function M(){return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:S.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,C.jsx)(ExclamationCircleOutlined,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return f()(t()().mark(function D(){var g,O,z;return t()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,ue(h);case 2:g=N.sent,g&&(Oe([]),(O=k.current)===null||O===void 0||(z=O.reloadAndRest)===null||z===void 0||z.call(O));case 4:case"end":return N.stop()}},D)}))()},onCancel:function(){}});case 1:case"end":return c.stop()}},M)})),children:"\u6279\u91CF\u5220\u9664"},"batchRemove")]})})]})});I.default=Z},22545:function(he,I,r){r.r(I);var Q=r(48305),j=r.n(Q),U=r(75271),t=r(26208),ae=r.n(t),f=r(20813),A=r.n(f),e=r(52676),p=(0,U.forwardRef)(function(x,y){var S,l=x.data;return(0,e.jsxs)("div",{ref:y,style:{padding:"20px",fontFamily:'"Microsoft YaHei", sans-serif',fontSize:"14px"},children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #eee",paddingBottom:"15px"},children:[(0,e.jsx)("div",{children:(0,e.jsxs)("h1",{style:{fontSize:"22px",fontWeight:"bold",marginBottom:"8px"},children:["\u76D8\u5E93\u5355:",l.checkOrderNo]})}),(0,e.jsx)("div",{children:(0,e.jsx)(A(),{value:l.checkOrderNo,options:{displayValue:!1,width:1,height:50,format:"CODE128"}})})]}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:"20px"},children:[(0,e.jsxs)("div",{style:{flex:1,minWidth:"250px"},children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u76D8\u5E93\u72B6\u6001\uFF1A"}),l.checkOrderStatus]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u4ED3\u5E93\uFF1A"}),l.warehouseName]})]}),(0,e.jsxs)("div",{style:{flex:1,minWidth:"250px"},children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u76C8\u4E8F\u6570\uFF1A"}),l.checkOrderTotal]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5E93\u533A\uFF1A"}),l.areaName]})]}),(0,e.jsxs)("div",{style:{flex:1,minWidth:"250px"},children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u521B\u5EFA\u4EBA\uFF1A"}),l.createBy]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u64CD\u4F5C\u4EBA\uFF1A"}),l.updateBy]})]}),l.updateBy&&(0,e.jsxs)("div",{style:{flex:1,minWidth:"250px"},children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u521B\u5EFA\u65F6\u95F4\uFF1A"}),l.createTime]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u64CD\u4F5C\u65F6\u95F4\uFF1A"}),l.updateTime]})]}),(0,e.jsx)("div",{style:{flex:1,minWidth:"250px"},children:(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5907\u6CE8\uFF1A"}),l.remark]})})]}),((S=l.table)===null||S===void 0?void 0:S.length)>0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",margin:"15px 0",border:"1px solid "},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"left",width:"20%"},children:"\u5546\u54C1\u540D\u79F0"}),(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"left",width:"15%"},children:"\u89C4\u683C"}),(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"left",width:"10%"},children:"\u5E93\u533A"}),(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"right",width:"10%"},children:"\u8D26\u9762\u5E93\u5B58"}),(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"right",width:"10%"},children:"\u76C8\u4E8F\u6570"}),(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"right",width:"10%"},children:"\u5B9E\u9645\u5E93\u5B58"}),l.table.some(function(i){return i.batchNo})&&(0,e.jsx)("th",{style:{border:"1px solid ",padding:"10px",textAlign:"left",width:"15%"},children:"\u6279\u53F7"})]})}),(0,e.jsxs)("tbody",{children:[l.table.map(function(i,P){return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px"},children:i.itemName}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px"},children:i.skuName}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px"},children:i.areaName}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px",textAlign:"right"},children:i.quantity}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px",textAlign:"right"},children:i.profitAndLoss}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px",textAlign:"right"},children:i.checkQuantity}),l.table.some(function(F){return F.batchNo})&&(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px"},children:i.batchNo||"-"})]},P)}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{colSpan:3,style:{border:"1px solid ",padding:"8px",textAlign:"right"},children:"\u5408\u8BA1"}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px",textAlign:"right"},children:l.table.reduce(function(i,P){return i+Number(P.quantity)},0)}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px",textAlign:"right",fontWeight:500},children:l.table.reduce(function(i,P){return i+Number(P.profitAndLoss)},0)}),(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px",textAlign:"right"},children:l.table.reduce(function(i,P){return i+Number(P.checkQuantity)},0)}),l.table.some(function(i){return i.batchNo})&&(0,e.jsx)("td",{style:{border:"1px solid ",padding:"8px"},children:"-"})]})]})]}),l.remark&&(0,e.jsx)("div",{style:{marginTop:"15px",padding:"10px",borderTop:"1px dashed "},children:(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5907\u6CE8\uFF1A"}),l.remark]})})]}):(0,e.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"\u6682\u65E0\u76D8\u5E93\u660E\u7EC6\u6570\u636E"})]})}),X=function(y){var S=y.data,l=y.onClose,i=y.loading,P=i===void 0?!1:i,F=y.visible,$=U.useRef(),C=U.useState(!1),Z=j()(C,2),J=Z[0],q=Z[1],ee=(0,U.useRef)(null),K=(0,t.useReactToPrint)({contentRef:ee});return(0,U.useEffect)(function(){if(F){var V=setTimeout(function(){K()},100);return function(){return clearTimeout(V)}}},[F,K]),(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{onClick:function(){return K()},children:"\u6253\u5370"}),(0,e.jsx)(p,{ref:ee,data:S})]})};I.default=X},18306:function(he,I,r){r.r(I);var Q=r(90228),j=r.n(Q),U=r(26068),t=r.n(U),ae=r(87999),f=r.n(ae),A=r(48305),e=r.n(A),p=r(75271),X=r(61032),x=r(2336),y=r(51162),S=r(79654),l=r(6778),i=r(48625),P=r(8797),F=r(14218),$=r(81114),C=r(54584),Z=r(17023),J=r(47383),q=r(16621),ee=r(73323),K=r(73877),V=r(65269),o=r(54936),v=r(75883),B=r(26563),s=r(22545),k=r(16483),Y=r.n(k),n=r(52676),h=function(){var _e,se,Te=(0,p.useState)([]),oe=e()(Te,2),me=oe[0],fe=oe[1],te=(0,X.useModel)("wms");te.getWarehouseList();var Ee=te.warehouseMap;te.getAreaList();var G=te.areaMap,xe=x.Z.useForm(),Ce=e()(xe,1),ue=Ce[0],Ae=(0,p.useRef)(),ce=(0,p.useRef)(),M=(0,p.useState)(!1),E=e()(M,2),c=E[0],_=E[1],D=(0,p.useState)([]),g=e()(D,2),O=g[0],z=g[1],ve=(0,p.useState)(0),N=e()(ve,2),Be=N[0],ne=N[1],We=(0,p.useState)({pageNum:1,pageSize:10,checkOrderNo:void 0,checkOrderStatus:-2}),ke=e()(We,2),ie=ke[0],De=ke[1],Ke=(0,p.useState)({detailVisible:!1,editVisible:!1,currentOrder:null}),Ue=e()(Ke,2),pe=Ue[0],le=Ue[1];(0,p.useEffect)(function(){(0,V.pX)("wms_check_status").then(function(d){var u=Object.values(d);fe(u)})},[]);var ye=function(){var d=f()(j()().mark(function u(){var a,m,w,re,H;return j()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return _(!0),L.prev=1,a=t()({},ie),a.checkOrderStatus===-2&&(a.checkOrderStatus=void 0),m=ue.getFieldsValue(),w=m.warehouseName,re=m.areaName,w&&(a.warehouseName=w),re&&(a.areaName=re),L.next=9,(0,K.rX)(a);case 9:H=L.sent,z(H.rows),ne(H.total);case 12:return L.prev=12,_(!1),L.finish(12);case 15:case"end":return L.stop()}},u,null,[[1,,12,15]])}));return function(){return d.apply(this,arguments)}}(),ge=function(){De(function(u){return t()(t()({},u),{},{pageNum:1})}),ye()},Ne=function(){ue.resetFields(),De({pageNum:1,pageSize:10,checkOrderNo:void 0,checkOrderStatus:-2}),ge()},we=function(){le({detailVisible:!1,editVisible:!0,currentOrder:null})},$e=function(){var d=f()(j()().mark(function u(a){return j()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:y.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u76D8\u5E93\u5355\u3010".concat(a.checkOrderNo,"\u3011\u5417\uFF1F"),onOk:function(){var re=f()(j()().mark(function b(){return j()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return _(!0),T.prev=1,T.next=4,(0,K._q)(a.id);case 4:S.ZP.success("\u5220\u9664\u6210\u529F"),ye(),T.next=11;break;case 8:T.prev=8,T.t0=T.catch(1),T.t0===409&&y.Z.error({title:"\u7CFB\u7EDF\u63D0\u793A",content:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u76D8\u5E93\u5355\u3010",a.checkOrderNo,"\u3011\u5DF2\u76D8\u5E93\u5B8C\u6210\uFF0C\u4E0D\u80FD\u5220\u9664\uFF01"]}),(0,n.jsx)("div",{children:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5904\u7406\uFF01"})]})});case 11:return T.prev=11,_(!1),T.finish(11);case 14:case"end":return T.stop()}},b,null,[[1,8,11,14]])}));function H(){return re.apply(this,arguments)}return H}()});case 1:case"end":return w.stop()}},u)}));return function(a){return d.apply(this,arguments)}}(),Ze=function(u){le({detailVisible:!1,editVisible:!0,currentOrder:u})},Ve=function(u){var a,m;le({detailVisible:!0,editVisible:!1,currentOrder:u}),(a=ce.current)===null||a===void 0||a.setCheckOrderId(u.id),(m=ce.current)===null||m===void 0||m.handleQuery()},Ye=(0,p.useState)(!1),Se=e()(Ye,2),Je=Se[0],qe=Se[1],Qe=(0,p.useState)(null),Re=e()(Qe,2),Pe=Re[0],je=Re[1],Ge=(0,p.useState)(!1),Ie=e()(Ge,2),er=Ie[0],Fe=Ie[1],ze=function(){var d=f()(j()().mark(function u(a){var m,w,re,H,b,L,T;return j()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return Fe(!0),R.prev=1,R.next=4,Promise.all([(0,K.YT)(a.id),(0,o.WB)(a.id)]);case 4:re=R.sent,H=e()(re,2),b=H[0],L=H[1],T=L.data.map(function(W){var de,Me,be;return{itemName:((de=W.itemSku)===null||de===void 0||(de=de.item)===null||de===void 0?void 0:de.itemName)||"-",skuName:((Me=W.itemSku)===null||Me===void 0?void 0:Me.skuName)||"-",areaName:((be=G.get(W.areaId))===null||be===void 0?void 0:be.areaName)||"-",quantity:Number(W.quantity).toFixed(0),profitAndLoss:Number(W.checkQuantity-W.quantity).toFixed(0),checkQuantity:Number(W.checkQuantity).toFixed(0),batchNo:W.batchNo||void 0,productionDate:W.productionDate?Y()(W.productionDate).format("YYYY-MM-DD"):void 0,expirationDate:W.expirationDate?Y()(W.expirationDate).format("YYYY-MM-DD"):void 0}}),je({checkOrderNo:b.data.checkOrderNo,warehouseName:((m=Ee.get(b.data.warehouseId))===null||m===void 0?void 0:m.warehouseName)||"-",areaName:((w=G.get(b.data.areaId))===null||w===void 0?void 0:w.areaName)||"-",checkOrderStatus:Le(b.data),checkOrderTotal:Number(b.data.checkOrderTotal).toFixed(0),createBy:b.data.createBy,createTime:Y()(b.data.createTime).format("YYYY-MM-DD HH:mm"),updateBy:b.data.updateBy,updateTime:b.data.updateTime?Y()(b.data.updateTime).format("YYYY-MM-DD HH:mm"):void 0,remark:b.data.remark,table:T}),R.next=16;break;case 12:R.prev=12,R.t0=R.catch(1),S.ZP.error("\u83B7\u53D6\u6253\u5370\u6570\u636E\u5931\u8D25"),console.error("Print error:",R.t0);case 16:return R.prev=16,Fe(!1),R.finish(16);case 19:case"end":return R.stop()}},u,null,[[1,12,16,19]])}));return function(a){return d.apply(this,arguments)}}(),He=function(u){var a;return(a=te.warehouseMap.get(u.warehouseId))===null||a===void 0?void 0:a.warehouseName},Le=function(u){var a;return(a=me.find(function(m){return m.value==u.checkOrderStatus}))===null||a===void 0?void 0:a.label},Xe=[{title:"\u5355\u53F7",dataIndex:"checkOrderNo",align:"left",width:120},{title:"\u4ED3\u5E93/\u5E93\u533A",align:"left",width:150,render:function(u,a){var m;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u4ED3\u5E93\uFF1A",He(a)]}),a.areaId&&(0,n.jsxs)("div",{children:["\u5E93\u533A\uFF1A",(m=G.get(a.areaId))===null||m===void 0?void 0:m.areaName]})]})}},{title:"\u76D8\u5E93\u72B6\u6001",dataIndex:"checkOrderStatus",align:"center",width:100,render:function(u,a){return(0,n.jsx)("span",{children:Le(a)})}},{title:"\u76C8\u4E8F\u6570",align:"right",width:80,render:function(u,a){return(0,n.jsx)(l.Z,{value:Number(a.checkOrderTotal),precision:0})}},{title:"\u521B\u5EFA/\u64CD\u4F5C",align:"left",width:120,render:function(u,a){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u521B\u5EFA\uFF1A",a.createBy]}),a.updateBy&&(0,n.jsxs)("div",{children:["\u64CD\u4F5C\uFF1A",a.updateBy]})]})}},{title:"\u521B\u5EFA\u65F6\u95F4/\u64CD\u4F5C\u65F6\u95F4",align:"left",width:150,render:function(u,a){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u521B\u5EFA\uFF1A",Y()(a.createTime).format("MM-DD HH:mm")]}),(0,n.jsxs)("div",{children:["\u64CD\u4F5C\uFF1A",Y()(a.updateTime).format("MM-DD HH:mm")]})]})}},{title:"\u5907\u6CE8",dataIndex:"remark",width:120},{title:"\u64CD\u4F5C",align:"right",width:120,render:function(u,a){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(i.ZP,{type:"link",onClick:function(){return Ze(a)},disabled:[-1,1].includes(a.checkOrderStatus),children:"\u4FEE\u6539"}),(0,n.jsx)(i.ZP,{type:"link",onClick:function(){return Ve(a)},children:"\u67E5\u770B"})]}),(0,n.jsxs)("div",{style:{marginTop:5},children:[(0,n.jsx)(i.ZP,{type:"link",danger:!0,onClick:function(){return $e(a)},disabled:a.checkOrderStatus===1,children:"\u5220\u9664"}),(0,n.jsx)(i.ZP,{type:"link",onClick:function(){return ze(a)},children:"\u6253\u5370"})]})]})}}];return(0,p.useEffect)(function(){ye()},[ie.current,ie.pageSize,ie.checkOrderStatus]),(0,n.jsxs)(ee._z,{children:[(0,n.jsx)(P.Z,{children:(0,n.jsxs)(x.Z,{form:ue,layout:"inline",labelAlign:"left",style:{display:"flex",flexWrap:"nowrap",gap:16},children:[(0,n.jsx)(x.Z.Item,{label:"\u76D8\u5E93\u72B6\u6001",name:"checkOrderStatus",initialValue:-2,style:{marginBottom:0,flex:1},children:(0,n.jsxs)(F.ZP.Group,{onChange:function(u){De(function(a){return t()(t()({},a),{},{checkOrderStatus:u.target.value})}),ge()},style:{whiteSpace:"nowrap"},children:[(0,n.jsx)(F.ZP.Button,{value:-2,children:"\u5168\u90E8"}),me.map(function(d){return(0,n.jsx)(F.ZP.Button,{value:d.value,children:d.label},d.value)})]})}),(0,n.jsx)(x.Z.Item,{label:"\u76D8\u5E93\u5355\u53F7",name:"checkOrderNo",style:{marginBottom:0,flex:1},children:(0,n.jsx)($.Z,{placeholder:"\u8BF7\u8F93\u5165\u76D8\u5E93\u5355\u53F7",allowClear:!0,onPressEnter:ge,style:{minWidth:180}})}),(0,n.jsxs)(x.Z.Item,{style:{marginBottom:0},children:[(0,n.jsx)(i.ZP,{type:"primary",icon:(0,n.jsx)(Z.Z,{}),onClick:ge,children:"\u641C\u7D22"}),(0,n.jsx)(i.ZP,{icon:(0,n.jsx)(J.Z,{}),onClick:Ne,style:{marginLeft:8},children:"\u91CD\u7F6E"})]})]})}),(0,n.jsxs)(P.Z,{style:{marginTop:20},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,n.jsx)("span",{style:{fontSize:"large"},children:"\u76D8\u5E93\u5355"}),(0,n.jsx)(i.ZP,{type:"primary",icon:(0,n.jsx)(q.Z,{}),onClick:we,children:"\u65B0\u589E"})]}),(0,n.jsx)(C.Z,{loading:c,dataSource:O,columns:Xe,rowKey:"id",pagination:{current:ie.pageNum,pageSize:ie.pageSize,total:Be,onChange:function(u,a){De(function(m){return t()(t()({},m),{},{pageNum:u,pageSize:a})})}},size:"small"})]}),(0,n.jsx)(y.Z,{title:pe.currentOrder?"\u4FEE\u6539\u76D8\u5E93\u5355":"\u65B0\u589E\u76D8\u5E93\u5355",open:pe.editVisible,onCancel:function(){return le(function(u){return t()(t()({},u),{},{editVisible:!1})})},footer:null,width:"80%",destroyOnClose:!0,children:(0,n.jsx)(B.default,{id:(_e=pe.currentOrder)===null||_e===void 0?void 0:_e.id,onCancel:function(){return le(function(u){return t()(t()({},u),{},{editVisible:!1})})}})}),(0,n.jsx)(v.default,{ref:ce,open:pe.detailVisible,checkOrderNo:((se=pe.currentOrder)===null||se===void 0?void 0:se.checkOrderNo)||null,onCancel:function(){return le(function(u){return t()(t()({},u),{},{detailVisible:!1})})}}),(0,n.jsx)(y.Z,{open:!!Pe,onCancel:function(){return je(null)},footer:null,width:800,children:Pe&&(0,n.jsx)(s.default,{data:Pe,onClose:function(){return je(null)},visible:!1})})]})};I.default=h},65269:function(he,I,r){r.d(I,{Hr:function(){return i},QK:function(){return K},Vd:function(){return y},a7:function(){return C},jK:function(){return X},n2:function(){return ee},oH:function(){return F},pX:function(){return S},sF:function(){return J}});var Q=r(26068),j=r.n(Q),U=r(90228),t=r.n(U),ae=r(87999),f=r.n(ae),A=r(61032),e=r(41009),p=r(18606);function X(o){return x.apply(this,arguments)}function x(){return x=f()(t()().mark(function o(v){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,A.request)("/api/system/dict/type/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:v}));case 1:case"end":return s.stop()}},o)})),x.apply(this,arguments)}function y(o){return(0,A.request)("/api/system/dict/type/".concat(o),{method:"GET"})}function S(o,v){return l.apply(this,arguments)}function l(){return l=f()(t()().mark(function o(v,B){var s,k;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("getDictValueEnum resp:",v),n.next=3,(0,A.request)("/api/system/dict/data/type/".concat(v),{method:"GET"});case 3:if(s=n.sent,console.log("getDictValueEnum resp:",v,s),s.code!==e.iK.SUCCESS){n.next=11;break}return k={},s.data.forEach(function(h){k[h.dictValue]={text:h.dictLabel,label:h.dictLabel,value:B?Number(h.dictValue):h.dictValue,key:h.dictCode,listClass:h.listClass,status:h.listClass}}),n.abrupt("return",k);case 11:return n.abrupt("return",{});case 12:case"end":return n.stop()}},o)})),l.apply(this,arguments)}function i(o,v){return P.apply(this,arguments)}function P(){return P=f()(t()().mark(function o(v,B){var s,k;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,A.request)("/api/system/dict/data/type/".concat(v),{method:"GET"});case 2:if(s=n.sent,s.code!==200){n.next=6;break}return k=s.data.map(function(h){return{text:h.dictLabel,label:h.dictLabel,value:B?Number(h.dictValue):h.dictValue,key:h.dictCode,listClass:h.listClass,status:h.listClass}}),n.abrupt("return",k);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},o)})),P.apply(this,arguments)}function F(o){return $.apply(this,arguments)}function $(){return $=f()(t()().mark(function o(v){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,A.request)("/api/system/dict/type",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:v}));case 1:case"end":return s.stop()}},o)})),$.apply(this,arguments)}function C(o){return Z.apply(this,arguments)}function Z(){return Z=f()(t()().mark(function o(v){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,A.request)("/api/system/dict/type",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:v}));case 1:case"end":return s.stop()}},o)})),Z.apply(this,arguments)}function J(o){return q.apply(this,arguments)}function q(){return q=f()(t()().mark(function o(v){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,A.request)("/api/system/dict/type/".concat(v),{method:"DELETE"}));case 1:case"end":return s.stop()}},o)})),q.apply(this,arguments)}function ee(o){return(0,p.su)("/api/system/dict/type/export",{params:o},"dict_type_".concat(new Date().getTime(),".xlsx"))}function K(o){return V.apply(this,arguments)}function V(){return V=f()(t()().mark(function o(v){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,A.request)("/api/system/dict/type/optionselect",{params:j()({},v),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return s.stop()}},o)})),V.apply(this,arguments)}}}]);
