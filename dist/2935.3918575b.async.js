"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2935],{62935:function(ae,C,a){a.r(C);var j=a(90228),m=a.n(j),k=a(87999),D=a.n(k),F=a(48305),d=a.n(F),u=a(75271),f=a(64634),b=a(62222),O=a(3750),v=a(52676),z=function(i){var p=i.value,P=i.onChange,g=i.size,H=g===void 0?"middle":g,M=i.showAllLevels,c=M===void 0?!1:M,A=i.disabled,N=A===void 0?!1:A,R=i.clearable,V=R===void 0?!0:R,L=i.multiple,Z=L===void 0?!1:L,G=(0,u.useState)([]),S=d()(G,2),w=S[0],U=S[1],J=(0,u.useState)([]),T=d()(J,2),W=T[0],$=T[1],Q=(0,u.useState)([]),y=d()(Q,2),X=y[0],I=y[1],Y=(0,u.useState)(p||[]),B=d()(Y,2),x=B[0],K=B[1];(0,u.useEffect)(function(){K(p||[])},[p]),(0,u.useEffect)(function(){var o=function(){var r=D()(m()().mark(function h(){var l,t,e,n;return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Promise.all([(0,b.d8)({}),(0,O.sA)({})]);case 3:l=s.sent,t=d()(l,2),e=t[0],n=t[1],$(e.data),U(n.data),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),console.error("Failed to fetch data",s.t0);case 14:case"end":return s.stop()}},h,null,[[0,11]])}));return function(){return r.apply(this,arguments)}}();o()},[]),(0,u.useEffect)(function(){var o=function(){var h=new Map,l=new Map;w.forEach(function(e){var n=l.get(e.warehouseId);n||(n=[],l.set(e.warehouseId,n)),n.push({value:e.id,label:e.areaName,children:h.get(e.id)})});var t=W.map(function(e){return{value:e.id,label:e.warehouseName,children:l.get(e.id)}});I(c?t:t.filter(function(e){return e.children}))};o()},[W,w,c]);var q=function(r){K(r),P&&P(r)},ee=function(r){},_e=function(){window.open("/system/warehouse","_blank")},ne=function(){var r=function(){var h=D()(m()().mark(function l(){var t,e,n,E;return m()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,Promise.all([(0,b.d8)({}),(0,O.sA)({})]);case 3:t=_.sent,e=d()(t,2),n=e[0],E=e[1],$(n.data),U(E.data),_.next=14;break;case 11:_.prev=11,_.t0=_.catch(0),console.error("Failed to fetch data",_.t0);case 14:case"end":return _.stop()}},l,null,[[0,11]])}));return function(){return h.apply(this,arguments)}}();r()};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(f.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u4FE1\u606F",options:X,value:x,onChange:q,changeOnSelect:!c,multiple:Z,allowClear:V,size:H,disabled:N,showCheckedStrategy:c?f.Z.SHOW_CHILD:f.Z.SHOW_PARENT,showSearch:!0,onDropdownVisibleChange:ee})})};C.default=z}}]);
