"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9231],{19231:function(j,u,a){a.r(u),a.d(u,{default:function(){return L}});var Z=a(48305),d=a.n(Z),l=a(75271),x=a(57355),i=a(23102),f=a(8797),E=a(54584),T=a(21094),D=a(18830),m=function(){return m=Object.assign||function(c){for(var n,o=1,v=arguments.length;o<v;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(c[s]=n[s])}return c},m.apply(this,arguments)},G=(0,l.forwardRef)(function(c,n){return l.createElement(D.P,m({},c,{chartType:"Gauge",ref:n}))}),R=G,h=a(24668),A=a(90228),p=a.n(A),B=a(87999),N=a.n(B),U=a(61032);function O(){return g.apply(this,arguments)}function g(){return g=N()(p()().mark(function c(){return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,U.request)("/api/monitor/cache",{method:"GET"}));case 1:case"end":return o.stop()}},c)})),g.apply(this,arguments)}var e=a(52676),M=[{title:"col1",dataIndex:"col1",key:"col1"},{title:"col2",dataIndex:"col2",key:"col2"},{title:"col3",dataIndex:"col3",key:"col3"},{title:"col4",dataIndex:"col4",key:"col4"},{title:"col5",dataIndex:"col5",key:"col5"},{title:"col6",dataIndex:"col6",key:"col6"},{title:"col7",dataIndex:"col7",key:"col7"},{title:"col8",dataIndex:"col8",key:"col8"}],P=function(n){switch(n){case"10":return"100%";case"8":return"80%";case"6":return"60%";case"4":return"40%";case"2":return"20%";case"0":return"0%";default:return""}},K=function(){var n=(0,l.useState)([]),o=d()(n,2),v=o[0],s=o[1],Q=(0,l.useState)(0),F=d()(Q,2),y=F[0],k=F[1],z=(0,l.useState)([]),C=d()(z,2),H=C[0],$=C[1],J=(0,l.useState)([]),I=d()(J,2),V=I[0],W=I[1];return(0,l.useEffect)(function(){O().then(function(t){if(t.code===200){var r=[];r.push({col1:"Redis\u7248\u672C",col2:t.data.info.redis_version,col3:"\u8FD0\u884C\u6A21\u5F0F",col4:t.data.info.redis_mode==="standalone"?"\u5355\u673A":"\u96C6\u7FA4",col5:"\u7AEF\u53E3",col6:t.data.info.tcp_port,col7:"\u5BA2\u6237\u7AEF\u6570",col8:t.data.info.connected_clients}),r.push({col1:"\u8FD0\u884C\u65F6\u95F4(\u5929)",col2:t.data.info.uptime_in_days,col3:"\u4F7F\u7528\u5185\u5B58",col4:t.data.info.used_memory_human,col5:"\u4F7F\u7528CPU",col6:"".concat(t.data.info.used_cpu_user_children,"%"),col7:"\u5185\u5B58\u914D\u7F6E",col8:t.data.info.maxmemory_human}),r.push({col1:"AOF\u662F\u5426\u5F00\u542F",col2:t.data.info.aof_enabled==="0"?"\u5426":"\u662F",col3:"RDB\u662F\u5426\u6210\u529F",col4:t.data.info.rdb_last_bgsave_status,col5:"Key\u6570\u91CF",col6:t.data.dbSize,col7:"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3",col8:"".concat(t.data.info.instantaneous_input_kbps,"/").concat(t.data.info.instantaneous_output_kbps,"kps")}),s(r);var X=t.data.commandStats.map(function(S){return{x:S.name,y:Number(S.value)}});W(X),$(t.data.info.used_memory_human),k(t.data.info.used_memory/t.data.info.total_system_memory)}})},[]),(0,e.jsxs)("div",{children:[(0,e.jsx)(x.Z,{gutter:[24,24],children:(0,e.jsx)(i.Z,{span:24,children:(0,e.jsx)(f.Z,{title:"\u57FA\u672C\u4FE1\u606F",className:h.Z.card,children:(0,e.jsx)(E.Z,{rowKey:"col1",pagination:!1,showHeader:!1,dataSource:v,columns:M})})})}),(0,e.jsxs)(x.Z,{gutter:[24,24],children:[(0,e.jsx)(i.Z,{span:12,children:(0,e.jsx)(f.Z,{title:"\u547D\u4EE4\u7EDF\u8BA1",className:h.Z.card,children:(0,e.jsx)(T.Z,{height:320,radius:.8,innerRadius:.5,angleField:"y",colorField:"x",data:V,legend:!1,label:{position:"spider",text:function(r){return"".concat(r.x,": ").concat(r.y)}}})})}),(0,e.jsx)(i.Z,{span:12,children:(0,e.jsx)(f.Z,{title:"\u5185\u5B58\u4FE1\u606F",className:h.Z.card,children:(0,e.jsx)(R,{title:H,height:320,percent:y,formatter:P,padding:-16,style:{textContent:function(){return y.toFixed(2).toString()+"%"}},data:{target:y,total:100,name:"score",thresholds:[20,40,60,80,100]},meta:{color:{range:["#C3F71F","#B5E61D","#FFC90E","#FF7F27","#FF2518"]}}})})})]})]})},L=K},24668:function(j,u){u.Z={card:"card___fGN_T",miniChart:"miniChart___Qvm3q",chartContent:"chartContent___keQ6l",chartLoading:"chartLoading___wFM1g"}}}]);
