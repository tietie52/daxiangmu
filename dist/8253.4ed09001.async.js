"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8253],{59903:function(L,B,e){var a=e(99426),_=e(61818),f=e(86669),F=e(99960),M=e(75611),g=e(2336),T=e(81114),R=e(48625),m=e(75271),s=e(5079),D=e(52676),j=["rules","name","phoneName","fieldProps","onTiming","captchaTextRender","captchaProps"],p=m.forwardRef(function(t,l){var d=g.Z.useFormInstance(),u=(0,m.useState)(t.countDown||60),n=(0,M.Z)(u,2),r=n[0],o=n[1],c=(0,m.useState)(!1),A=(0,M.Z)(c,2),v=A[0],h=A[1],O=(0,m.useState)(),P=(0,M.Z)(O,2),x=P[0],E=P[1],N=t.rules,K=t.name,b=t.phoneName,Z=t.fieldProps,G=t.onTiming,y=t.captchaTextRender,V=y===void 0?function(I,U){return I?"".concat(U," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:y,J=t.captchaProps,z=(0,F.Z)(t,j),$=function(){var I=(0,f.Z)((0,_.Z)().mark(function U(S){return(0,_.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,E(!0),W.next=4,z.onGetCaptcha(S);case 4:E(!1),h(!0),W.next=13;break;case 8:W.prev=8,W.t0=W.catch(0),h(!1),E(!1),console.log(W.t0);case 13:case"end":return W.stop()}},U,null,[[0,8]])}));return function(S){return I.apply(this,arguments)}}();return(0,m.useImperativeHandle)(l,function(){return{startTiming:function(){return h(!0)},endTiming:function(){return h(!1)}}}),(0,m.useEffect)(function(){var I=0,U=t.countDown;return v&&(I=window.setInterval(function(){o(function(S){return S<=1?(h(!1),clearInterval(I),U||60):S-1})},1e3)),function(){return clearInterval(I)}},[v]),(0,m.useEffect)(function(){G&&G(r)},[r,G]),(0,D.jsxs)("div",{style:(0,a.Z)((0,a.Z)({},Z==null?void 0:Z.style),{},{display:"flex",alignItems:"center"}),ref:l,children:[(0,D.jsx)(T.Z,(0,a.Z)((0,a.Z)({},Z),{},{style:(0,a.Z)({flex:1,transition:"width .3s",marginRight:8},Z==null?void 0:Z.style)})),(0,D.jsx)(R.ZP,(0,a.Z)((0,a.Z)({style:{display:"block"},disabled:v,loading:x},J),{},{onClick:(0,f.Z)((0,_.Z)().mark(function I(){var U;return(0,_.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(C.prev=0,!b){C.next=9;break}return C.next=4,d.validateFields([b].flat(1));case 4:return U=d.getFieldValue([b].flat(1)),C.next=7,$(U);case 7:C.next=11;break;case 9:return C.next=11,$("");case 11:C.next=16;break;case 13:C.prev=13,C.t0=C.catch(0),console.log(C.t0);case 16:case"end":return C.stop()}},I,null,[[0,13]])})),children:V(v,r)}))]})}),i=(0,s.G)(p);B.Z=i},76202:function(L,B,e){var a=e(99426),_=e(99960),f=e(75271),F=e(50241),M=e(52676),g=["fieldProps","min","proFieldProps","max"],T=function(s,D){var j=s.fieldProps,p=s.min,i=s.proFieldProps,t=s.max,l=(0,_.Z)(s,g);return(0,M.jsx)(F.Z,(0,a.Z)({valueType:"digit",fieldProps:(0,a.Z)({min:p,max:t},j),ref:D,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:i},l))},R=f.forwardRef(T);B.Z=R},36798:function(L,B,e){var a=e(99426),_=e(99960),f=e(67867),F=e(14218),M=e(75271),g=e(5079),T=e(50241),R=e(52676),m=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],s=M.forwardRef(function(i,t){var l=i.fieldProps,d=i.options,u=i.radioType,n=i.layout,r=i.proFieldProps,o=i.valueEnum,c=(0,_.Z)(i,m);return(0,R.jsx)(T.Z,(0,a.Z)((0,a.Z)({valueType:u==="button"?"radioButton":"radio",ref:t,valueEnum:(0,f.h)(o,void 0)},c),{},{fieldProps:(0,a.Z)({options:d,layout:n},l),proFieldProps:r,filedConfig:{customLightMode:!0}}))}),D=M.forwardRef(function(i,t){var l=i.fieldProps,d=i.children;return(0,R.jsx)(F.ZP,(0,a.Z)((0,a.Z)({},l),{},{ref:t,children:d}))}),j=(0,g.G)(D,{valuePropName:"checked",ignoreWidth:!0}),p=j;p.Group=s,p.Button=F.ZP.Button,p.displayName="ProFormComponent",B.Z=p},59472:function(L,B,e){var a=e(99426),_=e(99960),f=e(67867),F=e(75271),M=e(61511),g=e(50241),T=e(52676),R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],s=function(l,d){var u=l.fieldProps,n=l.children,r=l.params,o=l.proFieldProps,c=l.mode,A=l.valueEnum,v=l.request,h=l.showSearch,O=l.options,P=(0,_.Z)(l,R),x=(0,F.useContext)(M.Z);return(0,T.jsx)(g.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,f.h)(A),request:v,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:O,mode:c,showSearch:h,getPopupContainer:x.getPopupContainer},u),ref:d,proFieldProps:o},P),{},{children:n}))},D=F.forwardRef(function(t,l){var d=t.fieldProps,u=t.children,n=t.params,r=t.proFieldProps,o=t.mode,c=t.valueEnum,A=t.request,v=t.options,h=(0,_.Z)(t,m),O=(0,a.Z)({options:v,mode:o||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},d),P=(0,F.useContext)(M.Z);return(0,T.jsx)(g.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,f.h)(c),request:A,params:n,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:P.getPopupContainer},O),ref:l,proFieldProps:r},h),{},{children:u}))}),j=F.forwardRef(s),p=D,i=j;i.SearchSelect=p,i.displayName="ProFormComponent",B.Z=i},33615:function(L,B,e){var a=e(99426),_=e(99960),f=e(75271),F=e(50241),M=e(52676),g=["fieldProps","proFieldProps"],T=function(m,s){var D=m.fieldProps,j=m.proFieldProps,p=(0,_.Z)(m,g);return(0,M.jsx)(F.Z,(0,a.Z)({ref:s,valueType:"textarea",fieldProps:D,proFieldProps:j},p))};B.Z=f.forwardRef(T)},68834:function(L,B,e){var a=e(75611),_=e(99426),f=e(99960),F=e(93954),M=e(2336),g=e(21263),T=e(18051),R=e(75271),m=e(50241),s=e(52676),D=["fieldProps","proFieldProps"],j=["fieldProps","proFieldProps"],p="text",i=function(n){var r=n.fieldProps,o=n.proFieldProps,c=(0,f.Z)(n,D);return(0,s.jsx)(m.Z,(0,_.Z)({valueType:p,fieldProps:r,filedConfig:{valueType:p},proFieldProps:o},c))},t=function(n){var r=(0,F.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),o=(0,a.Z)(r,2),c=o[0],A=o[1];return(0,s.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(h){var O,P=h.getFieldValue(n.name||[]);return(0,s.jsx)(g.Z,(0,_.Z)((0,_.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:function(E){return A(E)},content:(0,s.jsxs)("div",{style:{padding:"4px 0"},children:[(O=n.statusRender)===null||O===void 0?void 0:O.call(n,P),n.strengthText?(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:c,children:n.children}))}})},l=function(n){var r=n.fieldProps,o=n.proFieldProps,c=(0,f.Z)(n,j),A=(0,R.useState)(!1),v=(0,a.Z)(A,2),h=v[0],O=v[1];return r!=null&&r.statusRender&&c.name?(0,s.jsx)(t,{name:c.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:h,onOpenChange:O,children:(0,s.jsx)("div",{children:(0,s.jsx)(m.Z,(0,_.Z)({valueType:"password",fieldProps:(0,_.Z)((0,_.Z)({},(0,T.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(x){var E;r==null||(E=r.onBlur)===null||E===void 0||E.call(r,x),O(!1)},onClick:function(x){var E;r==null||(E=r.onClick)===null||E===void 0||E.call(r,x),O(!0)}}),proFieldProps:o,filedConfig:{valueType:p}},c))})}):(0,s.jsx)(m.Z,(0,_.Z)({valueType:"password",fieldProps:r,proFieldProps:o,filedConfig:{valueType:p}},c))},d=i;d.Password=l,d.displayName="ProFormComponent",B.Z=d},8253:function(L,B,e){e.r(B);var a=e(90228),_=e.n(a),f=e(87999),F=e.n(f),M=e(48305),g=e.n(M),T=e(75271),R=e(54733),m=e(76202),s=e(68834),D=e(59472),j=e(33615),p=e(59903),i=e(36798),t=e(2336),l=e(51162),d=e(61032),u=e(52676),n=function(o){var c=t.Z.useForm(),A=g()(c,1),v=A[0],h=o.jobGroupOptions,O=o.statusOptions;(0,T.useEffect)(function(){v.resetFields(),v.setFieldsValue({jobId:o.values.jobId,jobName:o.values.jobName,jobGroup:o.values.jobGroup,invokeTarget:o.values.invokeTarget,cronExpression:o.values.cronExpression,misfirePolicy:o.values.misfirePolicy,concurrent:o.values.concurrent,status:o.values.status,createBy:o.values.createBy,createTime:o.values.createTime,updateBy:o.values.updateBy,updateTime:o.values.updateTime,remark:o.values.remark})},[v,o]);var P=(0,d.useIntl)(),x=function(){v.submit()},E=function(){o.onCancel(),v.resetFields()},N=function(){var K=F()(_()().mark(function b(Z){return _()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:o.onSubmit(Z);case 1:case"end":return y.stop()}},b)}));return function(Z){return K.apply(this,arguments)}}();return(0,u.jsx)(l.Z,{width:640,title:P.formatMessage({id:"monitor.job.title",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),open:o.open,forceRender:!0,destroyOnClose:!0,onOk:x,onCancel:E,children:(0,u.jsxs)(R.A,{form:v,grid:!0,submitter:!1,layout:"horizontal",onFinish:N,children:[(0,u.jsx)(m.Z,{name:"jobId",label:P.formatMessage({id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01"})}]}),(0,u.jsx)(s.Z,{name:"jobName",label:P.formatMessage({id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!1,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]}),(0,u.jsx)(D.Z,{name:"jobGroup",options:h,label:P.formatMessage({id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!1,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]}),(0,u.jsx)(j.Z,{name:"invokeTarget",label:P.formatMessage({id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]}),(0,u.jsx)(p.Z,{name:"cronExpression",label:P.formatMessage({id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),captchaTextRender:function(){return"\u751F\u6210\u8868\u8FBE\u5F0F"},onGetCaptcha:function(){return new Promise(function(b,Z){Z()})}}),(0,u.jsx)(i.Z.Group,{name:"misfirePolicy",label:P.formatMessage({id:"monitor.job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",valueEnum:{0:"\u7ACB\u5373\u6267\u884C",1:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},rules:[{required:!1,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,u.jsx)(i.Z.Group,{name:"concurrent",label:P.formatMessage({id:"monitor.job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",valueEnum:{0:"\u5141\u8BB8",1:"\u7981\u6B62"},rules:[{required:!1,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,u.jsx)(i.Z.Group,{valueEnum:O,name:"status",label:P.formatMessage({id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,u.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})]})})};B.default=n}}]);
