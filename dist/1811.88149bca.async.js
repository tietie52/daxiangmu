"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1811],{36798:function(L,T,n){var s=n(99426),i=n(99960),x=n(67867),O=n(14218),F=n(75271),g=n(5079),A=n(50241),m=n(52676),t=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],v=F.forwardRef(function(l,u){var o=l.fieldProps,d=l.options,D=l.radioType,r=l.layout,e=l.proFieldProps,h=l.valueEnum,C=(0,i.Z)(l,t);return(0,m.jsx)(A.Z,(0,s.Z)((0,s.Z)({valueType:D==="button"?"radioButton":"radio",ref:u,valueEnum:(0,x.h)(h,void 0)},C),{},{fieldProps:(0,s.Z)({options:d,layout:r},o),proFieldProps:e,filedConfig:{customLightMode:!0}}))}),y=F.forwardRef(function(l,u){var o=l.fieldProps,d=l.children;return(0,m.jsx)(O.ZP,(0,s.Z)((0,s.Z)({},o),{},{ref:u,children:d}))}),j=(0,g.G)(y,{valuePropName:"checked",ignoreWidth:!0}),p=j;p.Group=v,p.Button=O.ZP.Button,p.displayName="ProFormComponent",T.Z=p},59472:function(L,T,n){var s=n(99426),i=n(99960),x=n(67867),O=n(75271),F=n(61511),g=n(50241),A=n(52676),m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],t=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],v=function(o,d){var D=o.fieldProps,r=o.children,e=o.params,h=o.proFieldProps,C=o.mode,a=o.valueEnum,b=o.request,B=o.showSearch,P=o.options,R=(0,i.Z)(o,m),Z=(0,O.useContext)(F.Z);return(0,A.jsx)(g.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,x.h)(a),request:b,params:e,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:P,mode:C,showSearch:B,getPopupContainer:Z.getPopupContainer},D),ref:d,proFieldProps:h},R),{},{children:r}))},y=O.forwardRef(function(u,o){var d=u.fieldProps,D=u.children,r=u.params,e=u.proFieldProps,h=u.mode,C=u.valueEnum,a=u.request,b=u.options,B=(0,i.Z)(u,t),P=(0,s.Z)({options:b,mode:h||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},d),R=(0,O.useContext)(F.Z);return(0,A.jsx)(g.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,x.h)(C),request:a,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({getPopupContainer:R.getPopupContainer},P),ref:o,proFieldProps:e},B),{},{children:D}))}),j=O.forwardRef(v),p=y,l=j;l.SearchSelect=p,l.displayName="ProFormComponent",T.Z=l},68834:function(L,T,n){var s=n(75611),i=n(99426),x=n(99960),O=n(93954),F=n(2336),g=n(21263),A=n(18051),m=n(75271),t=n(50241),v=n(52676),y=["fieldProps","proFieldProps"],j=["fieldProps","proFieldProps"],p="text",l=function(r){var e=r.fieldProps,h=r.proFieldProps,C=(0,x.Z)(r,y);return(0,v.jsx)(t.Z,(0,i.Z)({valueType:p,fieldProps:e,filedConfig:{valueType:p},proFieldProps:h},C))},u=function(r){var e=(0,O.Z)(r.open||!1,{value:r.open,onChange:r.onOpenChange}),h=(0,s.Z)(e,2),C=h[0],a=h[1];return(0,v.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(B){var P,R=B.getFieldValue(r.name||[]);return(0,v.jsx)(g.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(c){return c&&c.parentNode?c.parentNode:c},onOpenChange:function(c){return a(c)},content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(P=r.statusRender)===null||P===void 0?void 0:P.call(r,R),r.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:r.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},r.popoverProps),{},{open:C,children:r.children}))}})},o=function(r){var e=r.fieldProps,h=r.proFieldProps,C=(0,x.Z)(r,j),a=(0,m.useState)(!1),b=(0,s.Z)(a,2),B=b[0],P=b[1];return e!=null&&e.statusRender&&C.name?(0,v.jsx)(u,{name:C.name,statusRender:e==null?void 0:e.statusRender,popoverProps:e==null?void 0:e.popoverProps,strengthText:e==null?void 0:e.strengthText,open:B,onOpenChange:P,children:(0,v.jsx)("div",{children:(0,v.jsx)(t.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,A.Z)(e,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(Z){var c;e==null||(c=e.onBlur)===null||c===void 0||c.call(e,Z),P(!1)},onClick:function(Z){var c;e==null||(c=e.onClick)===null||c===void 0||c.call(e,Z),P(!0)}}),proFieldProps:h,filedConfig:{valueType:p}},C))})}):(0,v.jsx)(t.Z,(0,i.Z)({valueType:"password",fieldProps:e,proFieldProps:h,filedConfig:{valueType:p}},C))},d=l;d.Password=o,d.displayName="ProFormComponent",T.Z=d},31811:function(L,T,n){n.r(T);var s=n(90228),i=n.n(s),x=n(87999),O=n.n(x),F=n(48305),g=n.n(F),A=n(2336),m=n(57355),t=n(23102),v=n(86015),y=n(93200),j=n(48625),p=n(75271),l=n(61032),u=n(44058),o=n(54733),d=n(59472),D=n(68834),r=n(36798),e=n(52676),h=function(a){var b=A.Z.useForm(),B=g()(b,1),P=B[0],R=(0,p.useState)("0"),Z=g()(R,2),c=Z[0],G=Z[1],X=(0,p.useState)("curd"),$=g()(X,2),W=$[0],V=$[1],Y=(0,p.useState)(),z=g()(Y,2),k=z[0],w=z[1],q=a.menuData,M=a.tableInfo,H=a.onStepSubmit,ee=M==null?void 0:M.map(function(_){return{value:_.tableName,label:"".concat(_.tableName,"\uFF1A").concat(_.tableComment)}});if(M)for(var ne=function(){var f=M[K];if(f.tableName===a.values.subTableName){var U=[];return f.columns.forEach(function(E){U.push({value:E.columnName,label:"".concat(E.columnName,": ").concat(E.columnComment)})}),1}},K=0;K<(M==null?void 0:M.length)&&!ne();K+=1);var S=a.values.columns.map(function(_){return{value:_.columnName,label:"".concat(_.columnName,": ").concat(_.columnComment)}}),J=function(){var _=O()(i()().mark(function f(U){var E;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,P.validateFields();case 2:E=I.sent,H("gen",E,U);case 4:case"end":return I.stop()}},f)}));return function(U){return _.apply(this,arguments)}}();return(0,p.useEffect)(function(){G(a.values.genType),V(a.values.tplCategory)},[a.values.genType,a.values.tplCategory]),(0,e.jsxs)(p.Fragment,{children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(t.Z,{span:24,children:(0,e.jsxs)(o.A,{form:P,onFinish:O()(i()().mark(function _(){var f;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,P.validateFields();case 2:f=E.sent,H("gen",f);case 4:case"end":return E.stop()}},_)})),initialValues:{curd:a.values.curd,tree:a.values.tree,sub:a.values.sub,tplCategory:a.values.tplCategory,packageName:a.values.packageName,moduleName:a.values.moduleName,businessName:a.values.businessName,functionName:a.values.functionName,parentMenuId:a.values.parentMenuId,genType:a.values.genType,genPath:a.values.genPath,treeCode:a.values.treeCode,treeParentCode:a.values.treeParentCode,treeName:a.values.treeName,subTableName:a.values.subTableName,subTableFkName:a.values.subTableFkName},submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{style:{display:"none"}}},children:[(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(t.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{fieldProps:{onChange:function(f){V(f)}},valueEnum:{crud:"\u5355\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09",tree:"\u6811\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09",sub:"\u4E3B\u5B50\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09"},name:"tplCategory",label:"\u751F\u6210\u6A21\u677F",rules:[{required:!0,message:"\u9009\u62E9\u7C7B\u578B"}]})}),(0,e.jsx)(t.Z,{span:12,order:2,children:(0,e.jsx)(D.Z,{name:"packageName",label:"\u751F\u6210\u5305\u8DEF\u5F84"})})]}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(t.Z,{span:12,order:1,children:(0,e.jsx)(D.Z,{name:"moduleName",label:"\u751F\u6210\u6A21\u5757\u540D"})}),(0,e.jsx)(t.Z,{span:12,order:2,children:(0,e.jsx)(D.Z,{name:"businessName",label:"\u751F\u6210\u4E1A\u52A1\u540D"})})]}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(t.Z,{span:12,order:1,children:(0,e.jsx)(D.Z,{name:"functionName",label:"\u751F\u6210\u529F\u80FD\u540D"})}),(0,e.jsx)(t.Z,{span:12,order:2,children:(0,e.jsx)(o.A.Item,{labelCol:{span:20},name:"parentMenuId",label:"\u7236\u83DC\u5355",children:(0,e.jsx)(v.Z,{style:{width:"74%"},defaultValue:a.values.parentMenuId,treeData:q,placeholder:"\u8BF7\u9009\u62E9\u7236\u83DC\u5355"})})})]}),(0,e.jsx)(m.Z,{gutter:[16,16],children:(0,e.jsx)(t.Z,{span:24,children:(0,e.jsx)(r.Z.Group,{valueEnum:{0:"zip\u538B\u7F29\u5305",1:"\u81EA\u5B9A\u4E49\u8DEF\u5F84"},name:"genType",label:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",rules:[{required:!0,message:"\u9009\u62E9\u7C7B\u578B"}],fieldProps:{onChange:function(f){G(f.target.value)}}})})}),(0,e.jsx)(m.Z,{gutter:[16,16],children:(0,e.jsx)(t.Z,{span:24,order:1,children:(0,e.jsx)(D.Z,{hidden:c==="0",width:"md",name:"genPath",label:"\u81EA\u5B9A\u4E49\u8DEF\u5F84"})})}),(0,e.jsxs)("div",{hidden:W!=="tree",children:[(0,e.jsx)(y.Z,{orientation:"left",children:"\u5176\u4ED6\u4FE1\u606F"}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(t.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{name:"treeCode",label:"\u6811\u7F16\u7801\u5B57\u6BB5",options:S,rules:[{required:W==="tree",message:"\u6811\u7F16\u7801\u5B57\u6BB5"}]})}),(0,e.jsx)(t.Z,{span:12,order:2,children:(0,e.jsx)(d.Z,{name:"treeParentCode",label:"\u6811\u7236\u7F16\u7801\u5B57\u6BB5",options:S,rules:[{required:W==="tree",message:"\u6811\u7236\u7F16\u7801\u5B57\u6BB5"}]})})]}),(0,e.jsx)(m.Z,{gutter:[16,16],children:(0,e.jsx)(t.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{name:"treeName",label:"\u6811\u540D\u79F0\u5B57\u6BB5",options:S,rules:[{required:W==="tree",message:"\u6811\u540D\u79F0\u5B57\u6BB5"}]})})})]}),(0,e.jsxs)("div",{hidden:W!=="sub",children:[(0,e.jsx)(y.Z,{orientation:"left",children:"\u5173\u8054\u4FE1\u606F"}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(t.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{name:"subTableName",label:"\u5173\u8054\u5B50\u8868\u7684\u8868\u540D",options:ee,rules:[{required:W==="sub",message:"\u5173\u8054\u5B50\u8868\u7684\u8868\u540D"}],fieldProps:{onChange:function(f){if(P.setFieldsValue({subTableFkName:""}),M)for(var U=function(){var I=M[E];if(I.tableName===f){var Q=[];return I.columns.forEach(function(N){Q.push({value:N.columnName,label:"".concat(N.columnName,"\uFF1A").concat(N.columnComment)})}),w(Q),1}},E=0;E<(M==null?void 0:M.length)&&!U();E+=1);}}})}),(0,e.jsx)(t.Z,{span:12,order:2,children:(0,e.jsx)(d.Z,{name:"subTableFkName",options:k,label:"\u5B50\u8868\u5173\u8054\u7684\u5916\u952E\u540D",rules:[{required:W==="sub",message:"\u5B50\u8868\u5173\u8054\u7684\u5916\u952E\u540D"}]})})]})]})]})})}),(0,e.jsxs)(m.Z,{justify:"center",children:[(0,e.jsx)(t.Z,{span:4,children:(0,e.jsx)(j.ZP,{type:"primary",onClick:function(){l.history.back()},children:"\u8FD4\u56DE"})}),(0,e.jsx)(t.Z,{span:4,children:(0,e.jsx)(j.ZP,{type:"primary",className:u.Z.step_buttons,onClick:function(){J("prev")},children:"\u4E0A\u4E00\u6B65"})}),(0,e.jsx)(t.Z,{span:4,children:(0,e.jsx)(j.ZP,{type:"primary",onClick:function(){J("next")},children:"\u63D0\u4EA4"})})]})]})};T.default=h},44058:function(L,T){T.Z={steps:"steps____stZD"}}}]);
