"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5136,2687],{92687:function(Pe,R,a){a.r(R);var S=a(75271),I=a(26208),ae=a.n(I),k=a(20813),z=a.n(k),e=a(52676),H=(0,S.forwardRef)(function(W,v){var D,u=W.data;return(0,e.jsxs)("div",{ref:v,style:{padding:"20px",fontFamily:'"Microsoft YaHei", sans-serif',fontSize:"14px"},children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #eee",paddingBottom:"15px"},children:[(0,e.jsx)("div",{children:(0,e.jsxs)("h1",{style:{fontSize:"22px",fontWeight:"bold",marginBottom:"8px"},children:["\u5165\u5E93\u5355\uFF1A",u.receiptOrderNo]})}),(0,e.jsx)("div",{children:(0,e.jsx)(z(),{value:u.receiptOrderNo,options:{displayValue:!1,width:1,height:50,format:"CODE128"}})})]}),(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px",marginBottom:"20px"},children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5165\u5E93\u7C7B\u578B\uFF1A"}),u.receiptOrderType]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u4F9B\u5E94\u5546\uFF1A"}),u.merchantName]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u4ED3\u5E93\uFF1A"}),u.warehouseName]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u6570\u91CF\uFF1A"}),u.totalQuantity]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u521B\u5EFA\u4EBA\uFF1A"}),u.createBy]}),u.updateBy&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u64CD\u4F5C\u4EBA\uFF1A"}),u.updateBy]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5907\u6CE8\uFF1A"}),u.remark]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5165\u5E93\u72B6\u6001\uFF1A"}),u.receiptOrderStatus]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u8BA2\u5355\u53F7\uFF1A"}),u.orderNo]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5E93\u533A\uFF1A"}),u.areaName]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u91D1\u989D\uFF1A"}),u.payableAmount]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u521B\u5EFA\u65F6\u95F4\uFF1A"}),u.createTime]}),u.updateTime&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u64CD\u4F5C\u65F6\u95F4\uFF1A"}),u.updateTime]})]})]}),((D=u.table)===null||D===void 0?void 0:D.length)>0?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",margin:"15px 0",border:"1px solid #ddd"},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u5546\u54C1\u540D\u79F0"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u89C4\u683C"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u5E93\u533A"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u6279\u53F7"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u751F\u4EA7\u65E5\u671F"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u8FC7\u671F\u65E5\u671F"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"right"},children:"\u6570\u91CF"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"right"},children:"\u4EF7\u683C(\u5143)"})]})}),(0,e.jsxs)("tbody",{children:[u.table.map(function(l,g){return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.itemName}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.skuName}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.areaName}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.batchNo||"-"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.productionDate||"-"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:l.expirationDate||"-"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right"},children:l.quantity}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right"},children:l.amount})]},g)}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{colSpan:6,style:{border:"1px solid #ddd",padding:"8px",textAlign:"right",fontWeight:500},children:"\u5408\u8BA1"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right",fontWeight:500},children:u.table.reduce(function(l,g){return l+(Number(g.quantity)||0)},0)||0}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right",fontWeight:500},children:u.table.reduce(function(l,g){return l+(Number(g.amount)||0)},0).toFixed(2)||"0.00"})]})]})]})}):(0,e.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"\u6682\u65E0\u5165\u5E93\u660E\u7EC6\u6570\u636E"})]})}),_=function(v){var D=v.data,u=v.onClose,l=v.loading,g=l===void 0?!1:l,E=v.visible,O=(0,S.useRef)(null),C=(0,I.useReactToPrint)({contentRef:O});return(0,S.useEffect)(function(){if(E){var N=setTimeout(function(){C()},100);return function(){return clearTimeout(N)}}},[E,C]),(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{onClick:function(){return C()},children:"\u6253\u5370"}),(0,e.jsx)(H,{ref:O,data:D})]})};R.default=_},45136:function(Pe,R,a){a.r(R);var S=a(82092),I=a.n(S),ae=a(15558),k=a.n(ae),z=a(90228),e=a.n(z),H=a(26068),_=a.n(H),W=a(87999),v=a.n(W),D=a(48305),u=a.n(D),l=a(75271),g=a(61032),E=a(2336),O=a(51162),C=a(79654),N=a(53059),K=a(6778),de=a(21263),y=a(48625),ie=a(8797),F=a(14218),ue=a(81114),se=a(54584),Ae=a(17023),be=a(47383),Be=a(16621),Te=a(73323),Q=a(25723),le=a(29716),oe=a(65269),Re=a(16483),j=a.n(Re),Se=a(43e3),Ie=a(92687),n=a(52676),Ne=function(){var G,Ue=(0,l.useState)([]),_e=u()(Ue,2),V=_e[0],Le=_e[1],We=(0,l.useState)([]),ce=u()(We,2),X=ce[0],Ke=ce[1],M=(0,g.useModel)("wms");M.getWarehouseList();var J=M.warehouseMap;M.getAreaList();var Z=M.areaMap;M.getMerchantList();var pe=M.merchantMap,Ze=E.Z.useForm(),$e=u()(Ze,1),me=$e[0],we=(0,l.useState)(!1),he=u()(we,2),Ye=he[0],P=he[1],ke=(0,l.useState)([]),xe=u()(ke,2),ze=xe[0],fe=xe[1],He=(0,l.useState)(0),ve=u()(He,2),Qe=ve[0],Ge=ve[1],Ve=(0,l.useState)([]),Ee=u()(Ve,2),A=Ee[0],$=Ee[1],Xe=(0,l.useState)({}),ge=u()(Xe,2),Je=ge[0],je=ge[1],qe=(0,l.useState)({pageNum:1,pageSize:10,receiptOrderNo:void 0,receiptOrderType:-1,merchantId:void 0,orderNo:void 0,payableAmount:void 0,receiptOrderStatus:-2}),De=u()(qe,2),b=De[0],U=De[1],et=(0,l.useState)({visible:!1,currentOrder:null}),Oe=u()(et,2),q=Oe[0],w=Oe[1];(0,l.useEffect)(function(){Promise.all([(0,oe.pX)("wms_receipt_status"),(0,oe.pX)("wms_receipt_type")]).then(function(i){var r=u()(i,2),t=r[0],d=r[1];Le(Object.values(t)),Ke(Object.values(d))}),Y()},[b.pageNum,b.pageSize]),(0,l.useEffect)(function(){Y()},[b.receiptOrderStatus]);var Y=function(){var i=v()(e()().mark(function r(){var t,d;return e()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return P(!0),p.prev=1,t=_()({},b),t.receiptOrderStatus===-2&&(t.receiptOrderStatus=void 0),t.receiptOrderType===-1&&(t.receiptOrderType=void 0),p.next=7,(0,Q.Ug)(t);case 7:d=p.sent,fe(d.rows),Ge(d.total),$([]);case 11:return p.prev=11,P(!1),p.finish(11);case 14:case"end":return p.stop()}},r,null,[[1,,11,14]])}));return function(){return i.apply(this,arguments)}}(),L=function(){U(function(r){return _()(_()({},r),{},{pageNum:1})}),Y()},tt=function(){me.resetFields(),U({pageNum:1,pageSize:10,receiptOrderNo:void 0,receiptOrderType:-1,merchantId:void 0,orderNo:void 0,payableAmount:void 0,receiptOrderStatus:-2})},nt=function(){w({visible:!0,currentOrder:null})},rt=function(){var i=v()(e()().mark(function r(t){return e()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:O.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u5165\u5E93\u5355\u3010".concat(t.receiptOrderNo,"\u3011\u5417\uFF1F"),onOk:function(){var p=v()(e()().mark(function h(){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return P(!0),o.prev=1,o.next=4,(0,Q.sr)(t.id);case 4:C.ZP.success("\u5220\u9664\u6210\u529F"),Y(),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),o.t0===409&&O.Z.error({title:"\u7CFB\u7EDF\u63D0\u793A",content:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u5165\u5E93\u5355\u3010",t.receiptOrderNo,"\u3011\u5DF2\u5165\u5E93\uFF0C\u4E0D\u80FD\u5220\u9664\uFF01"]}),(0,n.jsx)("div",{children:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5904\u7406\uFF01"})]})});case 11:return o.prev=11,P(!1),o.finish(11);case 14:case"end":return o.stop()}},h,null,[[1,8,11,14]])}));function B(){return p.apply(this,arguments)}return B}()});case 1:case"end":return s.stop()}},r)}));return function(t){return i.apply(this,arguments)}}(),at=function(r){w({visible:!0,currentOrder:r})},ye=function(r){var t=A.indexOf(r.id);t!==-1?$(A.filter(function(d){return d!==r.id})):($([].concat(k()(A),[r.id])),dt(r))},dt=function(){var i=v()(e()().mark(function r(t){var d,s,p;return e()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return je(function(x){return _()(_()({},x),{},I()({},t.id,!0))}),h.prev=1,h.next=4,(0,le.dR)(t.id);case 4:s=h.sent,(d=s.data)!==null&&d!==void 0&&d.length&&(p=s.data.map(function(x){var o,c;return _()(_()({},x),{},{warehouseName:(o=J.get(x.warehouseId))===null||o===void 0?void 0:o.warehouseName,areaName:(c=Z.get(x.areaId))===null||c===void 0?void 0:c.areaName})}),fe(function(x){return x.map(function(o){return o.id===t.id?_()(_()({},o),{},{details:p}):o})}));case 6:return h.prev=6,je(function(x){return _()(_()({},x),{},I()({},t.id,!1))}),h.finish(6);case 9:case"end":return h.stop()}},r,null,[[1,,6,9]])}));return function(t){return i.apply(this,arguments)}}(),it=(0,l.useState)(null),Ce=u()(it,2),ee=Ce[0],te=Ce[1],ut=function(){var i=v()(e()().mark(function r(t){var d,s,p,B,h,x,o,c,Fe,Me;return e()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return P(!0),f.prev=1,f.next=4,Promise.all([(0,Q.ud)(t.id),(0,le.dR)(t.id)]);case 4:x=f.sent,o=u()(x,2),c=o[0],Fe=o[1],Me=Fe.data.map(function(m){var T,ne,re;return{itemName:((T=m.itemSku)===null||T===void 0||(T=T.item)===null||T===void 0?void 0:T.itemName)||"-",skuName:((ne=m.itemSku)===null||ne===void 0?void 0:ne.skuName)||"-",areaName:((re=Z.get(m.areaId))===null||re===void 0?void 0:re.areaName)||"-",quantity:Number(m.quantity).toFixed(0),amount:m.amount?Number(m.amount).toFixed(2):"-",batchNo:m.batchNo||"-",productionDate:m.productionDate?j()(m.productionDate).format("YYYY-MM-DD"):"-",expirationDate:m.expirationDate?j()(m.expirationDate).format("YYYY-MM-DD"):"-"}}),te({receiptOrderNo:c.data.receiptOrderNo,receiptOrderType:(d=X.find(function(m){return m.value==c.data.receiptOrderType}))===null||d===void 0?void 0:d.label,receiptOrderStatus:(s=V.find(function(m){return m.value==c.data.receiptOrderStatus}))===null||s===void 0?void 0:s.label,merchantName:((p=pe.get(c.data.merchantId))===null||p===void 0?void 0:p.merchantName)||"-",orderNo:c.data.orderNo||"-",warehouseName:((B=J.get(c.data.warehouseId))===null||B===void 0?void 0:B.warehouseName)||"-",areaName:((h=Z.get(c.data.areaId))===null||h===void 0?void 0:h.areaName)||"-",totalQuantity:Number(c.data.totalQuantity).toFixed(0),payableAmount:c.data.payableAmount?"".concat(c.data.payableAmount,"\u5143"):"",createBy:c.data.createBy,createTime:j()(c.data.createTime).format("MM-DD HH:mm"),updateBy:c.data.updateBy,updateTime:c.data.updateTime?j()(c.data.updateTime).format("MM-DD HH:mm"):"-",remark:c.data.remark,table:Me}),f.next=16;break;case 12:f.prev=12,f.t0=f.catch(1),C.ZP.error("\u83B7\u53D6\u6253\u5370\u6570\u636E\u5931\u8D25"),console.error("Print error:",f.t0);case 16:return f.prev=16,P(!1),f.finish(16);case 19:case"end":return f.stop()}},r,null,[[1,12,16,19]])}));return function(t){return i.apply(this,arguments)}}(),st=[{title:"\u5355\u53F7/\u8BA2\u5355\u53F7",align:"left",width:150,render:function(r,t){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u5355\u53F7\uFF1A",t.receiptOrderNo]}),t.orderNo&&(0,n.jsxs)("div",{children:["\u8BA2\u5355\u53F7\uFF1A",t.orderNo]})]})}},{title:"\u5165\u5E93\u7C7B\u578B",dataIndex:"receiptOrderType",align:"left",width:100,render:function(r,t){var d;return(0,n.jsx)(N.Z,{color:r==0?"blue":r==1?"green":"blue",children:(d=X.find(function(s){return s.value==r}))===null||d===void 0?void 0:d.label})}},{title:"\u4F9B\u5E94\u5546",align:"left",width:120,render:function(r,t){var d;return(0,n.jsx)("div",{children:(d=pe.get(t.merchantId))===null||d===void 0?void 0:d.merchantName})}},{title:"\u4ED3\u5E93/\u5E93\u533A",align:"left",width:150,render:function(r,t){var d,s;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u4ED3\u5E93\uFF1A",(d=J.get(t.warehouseId))===null||d===void 0?void 0:d.warehouseName]}),t.areaId&&(0,n.jsxs)("div",{children:["\u5E93\u533A\uFF1A",(s=Z.get(t.areaId))===null||s===void 0?void 0:s.areaName]})]})}},{title:"\u5165\u5E93\u72B6\u6001",dataIndex:"receiptOrderStatus",align:"center",width:100,render:function(r,t){var d;return(0,n.jsx)(N.Z,{color:r==0?"blue":r==1?"green":"red",children:(d=V.find(function(s){return s.value==r}))===null||d===void 0?void 0:d.label})}},{title:"\u6570\u91CF/\u91D1\u989D(\u5143)",align:"left",width:120,render:function(r,t){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:"\u6570\u91CF\uFF1A"}),(0,n.jsx)(K.Z,{value:Number(t.totalQuantity),precision:0})]}),(t.payableAmount||t.payableAmount===0)&&(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:"\u91D1\u989D\uFF1A"}),(0,n.jsx)(K.Z,{value:Number(t.payableAmount),precision:2})]})]})}},{title:"\u521B\u5EFA/\u64CD\u4F5C",align:"left",width:120,render:function(r,t){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u521B\u5EFA\uFF1A",t.createBy]}),t.updateBy&&(0,n.jsxs)("div",{children:["\u64CD\u4F5C\uFF1A",t.updateBy]})]})}},{title:"\u521B\u5EFA\u65F6\u95F4/\u64CD\u4F5C\u65F6\u95F4",align:"left",width:150,render:function(r,t){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:["\u521B\u5EFA\uFF1A",j()(t.createTime).format("MM-DD HH:mm")]}),(0,n.jsxs)("div",{children:["\u64CD\u4F5C\uFF1A",j()(t.updateTime).format("MM-DD HH:mm")]})]})}},{title:"\u5907\u6CE8",dataIndex:"remark",width:120},{title:"\u64CD\u4F5C",align:"right",width:120,render:function(r,t){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(de.Z,{content:"\u5165\u5E93\u5355\u3010".concat(t.receiptOrderNo,"\u3011\u5DF2").concat(t.receiptOrderStatus===1?"\u5165\u5E93":"\u4F5C\u5E9F","\uFF0C\u65E0\u6CD5\u4FEE\u6539\uFF01"),disabled:[-1,1].includes(t.receiptOrderStatus),children:(0,n.jsx)(y.ZP,{type:"link",onClick:function(){return at(t)},disabled:[-1,1].includes(t.receiptOrderStatus),children:"\u4FEE\u6539"})}),(0,n.jsx)(y.ZP,{type:"link",onClick:function(){return ye(t)},children:A.includes(t.id)?"\u6536\u8D77":"\u67E5\u770B"})]}),(0,n.jsxs)("div",{style:{marginTop:5},children:[(0,n.jsx)(de.Z,{content:"\u5165\u5E93\u5355\u3010".concat(t.receiptOrderNo,"\u3011\u5DF2\u5165\u5E93\uFF0C\u65E0\u6CD5\u5220\u9664\uFF01"),disabled:[-1,0].includes(t.receiptOrderStatus),children:(0,n.jsx)(y.ZP,{type:"link",danger:!0,onClick:function(){return rt(t)},disabled:t.receiptOrderStatus===1,children:"\u5220\u9664"})}),(0,n.jsx)(y.ZP,{type:"link",onClick:function(){return ut(t)},children:"\u6253\u5370"})]})]})}}];return(0,n.jsxs)(Te._z,{children:[(0,n.jsx)(ie.Z,{children:(0,n.jsxs)(E.Z,{form:me,layout:"inline",labelAlign:"left",style:{display:"flex",flexWrap:"nowrap",gap:16},children:[(0,n.jsx)(E.Z.Item,{label:"\u5165\u5E93\u72B6\u6001",name:"receiptOrderStatus",initialValue:-2,style:{marginBottom:0,flex:1},children:(0,n.jsxs)(F.ZP.Group,{onChange:function(r){U(function(t){return _()(_()({},t),{},{receiptOrderStatus:r.target.value})}),L()},style:{whiteSpace:"nowrap"},children:[(0,n.jsx)(F.ZP.Button,{value:-2,children:"\u5168\u90E8"}),V.map(function(i){return(0,n.jsx)(F.ZP.Button,{value:i.value,children:i.label},i.value)})]})}),(0,n.jsx)(E.Z.Item,{label:"\u5165\u5E93\u7C7B\u578B",name:"receiptOrderType",initialValue:-1,style:{marginBottom:0,flex:1},children:(0,n.jsxs)(F.ZP.Group,{onChange:function(r){U(function(t){return _()(_()({},t),{},{receiptOrderType:r.target.value})}),L()},style:{whiteSpace:"nowrap"},children:[(0,n.jsx)(F.ZP.Button,{value:-1,children:"\u5168\u90E8"}),X.map(function(i){return(0,n.jsx)(F.ZP.Button,{value:i.value,children:i.label},i.value)})]})}),(0,n.jsx)(E.Z.Item,{label:"\u5165\u5E93\u5355\u53F7",name:"receiptOrderNo",style:{marginBottom:0,flex:1},children:(0,n.jsx)(ue.Z,{placeholder:"\u8BF7\u8F93\u5165\u5165\u5E93\u5355\u53F7",allowClear:!0,onPressEnter:L,style:{minWidth:180}})}),(0,n.jsx)(E.Z.Item,{label:"\u8BA2\u5355\u53F7",name:"orderNo",style:{marginBottom:0,flex:1},children:(0,n.jsx)(ue.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",allowClear:!0,onPressEnter:L,style:{minWidth:180}})}),(0,n.jsxs)(E.Z.Item,{style:{marginBottom:0},children:[(0,n.jsx)(y.ZP,{type:"primary",icon:(0,n.jsx)(Ae.Z,{}),onClick:L,children:"\u641C\u7D22"}),(0,n.jsx)(y.ZP,{icon:(0,n.jsx)(be.Z,{}),onClick:tt,style:{marginLeft:8},children:"\u91CD\u7F6E"})]})]})}),(0,n.jsxs)(ie.Z,{style:{marginTop:20},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,n.jsx)("span",{style:{fontSize:"large"},children:"\u5165\u5E93\u5355"}),(0,n.jsx)(y.ZP,{type:"primary",icon:(0,n.jsx)(Be.Z,{}),onClick:nt,children:"\u65B0\u589E"})]}),(0,n.jsx)(se.Z,{loading:Ye,dataSource:ze,columns:st,rowKey:"id",expandable:{expandedRowKeys:A,onExpand:function(r,t){r?ye(t):$(A.filter(function(d){return d!==t.id}))},expandedRowRender:function(r){return(0,n.jsxs)("div",{style:{padding:"0 50px 20px 50px"},children:[(0,n.jsx)("h3",{children:"\u5546\u54C1\u660E\u7EC6"}),(0,n.jsx)(se.Z,{loading:Je[r.id],dataSource:r.details||[],rowKey:"id",pagination:{current:b.pageNum,pageSize:b.pageSize,total:Qe,onChange:function(d,s){U(function(p){return _()(_()({},p),{},{pageNum:d,pageSize:s})})}},size:"small",columns:[{title:"\u5546\u54C1\u540D\u79F0",dataIndex:["itemSku","item","itemName"]},{title:"\u89C4\u683C\u540D\u79F0",dataIndex:["itemSku","skuName"]},{title:"\u5E93\u533A",dataIndex:"areaName"},{title:"\u6570\u91CF",align:"right",render:function(d,s){return(0,n.jsx)(K.Z,{value:Number(s.quantity),precision:0})}},{title:"\u4EF7\u683C(\u5143)",align:"right",render:function(d,s){return(0,n.jsx)(K.Z,{value:s.amount?Number(s.amount):0,precision:2})}},{title:"\u6279\u53F7",dataIndex:"batchNo"},{title:"\u751F\u4EA7\u65E5\u671F",render:function(d,s){return(0,n.jsx)("div",{children:s.productionDate?j()(s.productionDate).format("YYYY-MM-DD"):"-"})}},{title:"\u8FC7\u671F\u65E5\u671F",render:function(d,s){return(0,n.jsx)("div",{children:s.expirationDate?j()(s.expirationDate).format("YYYY-MM-DD"):"-"})}}]})]})}}})]}),(0,n.jsx)(O.Z,{title:q.currentOrder?"\u4FEE\u6539\u79FB\u5E93\u5355":"\u65B0\u589E\u79FB\u5E93\u5355",open:q.visible,onCancel:function(){return w(function(r){return _()(_()({},r),{},{editVisible:!1})})},footer:null,width:"95%",destroyOnClose:!0,children:(0,n.jsx)(Se.default,{id:(G=q.currentOrder)===null||G===void 0?void 0:G.id,onCancel:function(){return w(function(r){return _()(_()({},r),{},{editVisible:!1})})}})}),(0,n.jsx)(O.Z,{open:!!ee,onCancel:function(){return te(null)},footer:null,width:800,children:ee&&(0,n.jsx)(Ie.default,{data:ee,onClose:function(){return te(null)},visible:!1})})]})};R.default=Ne}}]);
