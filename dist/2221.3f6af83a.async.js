"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2221],{76202:function(w,T,e){var P=e(99426),m=e(99960),o=e(75271),h=e(50241),K=e(52676),j=["fieldProps","min","proFieldProps","max"],A=function(l,M){var B=l.fieldProps,p=l.min,v=l.proFieldProps,b=l.max,R=(0,m.Z)(l,j);return(0,K.jsx)(h.Z,(0,P.Z)({valueType:"digit",fieldProps:(0,P.Z)({min:p,max:b},B),ref:M,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:v},R))},D=o.forwardRef(A);T.Z=D},36798:function(w,T,e){var P=e(99426),m=e(99960),o=e(67867),h=e(14218),K=e(75271),j=e(5079),A=e(50241),D=e(52676),O=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],l=K.forwardRef(function(v,b){var R=v.fieldProps,F=v.options,k=v.radioType,t=v.layout,a=v.proFieldProps,g=v.valueEnum,n=(0,m.Z)(v,O);return(0,D.jsx)(A.Z,(0,P.Z)((0,P.Z)({valueType:k==="button"?"radioButton":"radio",ref:b,valueEnum:(0,o.h)(g,void 0)},n),{},{fieldProps:(0,P.Z)({options:F,layout:t},R),proFieldProps:a,filedConfig:{customLightMode:!0}}))}),M=K.forwardRef(function(v,b){var R=v.fieldProps,F=v.children;return(0,D.jsx)(h.ZP,(0,P.Z)((0,P.Z)({},R),{},{ref:b,children:F}))}),B=(0,j.G)(M,{valuePropName:"checked",ignoreWidth:!0}),p=B;p.Group=l,p.Button=h.ZP.Button,p.displayName="ProFormComponent",T.Z=p},33615:function(w,T,e){var P=e(99426),m=e(99960),o=e(75271),h=e(50241),K=e(52676),j=["fieldProps","proFieldProps"],A=function(O,l){var M=O.fieldProps,B=O.proFieldProps,p=(0,m.Z)(O,j);return(0,K.jsx)(h.Z,(0,P.Z)({ref:l,valueType:"textarea",fieldProps:M,proFieldProps:B},p))};T.Z=o.forwardRef(A)},68834:function(w,T,e){var P=e(75611),m=e(99426),o=e(99960),h=e(93954),K=e(2336),j=e(21263),A=e(18051),D=e(75271),O=e(50241),l=e(52676),M=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],p="text",v=function(t){var a=t.fieldProps,g=t.proFieldProps,n=(0,o.Z)(t,M);return(0,l.jsx)(O.Z,(0,m.Z)({valueType:p,fieldProps:a,filedConfig:{valueType:p},proFieldProps:g},n))},b=function(t){var a=(0,h.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),g=(0,P.Z)(a,2),n=g[0],G=g[1];return(0,l.jsx)(K.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(y){var Z,V=y.getFieldValue(t.name||[]);return(0,l.jsx)(j.Z,(0,m.Z)((0,m.Z)({getPopupContainer:function(f){return f&&f.parentNode?f.parentNode:f},onOpenChange:function(f){return G(f)},content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(Z=t.statusRender)===null||Z===void 0?void 0:Z.call(t,V),t.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:n,children:t.children}))}})},R=function(t){var a=t.fieldProps,g=t.proFieldProps,n=(0,o.Z)(t,B),G=(0,D.useState)(!1),X=(0,P.Z)(G,2),y=X[0],Z=X[1];return a!=null&&a.statusRender&&n.name?(0,l.jsx)(b,{name:n.name,statusRender:a==null?void 0:a.statusRender,popoverProps:a==null?void 0:a.popoverProps,strengthText:a==null?void 0:a.strengthText,open:y,onOpenChange:Z,children:(0,l.jsx)("div",{children:(0,l.jsx)(O.Z,(0,m.Z)({valueType:"password",fieldProps:(0,m.Z)((0,m.Z)({},(0,A.Z)(a,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(L){var f;a==null||(f=a.onBlur)===null||f===void 0||f.call(a,L),Z(!1)},onClick:function(L){var f;a==null||(f=a.onClick)===null||f===void 0||f.call(a,L),Z(!0)}}),proFieldProps:g,filedConfig:{valueType:p}},n))})}):(0,l.jsx)(O.Z,(0,m.Z)({valueType:"password",fieldProps:a,proFieldProps:g,filedConfig:{valueType:p}},n))},F=v;F.Password=R,F.displayName="ProFormComponent",T.Z=F},92221:function(w,T,e){e.r(T);var P=e(90228),m=e.n(P),o=e(26068),h=e.n(o),K=e(87999),j=e.n(K),A=e(48305),D=e.n(A),O=e(75271),l=e(54733),M=e(76202),B=e(68834),p=e(36798),v=e(33615),b=e(2336),R=e(51162),F=e(61032),k=e(24783),t=e(52676),a=function(n){var G=b.Z.useForm(),X=D()(G,1),y=X[0],Z=n.menuTree,V=n.menuCheckedKeys,L=(0,O.useState)([]),f=D()(L,2),oe=f[0],_e=f[1],pe=n.statusOptions;(0,O.useEffect)(function(){y.resetFields(),y.setFieldsValue({roleId:n.values.roleId,roleName:n.values.roleName,roleKey:n.values.roleKey,roleSort:n.values.roleSort,dataScope:n.values.dataScope,menuCheckStrictly:n.values.menuCheckStrictly,deptCheckStrictly:n.values.deptCheckStrictly,status:n.values.status,delFlag:n.values.delFlag,createBy:n.values.createBy,createTime:n.values.createTime,updateBy:n.values.updateBy,updateTime:n.values.updateTime,remark:n.values.remark})},[y,n]);var S=(0,F.useIntl)(),q=function(){y.submit()},ce=function(){n.onCancel()},u=function(){var _=j()(m()().mark(function d(r){return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n.onSubmit(h()(h()({},r),{},{menuIds:oe}));case 1:case"end":return s.stop()}},d)}));return function(r){return _.apply(this,arguments)}}();return(0,t.jsx)(R.Z,{width:640,title:S.formatMessage({id:"system.role.title",defaultMessage:"\u7F16\u8F91\u89D2\u8272\u4FE1\u606F"}),forceRender:!0,open:n.open,destroyOnClose:!0,onOk:q,onCancel:ce,children:(0,t.jsxs)(l.A,{form:y,grid:!0,layout:"horizontal",submitter:!1,onFinish:u,children:[(0,t.jsx)(M.Z,{name:"roleId",label:S.formatMessage({id:"system.role.role_id",defaultMessage:"\u89D2\u8272\u7F16\u53F7"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,t.jsx)(F.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7\uFF01"})}]}),(0,t.jsx)(B.Z,{name:"roleName",label:S.formatMessage({id:"system.role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,t.jsx)(F.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01"})}]}),(0,t.jsx)(B.Z,{name:"roleKey",label:S.formatMessage({id:"system.role.role_key",defaultMessage:"\u6743\u9650\u5B57\u7B26\u4E32"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,t.jsx)(F.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01"})}]}),(0,t.jsx)(M.Z,{name:"roleSort",label:S.formatMessage({id:"system.role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!0,message:(0,t.jsx)(F.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01"})}],fieldProps:{defaultValue:1}}),(0,t.jsx)(p.Z.Group,{valueEnum:pe,name:"status",label:S.formatMessage({id:"system.role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001",rules:[{required:!0,message:(0,t.jsx)(F.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01"})}],fieldProps:{defaultValue:"0"}}),(0,t.jsx)(l.A.Item,{name:"menuIds",label:S.formatMessage({id:"system.role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),children:(0,t.jsx)(k.Z,{checkable:!0,multiple:!0,checkStrictly:!0,defaultExpandAll:!1,treeData:Z,defaultCheckedKeys:V,onCheck:function(d){return _e(d.checked)}})}),(0,t.jsx)(v.Z,{name:"remark",label:S.formatMessage({id:"system.role.remark",defaultMessage:"\u5907\u6CE8"}),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",rules:[{required:!1,message:(0,t.jsx)(F.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01"})}]})]})})};T.default=a},24783:function(w,T,e){e.d(T,{Z:function(){return ce}});var P=e(62076),m=e(81230),o=e(75271),h=e(63488),K=e(1183),j=e(23538),A=e(82187),D=e.n(A),O=e(84450),l=e(28994),M=e(46323),B=e(84411),p=e(73135),v=e(66959),b=e(73792);const R=4;function F(u){const{dropPosition:_,dropLevelOffset:d,prefixCls:r,indent:i,direction:s="ltr"}=u,c=s==="ltr"?"left":"right",E=s==="ltr"?"right":"left",C={[c]:-d*i+R,[E]:0};switch(_){case-1:C.top=-3;break;case 1:C.bottom=-3;break;default:C.bottom=-3,C[c]=i+R;break}return o.createElement("div",{style:C,className:`${r}-drop-indicator`})}var k=F,t=e(94589),g=o.forwardRef((u,_)=>{var d;const{getPrefixCls:r,direction:i,virtual:s,tree:c}=o.useContext(M.E_),{prefixCls:E,className:C,showIcon:I=!1,showLine:ee,switcherIcon:ae,switcherLoadingIcon:le,blockNode:ue=!1,children:me,checkable:te=!1,selectable:se=!0,draggable:J,motion:ne,style:fe}=u,N=r("tree",E),Ee=r(),re=ne!=null?ne:Object.assign(Object.assign({},(0,p.Z)(Ee)),{motionAppear:!1}),Pe=Object.assign(Object.assign({},u),{checkable:te,selectable:se,showIcon:I,motion:re,blockNode:ue,showLine:!!ee,dropIndicatorRender:k}),[H,U,z]=(0,b.ZP)(N),[,Q]=(0,v.ZP)(),Y=Q.paddingXS/2+(((d=Q.Tree)===null||d===void 0?void 0:d.titleHeight)||Q.controlHeightSM),ve=o.useMemo(()=>{if(!J)return!1;let x={};switch(typeof J){case"function":x.nodeDraggable=J;break;case"object":x=Object.assign({},J);break;default:break}return x.icon!==!1&&(x.icon=x.icon||o.createElement(B.Z,null)),x},[J]),W=x=>o.createElement(t.Z,{prefixCls:N,switcherIcon:ae,switcherLoadingIcon:le,treeNodeProps:x,showLine:ee});return H(o.createElement(P.ZP,Object.assign({itemHeight:Y,ref:_,virtual:s},Pe,{style:Object.assign(Object.assign({},c==null?void 0:c.style),fe),prefixCls:N,className:D()({[`${N}-icon-hide`]:!I,[`${N}-block-node`]:ue,[`${N}-unselectable`]:!se,[`${N}-rtl`]:i==="rtl"},c==null?void 0:c.className,C,U,z),direction:i,checkable:te&&o.createElement("span",{className:`${N}-checkbox-inner`}),selectable:se,switcherIcon:W,draggable:ve}),me))});const n=0,G=1,X=2;function y(u,_,d){const{key:r,children:i}=d;function s(c){const E=c[r],C=c[i];_(E,c)!==!1&&y(C||[],_,d)}u.forEach(s)}function Z(u){let{treeData:_,expandedKeys:d,startKey:r,endKey:i,fieldNames:s}=u;const c=[];let E=n;if(r&&r===i)return[r];if(!r||!i)return[];function C(I){return I===r||I===i}return y(_,I=>{if(E===X)return!1;if(C(I)){if(c.push(I),E===n)E=G;else if(E===G)return E=X,!1}else E===G&&c.push(I);return d.includes(I)},(0,l.w$)(s)),c}function V(u,_,d){const r=(0,m.Z)(_),i=[];return y(u,(s,c)=>{const E=r.indexOf(s);return E!==-1&&(i.push(c),r.splice(E,1)),!!r.length},(0,l.w$)(d)),i}var L=function(u,_){var d={};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&_.indexOf(r)<0&&(d[r]=u[r]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(u);i<r.length;i++)_.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(u,r[i])&&(d[r[i]]=u[r[i]]);return d};function f(u){const{isLeaf:_,expanded:d}=u;return _?o.createElement(h.Z,null):d?o.createElement(K.Z,null):o.createElement(j.Z,null)}function oe(u){let{treeData:_,children:d}=u;return _||(0,l.zn)(d)}const _e=(u,_)=>{var{defaultExpandAll:d,defaultExpandParent:r,defaultExpandedKeys:i}=u,s=L(u,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const c=o.useRef(null),E=o.useRef(null),C=()=>{const{keyEntities:H}=(0,l.I8)(oe(s));let U;return d?U=Object.keys(H):r?U=(0,O.r7)(s.expandedKeys||i||[],H):U=s.expandedKeys||i||[],U},[I,ee]=o.useState(s.selectedKeys||s.defaultSelectedKeys||[]),[ae,le]=o.useState(()=>C());o.useEffect(()=>{"selectedKeys"in s&&ee(s.selectedKeys)},[s.selectedKeys]),o.useEffect(()=>{"expandedKeys"in s&&le(s.expandedKeys)},[s.expandedKeys]);const ue=(H,U)=>{var z;return"expandedKeys"in s||le(H),(z=s.onExpand)===null||z===void 0?void 0:z.call(s,H,U)},me=(H,U)=>{var z;const{multiple:Q,fieldNames:Y}=s,{node:ve,nativeEvent:W}=U,{key:x=""}=ve,de=oe(s),ie=Object.assign(Object.assign({},U),{selected:!0}),Fe=(W==null?void 0:W.ctrlKey)||(W==null?void 0:W.metaKey),Oe=W==null?void 0:W.shiftKey;let $;Q&&Fe?($=H,c.current=x,E.current=$,ie.selectedNodes=V(de,$,Y)):Q&&Oe?($=Array.from(new Set([].concat((0,m.Z)(E.current||[]),(0,m.Z)(Z({treeData:de,expandedKeys:ae,startKey:x,endKey:c.current,fieldNames:Y}))))),ie.selectedNodes=V(de,$,Y)):($=[x],c.current=x,E.current=$,ie.selectedNodes=V(de,$,Y)),(z=s.onSelect)===null||z===void 0||z.call(s,$,ie),"selectedKeys"in s||ee($)},{getPrefixCls:te,direction:se}=o.useContext(M.E_),{prefixCls:J,className:ne,showIcon:fe=!0,expandAction:N="click"}=s,Ee=L(s,["prefixCls","className","showIcon","expandAction"]),re=te("tree",J),Pe=D()(`${re}-directory`,{[`${re}-directory-rtl`]:se==="rtl"},ne);return o.createElement(g,Object.assign({icon:f,ref:_,blockNode:!0},Ee,{showIcon:fe,expandAction:N,prefixCls:re,className:Pe,expandedKeys:ae,selectedKeys:I,onSelect:me,onExpand:ue}))};var S=o.forwardRef(_e);const q=g;q.DirectoryTree=S,q.TreeNode=P.OF;var ce=q}}]);
