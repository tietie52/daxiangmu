"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5666,1717],{5666:function(w,g,r){r.r(g);var I=r(26068),P=r.n(I),L=r(48305),a=r.n(L),j=r(90228),s=r.n(j),o=r(87999),v=r.n(o),R=r(45659),c=r(79654),A=r(8797),E=r(48625),B=r(75271),m=r(61032),M=r(51717),b=r(90607),K=r(16621),D=r(23193),l=r(52676),C=R.Z.Content,W=function(){var O=v()(s()().mark(function h(f){var i;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=c.ZP.loading("\u6B63\u5728\u914D\u7F6E"),u.prev=1,u.next=4,(0,M.importTables)(f);case 4:return i(),c.ZP.success("\u914D\u7F6E\u6210\u529F"),u.abrupt("return",!0);case 9:return u.prev=9,u.t0=u.catch(1),i(),c.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),u.abrupt("return",!1);case 14:case"end":return u.stop()}},h,null,[[1,9]])}));return function(f){return O.apply(this,arguments)}}(),T=function(){var h=(0,B.useState)([]),f=a()(h,2),i=f[0],y=f[1],u=[{title:"\u8868\u540D\u79F0",dataIndex:"tableName"},{title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"textarea",hideInSearch:!0}];return(0,l.jsx)(C,{children:(0,l.jsx)(A.Z,{bordered:!1,children:(0,l.jsx)(b.Z,{headerTitle:"\u4EE3\u7801\u751F\u6210\u4FE1\u606F",rowKey:"tableName",search:{labelWidth:120},toolBarRender:function(){return[(0,l.jsxs)(E.ZP,{type:"primary",onClick:v()(s()().mark(function d(){var n;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(i.length<1)){_.next=3;break}return c.ZP.error("\u8BF7\u9009\u62E9\u8981\u5BFC\u5165\u7684\u8868\uFF01"),_.abrupt("return");case 3:return _.next=5,W(i.join(","));case 5:n=_.sent,n&&m.history.back();case 7:case"end":return _.stop()}},d)})),children:[(0,l.jsx)(K.Z,{})," ",(0,l.jsx)(m.FormattedMessage,{id:"gen.submit",defaultMessage:"\u63D0\u4EA4"})]},"primary"),(0,l.jsxs)(E.ZP,{type:"primary",onClick:function(){m.history.back()},children:[(0,l.jsx)(D.Z,{})," ",(0,l.jsx)(m.FormattedMessage,{id:"gen.goback",defaultMessage:"\u8FD4\u56DE"})]},"goback")]},request:function(d){return(0,M.queryTableList)(P()({},d)).then(function(n){return{data:n.rows,total:n.total,success:!0}})},columns:u,rowSelection:{onChange:function(d,n){if(n&&n.length>0){var t=n.map(function(_){return _.tableName});y(t)}}}})})})};g.default=T},51717:function(w,g,r){r.r(g),r.d(g,{addData:function(){return l},batchGenCode:function(){return y},genCode:function(){return f},getGenCode:function(){return A},getGenCodeList:function(){return R},importTables:function(){return M},previewCode:function(){return U},queryTableList:function(){return B},removeData:function(){return K},syncDbInfo:function(){return O},updateData:function(){return W}});var I=r(26068),P=r.n(I),L=r(90228),a=r.n(L),j=r(87999),s=r.n(j),o=r(61032),v=r(18606);function R(n){return c.apply(this,arguments)}function c(){return c=s()(a()().mark(function n(t){var _;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return _=new URLSearchParams(t).toString(),p.abrupt("return",(0,o.request)("/api/code/gen/list?".concat(_),{data:t,method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return p.stop()}},n)})),c.apply(this,arguments)}function A(n){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/".concat(t),{method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function B(n){return m.apply(this,arguments)}function m(){return m=s()(a()().mark(function n(t){var _;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return _=new URLSearchParams(t).toString(),p.abrupt("return",(0,o.request)("/api/code/gen/db/list?".concat(_),{data:t,method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return p.stop()}},n)})),m.apply(this,arguments)}function M(n){return b.apply(this,arguments)}function b(){return b=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/importTable?tables=".concat(t),{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},n)})),b.apply(this,arguments)}function K(n){return D.apply(this,arguments)}function D(){return D=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/".concat(t.ids),{method:"delete",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},n)})),D.apply(this,arguments)}function l(n){return C.apply(this,arguments)}function C(){return C=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen",{method:"POST",data:P()({},t)}));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function W(n){return T.apply(this,arguments)}function T(){return T=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen",{method:"PUT",data:P()({},t)}));case 1:case"end":return e.stop()}},n)})),T.apply(this,arguments)}function O(n){return h.apply(this,arguments)}function h(){return h=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/synchDb/".concat(t),{method:"GET"}));case 1:case"end":return e.stop()}},n)})),h.apply(this,arguments)}function f(n){return i.apply(this,arguments)}function i(){return i=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/genCode/".concat(t),{method:"GET"}));case 1:case"end":return e.stop()}},n)})),i.apply(this,arguments)}function y(n){return u.apply(this,arguments)}function u(){return u=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.p6)("/api/code/gen/batchGenCode?tables=".concat(t)));case 1:case"end":return e.stop()}},n)})),u.apply(this,arguments)}function U(n){return d.apply(this,arguments)}function d(){return d=s()(a()().mark(function n(t){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/preview/".concat(t),{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},n)})),d.apply(this,arguments)}}}]);
