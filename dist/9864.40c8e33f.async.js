"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9864],{59864:function(ne,K,e){e.r(K);var $=e(15558),v=e.n($),w=e(90228),o=e.n(w),O=e(26068),y=e.n(O),k=e(87999),E=e.n(k),L=e(48305),B=e.n(L),W=e(75271),P=e(61032),V=e(81114),g=e(2336),N=e(51162),f=e(79654),b=e(8797),F=e(57355),r=e(23102),d=e(73320),x=e(14218),n=e(35609),a=e(48625),pe=e(10189),ce=e(21263),U=e(54584),he=e(6778),ve=e(16621),se=e(86743),Y=e(37846),fe=e(40761),Ee=e(23586),De=e(42449),t=e(52676),te=V.Z.TextArea,ge=function(le){var Q=le.id,re=le.onCancel,H=(0,P.useModel)("wms"),Oe=H.warehouseList,z=H.areaList,ye=H.merchantList,de=H.itemBrandMap,Ie=g.Z.useForm(),Pe=B()(Ie,1),s=Pe[0],Te=(0,W.useRef)(),X=(0,W.useRef)(),Me=(0,W.useState)(!1),_e=B()(Me,2),je=_e[0],J=_e[1],xe=(0,W.useState)(!1),ae=B()(xe,2),I=ae[0],C=ae[1],m=(0,W.useState)(!1),M=B()(m,2),R=M[0],S=M[1],G=(0,W.useState)([]),q=B()(G,2),oe=q[0],Z=q[1],ue=(0,W.useState)([]),ee=B()(ue,2),ie=ee[0],ke=ee[1];(0,W.useEffect)(function(){Q?Ae(Q):s.setFieldsValue({shipmentOrderNo:"CK".concat((0,De.v)()),shipmentOrderType:"2",shipmentOrderStatus:0,totalQuantity:0,details:[]})},[Q]);var Ae=function(){var l=E()(o()().mark(function _(u){var i,c,D;return o()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return J(!0),T.prev=1,T.next=4,(0,Y.kl)(u);case 4:c=T.sent,D=c.data,(i=D.details)!==null&&i!==void 0&&i.length&&(D.details=D.details.map(function(h){var p;return y()(y()({},h),{},{areaName:(p=z.find(function(A){return A.id===h.areaId}))===null||p===void 0?void 0:p.areaName,itemSku:y()(y()({},h.itemSku),{},{item:h.itemSku.item}),remainQuantity:h.quantity})}),Z(D.details.map(function(h){return{id:h.inventoryDetailId,areaId:h.areaId}}))),s.setFieldsValue(D);case 8:return T.prev=8,J(!1),T.finish(8);case 11:case"end":return T.stop()}},_,null,[[1,,8,11]])}));return function(u){return l.apply(this,arguments)}}(),Re=function(_){s.setFieldsValue({areaId:void 0,details:[]}),Z([])},Se=function(_){s.setFieldsValue({details:s.getFieldValue("details").filter(function(u){return u.areaId===_})}),Z(oe.filter(function(u){return u.areaId===_}))},be=function(){var _=s.getFieldValue("details")||[],u=0;_.forEach(function(i){i.quantity&&(u+=Number(i.quantity))}),s.setFieldsValue({totalQuantity:u})},we=function(){var l=E()(o()().mark(function _(u,i){var c;return o()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:u.id?N.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var T=E()(o()().mark(function p(){var A;return o()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,(0,fe.xr)(u.id);case 2:A=s.getFieldValue("details"),A.splice(i,1),s.setFieldsValue({details:A}),f.ZP.success("\u5220\u9664\u6210\u529F"),be();case 7:case"end":return me.stop()}},p)}));function h(){return T.apply(this,arguments)}return h}()}):(c=s.getFieldValue("details"),c.splice(i,1),s.setFieldsValue({details:c}),Z(oe.filter(function(T){return T.id!==u.inventoryDetailId})),be());case 1:case"end":return j.stop()}},_)}));return function(u,i){return l.apply(this,arguments)}}(),Be=function(){var _;if(!s.getFieldValue("warehouseId")){f.ZP.warning("\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01");return}(_=X.current)===null||_===void 0||_.getList(),S(!0)},Ue=function(_){S(!1),Z(v()(_));var u=s.getFieldValue("details")||[],i=_.filter(function(c){return!u.find(function(D){return D.inventoryDetailId===c.id})}).map(function(c){var D;return{itemSku:y()(y()({},c.itemSku),{},{item:c.item}),skuId:c.skuId,amount:void 0,quantity:void 0,remainQuantity:c.remainQuantity,batchNo:c.batchNo,productionDate:c.productionDate,expirationDate:c.expirationDate,warehouseId:s.getFieldValue("warehouseId"),areaId:s.getFieldValue("areaId")||c.areaId,inventoryDetailId:c.id,areaName:(D=z.find(function(j){return j.id===(s.getFieldValue("areaId")||c.areaId)}))===null||D===void 0?void 0:D.areaName}});s.setFieldsValue({details:[].concat(v()(u),v()(i))})},Fe=function(){var l=E()(o()().mark(function _(){var u,i,c,D,j=arguments;return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u=j.length>0&&j[0]!==void 0?j[0]:0,h.prev=1,h.next=4,s.validateFields();case 4:if(i=s.getFieldsValue(),c=(i.details||[]).map(function(p){return{id:p.id,shipmentOrderId:i.id,skuId:p.skuId,amount:p.amount,quantity:p.quantity,batchNo:p.batchNo,productionDate:p.productionDate,expirationDate:p.expirationDate,inventoryDetailId:p.inventoryDetailId,warehouseId:i.warehouseId,areaId:p.areaId}}),D=y()(y()({},i),{},{shipmentOrderStatus:u,details:c}),!i.id){h.next=12;break}return h.next=10,(0,Y.yT)(D);case 10:h.next=14;break;case 12:return h.next=14,(0,Y.Z9)(D);case 14:f.ZP.success("\u64CD\u4F5C\u6210\u529F"),re(),h.next=22;break;case 18:h.prev=18,h.t0=h.catch(1),console.error("Save error:",h.t0),f.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 22:case"end":return h.stop()}},_,null,[[1,18]])}));return function(){return l.apply(this,arguments)}}(),Ze=function(){var l=E()(o()().mark(function _(){var u,i,c,D,j,T;return o()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,s.validateFields();case 3:if(i=s.getFieldsValue(),(u=i.details)!==null&&u!==void 0&&u.length){p.next=7;break}return f.ZP.error("\u8BF7\u9009\u62E9\u5546\u54C1"),p.abrupt("return");case 7:if(c=i.details.filter(function(A){return!A.quantity}),!(c!=null&&c.length)){p.next=11;break}return f.ZP.error("\u8BF7\u9009\u62E9\u51FA\u5E93\u6570\u91CF"),p.abrupt("return");case 11:return D=(i.details||[]).map(function(A){return{id:A.id,shipmentOrderId:i.id,skuId:A.skuId,amount:A.amount,quantity:A.quantity,batchNo:A.batchNo,productionDate:A.productionDate,expirationDate:A.expirationDate,inventoryDetailId:A.inventoryDetailId,warehouseId:i.warehouseId,areaId:A.areaId}}),j=y()(y()({},i),{},{details:D}),J(!0),p.next=16,(0,Y.qc)(j);case 16:T=p.sent,T.code===200?(f.ZP.success("\u51FA\u5E93\u6210\u529F"),re()):f.ZP.error(T.msg),p.next=24;break;case 20:p.prev=20,p.t0=p.catch(0),console.error("Shipment error:",p.t0),f.ZP.error("\u51FA\u5E93\u5931\u8D25");case 24:return p.prev=24,J(!1),p.finish(24);case 27:case"end":return p.stop()}},_,null,[[0,20,24,27]])}));return function(){return l.apply(this,arguments)}}(),Le=function(){var l=E()(o()().mark(function _(){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:N.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u51FA\u5E93\u5355\u5417\uFF1F",onOk:function(){var c=E()(o()().mark(function j(){return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Fe(-1);case 2:case"end":return h.stop()}},j)}));function D(){return c.apply(this,arguments)}return D}()});case 1:case"end":return i.stop()}},_)}));return function(){return l.apply(this,arguments)}}(),We=function(){var _=s.getFieldValue("details")||[],u=0;_.forEach(function(i){i.amount&&(u+=Number(i.amount))}),s.setFieldsValue({receivableAmount:u})},Ke=function(){return N.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"}),!1};return(0,t.jsxs)(b.Z,{loading:je,children:[(0,t.jsx)(b.Z,{title:"\u51FA\u5E93\u5355\u57FA\u672C\u4FE1\u606F",children:(0,t.jsxs)(g.Z,{form:s,labelCol:{span:6},wrapperCol:{span:18},children:[(0,t.jsxs)(F.Z,{gutter:24,children:[(0,t.jsx)(r.Z,{span:11,children:(0,t.jsx)(g.Z.Item,{label:"\u51FA\u5E93\u5355\u53F7",name:"shipmentOrderNo",rules:[{required:!0,message:"\u51FA\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,t.jsx)(V.Z,{disabled:!!s.getFieldValue("id"),style:{width:"100%"},placeholder:"\u51FA\u5E93\u5355\u53F7"})})}),(0,t.jsx)(r.Z,{span:6,children:(0,t.jsx)(g.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,t.jsx)(d.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",options:Oe.map(function(l){return{value:l.id,label:l.warehouseName}}),onChange:Re,style:{width:"100%"},filterable:!0})})}),(0,t.jsx)(r.Z,{span:6,children:(0,t.jsx)(g.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,t.jsx)(d.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",options:z.filter(function(l){return l.warehouseId===s.getFieldValue("warehouseId")}).map(function(l){return{value:l.id,label:l.areaName}}),onChange:Se,disabled:!s.getFieldValue("warehouseId"),style:{width:"100%"},filterable:!0,allowClear:!0})})})]}),(0,t.jsxs)(F.Z,{gutter:24,children:[(0,t.jsx)(r.Z,{span:11,children:(0,t.jsx)(g.Z.Item,{label:"\u51FA\u5E93\u7C7B\u578B",name:"shipmentOrderType",rules:[{required:!0,message:"\u51FA\u5E93\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,t.jsx)(x.ZP.Group,{children:ie.map(function(l){return(0,t.jsx)(x.ZP.Button,{value:l.value,children:l.label},l.value)})})})}),(0,t.jsx)(r.Z,{span:6,children:(0,t.jsx)(g.Z.Item,{label:"\u5BA2\u6237",name:"merchantId",children:(0,t.jsx)(d.Z,{placeholder:"\u8BF7\u9009\u62E9\u5BA2\u6237",options:ye.map(function(l){return{value:l.id,label:l.merchantName}}),style:{width:"100%"},filterable:!0,allowClear:!0})})}),(0,t.jsx)(r.Z,{span:6,children:(0,t.jsx)(g.Z.Item,{label:"\u8BA2\u5355\u53F7",name:"orderNo",children:(0,t.jsx)(V.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",style:{width:"100%"}})})})]}),(0,t.jsxs)(F.Z,{gutter:24,children:[(0,t.jsx)(r.Z,{span:11,children:(0,t.jsx)(g.Z.Item,{label:"\u5907\u6CE8",name:"remark",children:(0,t.jsx)(te,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",rows:4,maxLength:100,style:{width:"100%"},showCount:!0})})}),(0,t.jsx)(r.Z,{span:6,children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,t.jsx)(g.Z.Item,{label:"\u91D1\u989D",name:"receivableAmount",style:{marginBottom:0},children:(0,t.jsx)(n.Z,{precision:2,min:0,style:{width:"100%"}})}),(0,t.jsx)(a.ZP,{type:"link",onClick:We,style:{marginLeft:20,lineHeight:"32px"},children:"\u81EA\u52A8\u8BA1\u7B97"})]})}),(0,t.jsx)(r.Z,{span:6,children:(0,t.jsx)(g.Z.Item,{label:"\u6570\u91CF",name:"totalQuantity",children:(0,t.jsx)(n.Z,{precision:0,disabled:!0,style:{width:"100%"},controls:!1})})})]})]})}),(0,t.jsxs)(b.Z,{title:"\u5546\u54C1\u660E\u7EC6",style:{marginTop:16},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,t.jsx)(pe.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:I,onChange:C,beforeChange:Ke})]}),(0,t.jsx)(ce.Z,{content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",disabled:!!s.getFieldValue("warehouseId"),children:(0,t.jsx)(a.ZP,{type:"primary",icon:(0,t.jsx)(ve.Z,{}),onClick:Be,disabled:!s.getFieldValue("warehouseId"),children:"\u6DFB\u52A0\u5546\u54C1"})})]}),(0,t.jsxs)(U.Z,{dataSource:s.getFieldValue("details"),rowKey:"id",bordered:!0,pagination:!1,locale:{emptyText:"\u6682\u65E0\u5546\u54C1\u660E\u7EC6"},children:[(0,t.jsx)(U.Z.Column,{title:"\u5546\u54C1\u4FE1\u606F",render:function(_,u){var i;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[u.itemSku.item.itemName,u.itemSku.item.itemCode&&"(".concat(u.itemSku.item.itemCode,")")]}),u.itemSku.item.itemBrand&&(0,t.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(i=de.get(u.itemSku.item.itemBrand))===null||i===void 0?void 0:i.brandName]})]})}}),(0,t.jsx)(U.Z.Column,{title:"\u89C4\u683C\u4FE1\u606F",render:function(_,u){return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:u.itemSku.skuName}),u.itemSku.barcode&&(0,t.jsxs)("div",{children:["\u6761\u7801\uFF1A",u.itemSku.barcode]})]})}}),(0,t.jsx)(U.Z.Column,{title:"\u5E93\u533A",dataIndex:"areaName",width:200}),(0,t.jsx)(U.Z.Column,{title:"\u6279\u53F7",dataIndex:"batchNo"}),(0,t.jsx)(U.Z.Column,{title:"\u751F\u4EA7\u65E5\u671F",render:function(_,u){return u.productionDate?u.productionDate.substring(0,10):null}}),(0,t.jsx)(U.Z.Column,{title:"\u8FC7\u671F\u65E5\u671F",render:function(_,u){return u.expirationDate?u.expirationDate.substring(0,10):null}}),(0,t.jsx)(U.Z.Column,{title:"\u5269\u4F59\u5E93\u5B58",align:"right",width:150,render:function(_,u){return(0,t.jsx)(he.Z,{value:Number(u.remainQuantity),precision:0})}}),(0,t.jsx)(U.Z.Column,{title:"\u51FA\u5E93\u6570\u91CF",width:180,render:function(_,u,i){return(0,t.jsx)(n.Z,{value:u.quantity,onChange:function(D){var j=s.getFieldValue("details");j[i].quantity=D,s.setFieldsValue({details:j}),be()},min:1,max:u.remainQuantity,precision:0})}}),(0,t.jsx)(U.Z.Column,{title:"\u4EF7\u683C",width:180,render:function(_,u,i){return(0,t.jsx)(n.Z,{value:u.amount,onChange:function(D){var j=s.getFieldValue("details");j[i].amount=D,s.setFieldsValue({details:j})},min:0,precision:2})}}),(0,t.jsx)(U.Z.Column,{title:"\u64CD\u4F5C",width:100,align:"right",render:function(_,u,i){return(0,t.jsx)(a.ZP,{icon:(0,t.jsx)(se.Z,{}),type:"link",danger:!0,onClick:function(){return we(u,i)},children:"\u5220\u9664"})}})]})]}),(0,t.jsx)(Ee.default,{ref:X,open:R,onCancel:function(){return S(!1)},onOk:Ue,width:"90%",selectWarehouseDisable:!1,selectAreaDisable:!!s.getFieldValue("areaId"),warehouseId:s.getFieldValue("warehouseId"),areaId:s.getFieldValue("areaId"),selectedInventory:oe}),(0,t.jsxs)("div",{style:{position:"fixed",bottom:0,right:0,width:"calc(100% - 200px)",padding:"16px",background:"#fff",borderTop:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.ZP,{type:"primary",onClick:Ze,children:"\u5B8C\u6210\u51FA\u5E93"}),s.getFieldValue("id")&&(0,t.jsx)(a.ZP,{danger:!0,onClick:Le,style:{marginLeft:16},children:"\u4F5C\u5E9F"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.ZP,{type:"primary",onClick:function(){return Fe()},children:"\u6682\u5B58"}),(0,t.jsx)(a.ZP,{onClick:function(){return re()},style:{marginLeft:16},children:"\u53D6\u6D88"})]})]})]})};K.default=ge},23586:function(ne,K,e){e.r(K);var $=e(90228),v=e.n($),w=e(26068),o=e.n(w),O=e(87999),y=e.n(O),k=e(48305),E=e.n(k),L=e(75271),B=e(61032),W=e(18380),P=e(2336),V=e(6778),g=e(1153),N=e(48625),f=e(81114),b=e(73320),F=e(17023),r=e(90607),d=e(90023),x=e(16483),n=e.n(x),a=e(52676),pe=W.default.RangePicker,ce=(0,L.forwardRef)(function(U,he){var ve=U.open,se=U.onCancel,Y=U.selectedInventory,fe=Y===void 0?[]:Y,Ee=P.Z.useForm(),De=E()(Ee,1),t=De[0],te=(0,L.useRef)(),ge=(0,L.useState)([]),Ce=E()(ge,2),le=Ce[0],Q=Ce[1],re=(0,L.useState)(!1),H=E()(re,2),Oe=H[0],z=H[1],ye=(0,L.useState)(!1),de=E()(ye,2),Ie=de[0],Pe=de[1],s=(0,B.useModel)("wms"),Te=s.warehouseMap,X=s.areaMap,Me=s.itemBrandMap;(0,L.useImperativeHandle)(he,function(){return{setWarehouseIdAndAreaId:_e,getList:function(){var C;(C=te.current)===null||C===void 0||C.reload()}}});var _e=function(C,m){t.setFieldsValue({warehouseId:C,areaId:m}),Pe(!!m)},je=function(C){return!fe.some(function(m){return m.id===C.id})},J=[{title:"\u5E93\u533A",dataIndex:"areaName",render:function(C,m){var M;return(M=X.get(m.areaId))===null||M===void 0?void 0:M.areaName}},{title:"\u5546\u54C1\u4FE1\u606F",render:function(C,m){var M,R,S,G;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(M=m.item)===null||M===void 0?void 0:M.itemName}),((R=m.item)===null||R===void 0?void 0:R.itemCode)&&(0,a.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",m.item.itemCode]}),((S=m.item)===null||S===void 0?void 0:S.itemBrand)&&(0,a.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(G=Me.get(m.item.itemBrand))===null||G===void 0?void 0:G.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(C,m){var M,R,S;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(M=m.itemSku)===null||M===void 0?void 0:M.skuName}),((R=m.itemSku)===null||R===void 0?void 0:R.skuCode)&&(0,a.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",m.itemSku.skuCode]}),((S=m.itemSku)===null||S===void 0?void 0:S.barcode)&&(0,a.jsxs)("div",{children:["\u6761\u7801\uFF1A",m.itemSku.barcode]})]})}},{title:"\u6279\u53F7",dataIndex:"batchNo",align:"left"},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",align:"left",width:180,render:function(C,m){return(0,a.jsxs)("div",{children:[m.productionDate&&(0,a.jsxs)("div",{children:["\u751F\u4EA7\u65E5\u671F\uFF1A",n()(m.productionDate).format("YYYY-MM-DD")]}),m.expirationDate&&(0,a.jsxs)("div",{children:["\u8FC7\u671F\u65E5\u671F\uFF1A",n()(m.expirationDate).format("YYYY-MM-DD")]})]})}},{title:"\u5165\u5E93\u65E5\u671F",align:"left",width:140,render:function(C,m){return(0,a.jsx)("div",{children:n()(m.createTime).format("YYYY-MM-DD")})}},{title:"\u5269\u4F59\u5E93\u5B58",align:"right",render:function(C,m){return(0,a.jsx)(V.Z,{value:Number(m.remainQuantity),precision:0})}}],xe=function(){se(),Q([])},ae=function(){se(),Q([])};return(0,a.jsxs)(g.Z,{title:"\u9009\u62E9\u5E93\u5B58",width:1200,open:ve,onClose:ae,destroyOnClose:!0,footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,a.jsx)(N.ZP,{onClick:ae,style:{marginRight:8},children:"\u53D6\u6D88"}),(0,a.jsx)(N.ZP,{type:"primary",onClick:xe,children:"\u786E\u8BA4"})]}),children:[(0,a.jsxs)(P.Z,{form:t,layout:"inline",labelAlign:"left",children:[(0,a.jsx)(P.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,a.jsx)(f.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})}),(0,a.jsx)(P.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,a.jsx)(f.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0,style:{width:180}})}),(0,a.jsx)(P.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,a.jsx)(b.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:Ie,allowClear:!0,style:{width:180},children:Array.from(X.values()).map(function(I){return(0,a.jsx)(b.Z.Option,{value:I.id,children:I.areaName},I.id)})})}),(0,a.jsx)(P.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,a.jsx)(f.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0,style:{width:180}})}),(0,a.jsx)(P.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,a.jsx)(f.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0,style:{width:180}})}),(0,a.jsx)(P.Z.Item,{label:"\u6279\u53F7",name:"batchNo",children:(0,a.jsx)(f.Z,{placeholder:"\u6279\u53F7",allowClear:!0,style:{width:180}})}),(0,a.jsx)(P.Z.Item,{label:"\u5165\u5E93\u65E5\u671F",name:"createTimeRange",children:(0,a.jsx)(pe,{format:"YYYY-MM-DD",placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"]})}),(0,a.jsx)(P.Z.Item,{label:"\u591A\u5C11\u5929\u5185\u8FC7\u671F",name:"daysToExpires",children:(0,a.jsxs)(b.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:120},children:[(0,a.jsx)(b.Z.Option,{value:30,children:"30\u5929\u5185"}),(0,a.jsx)(b.Z.Option,{value:60,children:"60\u5929\u5185"}),(0,a.jsx)(b.Z.Option,{value:90,children:"90\u5929\u5185"}),(0,a.jsx)(b.Z.Option,{value:120,children:"120\u5929\u5185"}),(0,a.jsx)(b.Z.Option,{value:180,children:"180\u5929\u5185"}),(0,a.jsx)(b.Z.Option,{value:365,children:"365\u5929\u5185"})]})}),(0,a.jsx)(P.Z.Item,{children:(0,a.jsx)(N.ZP,{type:"primary",icon:(0,a.jsx)(F.Z,{}),onClick:function(){var C;return(C=te.current)===null||C===void 0?void 0:C.reload()},children:"\u67E5\u8BE2"})})]}),(0,a.jsx)(r.Z,{style:{marginTop:16},actionRef:te,rowKey:"id",search:!1,options:!1,request:function(){var I=y()(v()().mark(function C(m){var M,R,S,G,q;return v()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return z(!0),Z.prev=1,S=t.getFieldsValue(),G=o()(o()({},S),{},{createStartTime:(M=S.createTimeRange)===null||M===void 0||(M=M[0])===null||M===void 0?void 0:M.format("YYYY-MM-DD HH:mm:ss"),createEndTime:(R=S.createTimeRange)===null||R===void 0||(R=R[1])===null||R===void 0?void 0:R.format("YYYY-MM-DD HH:mm:ss"),pageNum:m.current,pageSize:m.pageSize}),Z.next=6,(0,d.fN)(G);case 6:return q=Z.sent,Z.abrupt("return",{data:q.rows.map(function(ue){var ee,ie;return o()(o()({},ue),{},{warehouseName:(ee=Te.get(ue.warehouseId))===null||ee===void 0?void 0:ee.warehouseName,areaName:(ie=X.get(ue.areaId))===null||ie===void 0?void 0:ie.areaName})}),total:q.total,success:!0});case 8:return Z.prev=8,z(!1),Z.finish(8);case 11:case"end":return Z.stop()}},C,null,[[1,,8,11]])}));return function(C){return I.apply(this,arguments)}}(),columns:J,rowSelection:{selectedRowKeys:le.map(function(I){return I.id}),onChange:function(C,m){return Q(m)},getCheckboxProps:function(C){return{disabled:!je(C)}}},loading:Oe,pagination:{showSizeChanger:!0}})]})});K.default=ce},90023:function(ne,K,e){e.d(K,{fN:function(){return k},tB:function(){return L}});var $=e(90228),v=e.n($),w=e(87999),o=e.n(w),O=e(61032),y=e(18606);function k(r){return E.apply(this,arguments)}function E(){return E=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/inventoryDetail/list",{method:"GET",params:d}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function L(r){return B.apply(this,arguments)}function B(){return B=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/inventoryDetail/listNoPage",{method:"GET",params:d}));case 1:case"end":return n.stop()}},r)})),B.apply(this,arguments)}function W(r,d){return downLoadXlsx("/api/wms/inventoryDetail/export",{params:r},"inventoryDetail_".concat(new Date().getTime(),".xlsx"))}function P(r){return request("/api/wms/inventoryDetail/".concat(r),{method:"GET"})}function V(r){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function r(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/inventoryDetail",{method:"POST",data:d}));case 1:case"end":return n.stop()}},r)})),g.apply(this,arguments)}function N(r){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function r(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/inventoryDetail",{method:"PUT",data:d}));case 1:case"end":return n.stop()}},r)})),f.apply(this,arguments)}function b(r){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function r(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/inventoryDetail/".concat(d),{method:"DELETE"}));case 1:case"end":return n.stop()}},r)})),F.apply(this,arguments)}},37846:function(ne,K,e){e.d(K,{C6:function(){return b},Z9:function(){return W},kl:function(){return B},qc:function(){return N},r:function(){return k},yT:function(){return V}});var $=e(90228),v=e.n($),w=e(87999),o=e.n(w),O=e(61032),y=e(18606);function k(r){return E.apply(this,arguments)}function E(){return E=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrder/list",{method:"GET",params:d}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function L(r,d){return downLoadXlsx("/api/wms/shipmentOrder/export",{params:r},"shipmentOrder_".concat(new Date().getTime(),".xlsx"))}function B(r){return(0,O.request)("/api/wms/shipmentOrder/".concat(r),{method:"GET"})}function W(r){return P.apply(this,arguments)}function P(){return P=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrder",{method:"POST",data:d}));case 1:case"end":return n.stop()}},r)})),P.apply(this,arguments)}function V(r){return g.apply(this,arguments)}function g(){return g=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrder",{method:"PUT",data:d}));case 1:case"end":return n.stop()}},r)})),g.apply(this,arguments)}function N(r){return f.apply(this,arguments)}function f(){return f=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrder/shipment",{method:"PUT",data:d}));case 1:case"end":return n.stop()}},r)})),f.apply(this,arguments)}function b(r){return F.apply(this,arguments)}function F(){return F=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrder/".concat(d),{method:"DELETE"}));case 1:case"end":return n.stop()}},r)})),F.apply(this,arguments)}},40761:function(ne,K,e){e.d(K,{RN:function(){return b},xr:function(){return N}});var $=e(90228),v=e.n($),w=e(87999),o=e.n(w),O=e(61032),y=e(18606);function k(r){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function r(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/shipmentOrderDetail/list",{method:"GET",params:d}));case 1:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function L(r,d){return downLoadXlsx("/api/wms/shipmentOrderDetail/export",{params:r},"shipmentOrderDetail_".concat(new Date().getTime(),".xlsx"))}function B(r){return request("/api/wms/shipmentOrderDetail/".concat(r),{method:"GET"})}function W(r){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function r(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/shipmentOrderDetail",{method:"POST",data:d}));case 1:case"end":return n.stop()}},r)})),P.apply(this,arguments)}function V(r){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function r(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/shipmentOrderDetail",{method:"PUT",data:d}));case 1:case"end":return n.stop()}},r)})),g.apply(this,arguments)}function N(r){return f.apply(this,arguments)}function f(){return f=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrderDetail/".concat(d),{method:"DELETE"}));case 1:case"end":return n.stop()}},r)})),f.apply(this,arguments)}function b(r){return F.apply(this,arguments)}function F(){return F=o()(v()().mark(function r(d){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,O.request)("/api/wms/shipmentOrderDetail/list/".concat(d),{method:"GET"}));case 1:case"end":return n.stop()}},r)})),F.apply(this,arguments)}},42449:function(ne,K,e){e.d(K,{f:function(){return $},v:function(){return v}});function $(w,o){var O,y;try{O=w.toString().split(".")[1].length}catch(L){O=0}try{y=o.toString().split(".")[1].length}catch(L){y=0}var k=Math.pow(10,Math.max(O,y)),E=O>=y?O:y;return Number(((w*k-o*k)/k).toFixed(E))}function v(){var w=new Date,o=String(w.getMonth()+1).padStart(2,"0"),O=String(w.getDate()).padStart(2,"0"),y=Math.floor(Math.random()*1e4);return o+O+String(y).padStart(4,"0")}}}]);
