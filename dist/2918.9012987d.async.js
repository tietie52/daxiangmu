"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2918,5333],{68834:function(Q,b,e){var I=e(75611),v=e(99426),Z=e(99960),_=e(93954),K=e(2336),W=e(21263),x=e(18051),p=e(75271),C=e(50241),P=e(52676),i=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],d="text",S=function(u){var n=u.fieldProps,D=u.proFieldProps,a=(0,Z.Z)(u,i);return(0,P.jsx)(C.Z,(0,v.Z)({valueType:d,fieldProps:n,filedConfig:{valueType:d},proFieldProps:D},a))},G=function(u){var n=(0,_.Z)(u.open||!1,{value:u.open,onChange:u.onOpenChange}),D=(0,I.Z)(n,2),a=D[0],A=D[1];return(0,P.jsx)(K.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(M){var T,w=M.getFieldValue(u.name||[]);return(0,P.jsx)(W.Z,(0,v.Z)((0,v.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return A(s)},content:(0,P.jsxs)("div",{style:{padding:"4px 0"},children:[(T=u.statusRender)===null||T===void 0?void 0:T.call(u,w),u.strengthText?(0,P.jsx)("div",{style:{marginTop:10},children:(0,P.jsx)("span",{children:u.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},u.popoverProps),{},{open:a,children:u.children}))}})},f=function(u){var n=u.fieldProps,D=u.proFieldProps,a=(0,Z.Z)(u,B),A=(0,p.useState)(!1),F=(0,I.Z)(A,2),M=F[0],T=F[1];return n!=null&&n.statusRender&&a.name?(0,P.jsx)(G,{name:a.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:M,onOpenChange:T,children:(0,P.jsx)("div",{children:(0,P.jsx)(C.Z,(0,v.Z)({valueType:"password",fieldProps:(0,v.Z)((0,v.Z)({},(0,x.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(E){var s;n==null||(s=n.onBlur)===null||s===void 0||s.call(n,E),T(!1)},onClick:function(E){var s;n==null||(s=n.onClick)===null||s===void 0||s.call(n,E),T(!0)}}),proFieldProps:D,filedConfig:{valueType:d}},a))})}):(0,P.jsx)(C.Z,(0,v.Z)({valueType:"password",fieldProps:n,proFieldProps:D,filedConfig:{valueType:d}},a))},j=S;j.Password=f,j.displayName="ProFormComponent",b.Z=j},15333:function(Q,b,e){e.r(b);var I=e(90228),v=e.n(I),Z=e(87999),_=e.n(Z),K=e(48305),W=e.n(K),x=e(75271),p=e(54733),C=e(68834),P=e(2336),i=e(1153),B=e(48625),d=e(52676),S=function(f){var j=P.Z.useForm(),y=W()(j,1),u=y[0];(0,x.useEffect)(function(){u.resetFields(),u.setFieldsValue({id:f.values.id,brandName:f.values.brandName})},[u,f]);var n=function(){var D=_()(v()().mark(function a(A){return v()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:f.onSubmit(A);case 1:case"end":return M.stop()}},a)}));return function(A){return D.apply(this,arguments)}}();return(0,d.jsx)(i.Z,{width:600,title:f.values.id?"\u4FEE\u6539\u54C1\u724C":"\u6DFB\u52A0\u54C1\u724C",open:f.visible,onClose:f.onClose,destroyOnClose:!0,footer:(0,d.jsxs)("div",{style:{textAlign:"right"},children:[(0,d.jsx)(B.ZP,{onClick:f.onClose,style:{marginRight:8},children:"\u53D6\u6D88"}),(0,d.jsx)(B.ZP,{type:"primary",onClick:function(){return u.submit()},children:"\u786E\u5B9A"})]}),children:(0,d.jsxs)(p.A,{form:u,submitter:!1,layout:"horizontal",onFinish:n,children:[(0,d.jsx)(C.Z,{name:"id",label:"\u54C1\u724CID",hidden:!0,disabled:!0}),(0,d.jsx)(C.Z,{name:"brandName",label:"\u54C1\u724C\u540D\u79F0",width:"xl",placeholder:"\u8BF7\u8F93\u5165\u54C1\u724C\u540D\u79F0",rules:[{required:!0,message:"\u54C1\u724C\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]})]})})};b.default=S},62918:function(Q,b,e){e.r(b);var I=e(48305),v=e.n(I),Z=e(90228),_=e.n(Z),K=e(26068),W=e.n(K),x=e(87999),p=e.n(x),C=e(75271),P=e(61032),i=e(79654),B=e(51162),d=e(48625),S=e(73323),G=e(90607),f=e(49026),j=e(16621),y=e(30426),u=e(20860),n=e(28892),D=e(15333),a=e(52676),A=function(){var E=p()(_()().mark(function s(m){var h,t;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=i.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,n.d4)(W()({},m));case 4:return t=r.sent,h(),t.code===200?i.ZP.success("\u6DFB\u52A0\u6210\u529F"):i.ZP.error(t.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),h(),i.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},s,null,[[1,10]])}));return function(m){return E.apply(this,arguments)}}(),F=function(){var E=p()(_()().mark(function s(m){var h,t;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=i.ZP.loading("\u6B63\u5728\u66F4\u65B0"),r.prev=1,r.next=4,(0,n.Zt)(m);case 4:return t=r.sent,h(),t.code===200?i.ZP.success("\u66F4\u65B0\u6210\u529F"):i.ZP.error(t.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),h(),i.ZP.error("\u66F4\u65B0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},s,null,[[1,10]])}));return function(m){return E.apply(this,arguments)}}(),M=function(){var E=p()(_()().mark(function s(m){var h,t;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(h=i.ZP.loading("\u6B63\u5728\u5220\u9664"),m){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,n.kh)(m.map(function(V){return V.id}).join(","));case 6:return t=r.sent,h(),t.code===200?i.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):i.ZP.error(t.msg),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),h(),r.t0===409?B.Z.error({title:"\u7CFB\u7EDF\u63D0\u793A",content:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"\u54C1\u724C\u5DF2\u6709\u4E1A\u52A1\u6570\u636E\u5173\u8054\uFF0C\u4E0D\u80FD\u5220\u9664\uFF01"}),(0,a.jsx)("div",{children:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5904\u7406\uFF01"})]})}):i.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),r.abrupt("return",!1);case 17:case"end":return r.stop()}},s,null,[[3,12]])}));return function(m){return E.apply(this,arguments)}}(),T=function(){var E=p()(_()().mark(function s(){var m;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m=i.ZP.loading("\u6B63\u5728\u5BFC\u51FA"),t.prev=1,t.next=4,(0,n.AB)();case 4:return m(),i.ZP.success("\u5BFC\u51FA\u6210\u529F"),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),m(),i.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),t.abrupt("return",!1);case 14:case"end":return t.stop()}},s,null,[[1,9]])}));return function(){return E.apply(this,arguments)}}(),w=function(){var s=(0,C.useState)(!1),m=v()(s,2),h=m[0],t=m[1],g=(0,C.useRef)(),r=(0,C.useState)(),V=v()(r,2),ee=V[0],H=V[1],re=(0,C.useState)([]),X=v()(re,2),$=X[0],Y=X[1],k=(0,P.useAccess)(),ne=[{title:"\u54C1\u724C\u540D\u79F0",dataIndex:"brandName",valueType:"text"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",dataIndex:"option",width:"180px",valueType:"option",render:function(O,c){return[(0,a.jsx)(d.ZP,{type:"link",size:"small",hidden:!k.hasPerms("wms:itemBrand:edit"),onClick:function(){H(c),t(!0)},children:"\u4FEE\u6539"},"edit"),(0,a.jsx)(d.ZP,{type:"link",size:"small",danger:!0,hidden:!k.hasPerms("wms:itemBrand:remove"),onClick:p()(_()().mark(function o(){return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:B.Z.confirm({title:"\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u54C1\u724C\u3010".concat(c.brandName,"\u3011\u5417\uFF1F"),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var L=p()(_()().mark(function q(){var U;return _()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,M([c]);case 2:U=z.sent,U&&g.current&&g.current.reload();case 4:case"end":return z.stop()}},q)}));function N(){return L.apply(this,arguments)}return N}()});case 1:case"end":return l.stop()}},o)})),children:"\u5220\u9664"},"delete")]}}];return(0,a.jsxs)(S._z,{children:[(0,a.jsx)(G.Z,{headerTitle:"\u54C1\u724C\u5217\u8868",actionRef:g,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsxs)(d.ZP,{type:"primary",hidden:!k.hasPerms("wms:itemBrand:add"),onClick:function(){H(void 0),t(!0)},children:[(0,a.jsx)(j.Z,{})," \u65B0\u589E"]},"add"),(0,a.jsxs)(d.ZP,{type:"primary",hidden:!k.hasPerms("wms:itemBrand:export"),onClick:p()(_()().mark(function O(){return _()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,T();case 2:case"end":return o.stop()}},O)})),children:[(0,a.jsx)(y.Z,{})," \u5BFC\u51FA"]},"export")]},request:function(){var R=p()(_()().mark(function O(c){var o;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,n.BF)(W()({},c));case 2:return o=l.sent,l.abrupt("return",{data:o.rows,total:o.total,success:!0});case 4:case"end":return l.stop()}},O)}));return function(O){return R.apply(this,arguments)}}(),columns:ne,rowSelection:{onChange:function(O,c){Y(c)}}}),($==null?void 0:$.length)>0&&(0,a.jsx)(f.S,{extra:(0,a.jsxs)("div",{children:["\u5DF2\u9009\u62E9 ",(0,a.jsx)("a",{style:{fontWeight:600},children:$.length})," \u9879"]}),children:(0,a.jsx)(d.ZP,{danger:!0,hidden:!k.hasPerms("wms:itemBrand:remove"),onClick:p()(_()().mark(function R(){return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:B.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,a.jsx)(u.Z,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return p()(_()().mark(function J(){var l,L,N;return _()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,M($);case 2:l=U.sent,l&&(Y([]),(L=g.current)===null||L===void 0||(N=L.reloadAndRest)===null||N===void 0||N.call(L));case 4:case"end":return U.stop()}},J)}))()},onCancel:function(){}});case 1:case"end":return c.stop()}},R)})),children:"\u6279\u91CF\u5220\u9664"},"batchRemove")}),(0,a.jsx)(D.default,{onSubmit:function(){var R=p()(_()().mark(function O(c){var o;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=!1,!c.id){l.next=7;break}return l.next=4,F(c);case 4:o=l.sent,l.next=10;break;case 7:return l.next=9,A(c);case 9:o=l.sent;case 10:o&&(t(!1),H(void 0),g.current&&g.current.reload());case 11:case"end":return l.stop()}},O)}));return function(O){return R.apply(this,arguments)}}(),onClose:function(){t(!1),H(void 0)},visible:h,values:ee||{}})]})};b.default=w}}]);
