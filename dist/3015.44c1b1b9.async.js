"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3015],{33015:function(G,j,t){t.r(j);var R=t(90228),o=t.n(R),T=t(26068),D=t.n(T),x=t(87999),y=t.n(x),A=t(15558),P=t.n(A),S=t(48305),m=t.n(S),g=t(75271),I=t(61032),c=t(2336),i=t(48625),k=t(1153),C=t(57355),h=t(23102),d=t(81114),s=t(16621),a=t(47383),f=t(17023),r=t(90607),z=t(88223),e=t(52676),V=(0,g.forwardRef)(function(M,H){var X=M.open,F=M.onCancel,L=M.singleSelect,U=L===void 0?!1:L,W=M.size,J=W===void 0?"80%":W,Q=c.Z.useForm(),Y=m()(Q,1),K=Y[0],O=(0,g.useRef)(),q=(0,g.useState)([]),Z=m()(q,2),ee=Z[0],B=Z[1],ne=(0,g.useState)(!1),w=m()(ne,2),te=w[0],$=w[1],_e=(0,I.useModel)("wms"),re=_e.itemBrandMap;(0,g.useImperativeHandle)(H,function(){return{getList:function(){var n;(n=O.current)===null||n===void 0||n.reload()}}});var se=function(n){return(n.length||n.length===0)&&(n.width||n.width===0)&&(n.height||n.height===0)?"".concat(n.length," * ").concat(n.width," * ").concat(n.height):[n.length||n.length===0?"\u957F\uFF1A".concat(n.length):"",n.width||n.width===0?"\u5BBD\uFF1A".concat(n.width):"",n.height||n.height===0?"\u9AD8\uFF1A".concat(n.height):""].filter(Boolean).join(" ")},ue=function(n){F()},ae=function(){F(),B([])},N=function(){F(),B([])},ie=function(){I.history.push("/system/itemManage2?openDrawer=true")},le=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(n,_){var p,v,E,b;return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(p=_.item)===null||p===void 0?void 0:p.itemName}),((v=_.item)===null||v===void 0?void 0:v.itemCode)&&(0,e.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",_.item.itemCode]}),((E=_.item)===null||E===void 0?void 0:E.itemBrand)&&(0,e.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(b=re.get(_.item.itemBrand))===null||b===void 0?void 0:b.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(n,_){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:_.skuName}),_.skuCode&&(0,e.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",_.skuCode]}),_.barcode&&(0,e.jsxs)("div",{children:["\u6761\u7801\uFF1A",_.barcode]})]})}},{title:"\u4EF7\u683C(\u5143)",width:160,align:"left",render:function(n,_){return(0,e.jsxs)("div",{children:[_.costPrice!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u6210\u672C\u4EF7\uFF1A"}),(0,e.jsx)("div",{children:_.costPrice})]}),_.sellingPrice!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u9500\u552E\u4EF7\uFF1A"}),(0,e.jsx)("div",{children:_.sellingPrice})]})]})}},{title:"\u91CD\u91CF(kg)",width:160,align:"left",render:function(n,_){return(0,e.jsxs)("div",{children:[_.netWeight!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u51C0\u91CD\uFF1A"}),(0,e.jsx)("div",{children:_.netWeight})]}),_.grossWeight!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u6BDB\u91CD\uFF1A"}),(0,e.jsx)("div",{children:_.grossWeight})]})]})}},{title:"\u957F\u5BBD\u9AD8(cm)",align:"right",width:250,render:function(n,_){return(0,e.jsx)("div",{children:se(_)})}}].concat(P()(U?[{title:"\u64CD\u4F5C",width:100,align:"right",render:function(n,_){return(0,e.jsx)(i.ZP,{type:"link",onClick:function(){return ue(_)},children:"\u9009\u62E9"})}}]:[]));return(0,e.jsxs)(k.Z,{title:"\u5546\u54C1\u9009\u62E9",width:J,open:X,onClose:N,destroyOnClose:!0,footer:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(i.ZP,{icon:(0,e.jsx)(s.Z,{}),onClick:ie,children:"\u521B\u5EFA\u5546\u54C1"}),(0,e.jsx)(i.ZP,{icon:(0,e.jsx)(a.Z,{}),onClick:function(){var n;return(n=O.current)===null||n===void 0?void 0:n.reload()},style:{marginLeft:8},children:"\u5237\u65B0"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(i.ZP,{onClick:N,style:{marginRight:8},children:"\u53D6\u6D88"}),!U&&(0,e.jsx)(i.ZP,{type:"primary",onClick:ae,children:"\u786E\u8BA4"})]})]}),children:[(0,e.jsxs)(c.Z,{form:K,layout:"inline",labelAlign:"left",children:[(0,e.jsxs)(C.Z,{gutter:20,style:{width:"100%"},children:[(0,e.jsx)(h.Z,{span:8,children:(0,e.jsx)(c.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,e.jsx)(d.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsx)(c.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,e.jsx)(d.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0})})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsx)(c.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,e.jsx)(d.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0})})})]}),(0,e.jsxs)(C.Z,{gutter:20,style:{width:"100%",marginTop:16},children:[(0,e.jsx)(h.Z,{span:8,children:(0,e.jsx)(c.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,e.jsx)(d.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0})})}),(0,e.jsx)(h.Z,{span:8,children:(0,e.jsx)(i.ZP,{type:"primary",icon:(0,e.jsx)(f.Z,{}),onClick:function(){var n;return(n=O.current)===null||n===void 0?void 0:n.reload()},children:"\u67E5\u8BE2"})})]})]}),(0,e.jsx)(r.Z,{style:{marginTop:16},actionRef:O,rowKey:"id",search:!1,options:!1,request:function(){var u=y()(o()().mark(function n(_){var p,v,E;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return $(!0),l.prev=1,p=K.getFieldsValue(),v=D()(D()({},p),{},{pageNum:_.current,pageSize:_.pageSize}),l.next=6,(0,z.uE)(v);case 6:return E=l.sent,l.abrupt("return",{data:E.rows,total:E.total,success:!0});case 8:return l.prev=8,$(!1),l.finish(8);case 11:case"end":return l.stop()}},n,null,[[1,,8,11]])}));return function(n){return u.apply(this,arguments)}}(),columns:le,rowSelection:U?void 0:{selectedRowKeys:ee.map(function(u){return u.id}),onChange:function(n,_){return B(_)}},loading:te,pagination:{showSizeChanger:!0,pageSizeOptions:["5","10","20","50"]}})]})});j.default=V},88223:function(G,j,t){t.d(j,{pe:function(){return h},uE:function(){return A}});var R=t(90228),o=t.n(R),T=t(87999),D=t.n(T),x=t(61032),y=t(18606);function A(s){return P.apply(this,arguments)}function P(){return P=D()(o()().mark(function s(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,x.request)("/api/wms/itemSku/list",{method:"GET",params:a}));case 1:case"end":return r.stop()}},s)})),P.apply(this,arguments)}function S(s){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function s(a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/itemSku/listNoPage",{method:"GET",params:a}));case 1:case"end":return r.stop()}},s)})),m.apply(this,arguments)}function g(s,a){return downLoadXlsx("/api/wms/itemSku/export",{params:s},"itemSku_".concat(new Date().getTime(),".xlsx"))}function I(s){return request("/api/wms/itemSku/".concat(s),{method:"GET"})}function c(s){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function s(a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/itemSku",{method:"POST",data:a}));case 1:case"end":return r.stop()}},s)})),i.apply(this,arguments)}function k(s){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function s(a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/itemSku",{method:"PUT",data:a}));case 1:case"end":return r.stop()}},s)})),C.apply(this,arguments)}function h(s){return d.apply(this,arguments)}function d(){return d=D()(o()().mark(function s(a){return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,x.request)("/api/wms/itemSku/".concat(a),{method:"DELETE"}));case 1:case"end":return r.stop()}},s)})),d.apply(this,arguments)}}}]);
