"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7104,189],{77034:function(ee,y,n){var S=n(335),i=n.n(S),K=n(75271),e=n(53059),c=n(52676),C=function(a){function U(d){switch(d){case"primary":return"blue";case"success":return"success";case"info":return"green";case"warning":return"warning";case"danger":return"error";case"default":default:return"default"}}function _(d){if(d===void 0)return"";if(a.enums){var A=a.enums[d];return A.label}if(a.options){if(!Array.isArray(a.options))return console.log("DictTag options is no array!"),"";var D=i()(a.options),P;try{for(D.s();!(P=D.n()).done;){var s=P.value;if(s.value===d)return s.text}}catch(f){D.e(f)}finally{D.f()}}return String(a.value)}function x(d){if(d===void 0)return"default";if(a.enums){var A=a.enums[d];return A.listClass||"default"}if(a.options){if(!Array.isArray(a.options))return console.log("DictTag options is no array!"),"default";var D=i()(a.options),P;try{for(D.s();!(P=D.n()).done;){var s=P.value;if(s.value===d)return s.listClass||"default"}}catch(f){D.e(f)}finally{D.f()}}return String(a.value)}var j=function(){return U(x(a.value).toLowerCase())},o=function(){return _(a.value)};return(0,c.jsx)(e.Z,{color:j(),children:o()})};y.Z=C},41009:function(ee,y,n){n.d(y,{iK:function(){return S},zc:function(){return K}});var S=function(e){return e[e.SUCCESS=200]="SUCCESS",e[e.ERROR=-1]="ERROR",e[e.TIMEOUT=401]="TIMEOUT",e.TYPE="success",e}({}),i=function(e){return e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e}({}),K=function(e){return e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8",e}({})},20189:function(ee,y,n){n.r(y);var S=n(75271),i=n(51162),K=n(48625),e=n(57099),c=n(61032),C=n(206),u=n(52676),a=function(_){var x,j=_.values,o=_.statusOptions;(0,S.useEffect)(function(){},[_]);var d=(0,c.useIntl)(),A={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},D=function(){_.onCancel()};return(0,u.jsx)(i.Z,{width:800,title:d.formatMessage({id:"monitor.job.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),open:_.open,destroyOnClose:!0,onCancel:D,footer:[(0,u.jsx)(K.ZP,{onClick:D,children:"\u5173\u95ED"},"back")],children:(0,u.jsxs)(e.Z,{column:24,children:[(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),children:j.jobId}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),children:j.jobName}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),children:j.jobGroup}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),children:j.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),children:A[j.misfirePolicy?j.misfirePolicy:"0"]}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),children:(x=j.createTime)===null||x===void 0?void 0:x.toString()}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),children:(0,C.n)(o,j.status,"\u672A\u77E5")}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4"}),children:j.nextValidTime}),(0,u.jsx)(e.Z.Item,{span:24,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),children:j.cronExpression}),(0,u.jsx)(e.Z.Item,{span:24,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),children:j.invokeTarget})]})})};y.default=a},8253:function(ee,y,n){n.r(y);var S=n(90228),i=n.n(S),K=n(87999),e=n.n(K),c=n(48305),C=n.n(c),u=n(75271),a=n(54733),U=n(76202),_=n(68834),x=n(59472),j=n(33615),o=n(59903),d=n(36798),A=n(2336),D=n(51162),P=n(61032),s=n(52676),f=function(m){var l=A.Z.useForm(),te=C()(l,1),O=te[0],q=m.jobGroupOptions,E=m.statusOptions;(0,u.useEffect)(function(){O.resetFields(),O.setFieldsValue({jobId:m.values.jobId,jobName:m.values.jobName,jobGroup:m.values.jobGroup,invokeTarget:m.values.invokeTarget,cronExpression:m.values.cronExpression,misfirePolicy:m.values.misfirePolicy,concurrent:m.values.concurrent,status:m.values.status,createBy:m.values.createBy,createTime:m.values.createTime,updateBy:m.values.updateBy,updateTime:m.values.updateTime,remark:m.values.remark})},[O,m]);var p=(0,P.useIntl)(),k=function(){O.submit()},r=function(){m.onCancel(),O.resetFields()},N=function(){var X=e()(i()().mark(function b(M){return i()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:m.onSubmit(M);case 1:case"end":return se.stop()}},b)}));return function(M){return X.apply(this,arguments)}}();return(0,s.jsx)(D.Z,{width:640,title:p.formatMessage({id:"monitor.job.title",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),open:m.open,forceRender:!0,destroyOnClose:!0,onOk:k,onCancel:r,children:(0,s.jsxs)(a.A,{form:O,grid:!0,submitter:!1,layout:"horizontal",onFinish:N,children:[(0,s.jsx)(U.Z,{name:"jobId",label:p.formatMessage({id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01"})}]}),(0,s.jsx)(_.Z,{name:"jobName",label:p.formatMessage({id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]}),(0,s.jsx)(x.Z,{name:"jobGroup",options:q,label:p.formatMessage({id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]}),(0,s.jsx)(j.Z,{name:"invokeTarget",label:p.formatMessage({id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]}),(0,s.jsx)(o.Z,{name:"cronExpression",label:p.formatMessage({id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),captchaTextRender:function(){return"\u751F\u6210\u8868\u8FBE\u5F0F"},onGetCaptcha:function(){return new Promise(function(b,M){M()})}}),(0,s.jsx)(d.Z.Group,{name:"misfirePolicy",label:p.formatMessage({id:"monitor.job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",valueEnum:{0:"\u7ACB\u5373\u6267\u884C",1:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,s.jsx)(d.Z.Group,{name:"concurrent",label:p.formatMessage({id:"monitor.job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",valueEnum:{0:"\u5141\u8BB8",1:"\u7981\u6B62"},rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,s.jsx)(d.Z.Group,{valueEnum:E,name:"status",label:p.formatMessage({id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})]})})};y.default=f},17104:function(ee,y,n){n.r(y);var S=n(48305),i=n.n(S),K=n(90228),e=n.n(K),c=n(26068),C=n.n(c),u=n(87999),a=n.n(u),U=n(75271),_=n(61032),x=n(53683),j=n(63710),o=n(79654),d=n(48625),A=n(51162),D=n(73323),P=n(90607),s=n(49026),f=n(23299),I=n(86743),m=n(13143),l=n(16621),te=n(20860),O=n(32092),q=n(65269),E=n(8253),p=n(20189),k=n(77034),r=n(52676),N=function(){var z=a()(e()().mark(function W(F){var B,g;return e()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return B=o.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),t.prev=1,t.next=4,(0,O.Y$)(C()({},F));case 4:return g=t.sent,B(),g.code===200?o.ZP.success("\u6DFB\u52A0\u6210\u529F"):o.ZP.error(g.msg),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),B(),o.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},W,null,[[1,10]])}));return function(F){return z.apply(this,arguments)}}(),X=function(){var z=a()(e()().mark(function W(F){var B,g;return e()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return B=o.ZP.loading("\u6B63\u5728\u66F4\u65B0"),t.prev=1,t.next=4,(0,O.gK)(F);case 4:return g=t.sent,B(),g.code===200?o.ZP.success("\u66F4\u65B0\u6210\u529F"):o.ZP.error(g.msg),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),B(),o.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},W,null,[[1,10]])}));return function(F){return z.apply(this,arguments)}}(),b=function(){var z=a()(e()().mark(function W(F){var B,g;return e()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(B=o.ZP.loading("\u6B63\u5728\u5220\u9664"),F){t.next=3;break}return t.abrupt("return",!0);case 3:return t.prev=3,t.next=6,(0,O.eX)(F.map(function(R){return R.jobId}).join(","));case 6:return g=t.sent,B(),g.code===200?o.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.ZP.error(g.msg),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(3),B(),o.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),t.abrupt("return",!1);case 17:case"end":return t.stop()}},W,null,[[3,12]])}));return function(F){return z.apply(this,arguments)}}(),M=function(){var z=a()(e()().mark(function W(F){var B,g,G;return e()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(B=o.ZP.loading("\u6B63\u5728\u5220\u9664"),F){R.next=3;break}return R.abrupt("return",!0);case 3:return R.prev=3,g=[F.jobId],R.next=7,(0,O.eX)(g.join(","));case 7:return G=R.sent,B(),G.code===200?o.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.ZP.error(G.msg),R.abrupt("return",!0);case 13:return R.prev=13,R.t0=R.catch(3),B(),o.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),R.abrupt("return",!1);case 18:case"end":return R.stop()}},W,null,[[3,13]])}));return function(F){return z.apply(this,arguments)}}(),de=function(){var z=a()(e()().mark(function W(){var F;return e()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return F=o.ZP.loading("\u6B63\u5728\u5BFC\u51FA"),g.prev=1,g.next=4,(0,O.Q$)();case 4:return F(),o.ZP.success("\u5BFC\u51FA\u6210\u529F"),g.abrupt("return",!0);case 9:return g.prev=9,g.t0=g.catch(1),F(),o.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),g.abrupt("return",!1);case 14:case"end":return g.stop()}},W,null,[[1,9]])}));return function(){return z.apply(this,arguments)}}(),se=function(){var W=(0,U.useRef)(),F=(0,U.useState)(!1),B=i()(F,2),g=B[0],G=B[1],t=(0,U.useState)(!1),R=i()(t,2),he=R[0],le=R[1],ne=(0,U.useRef)(),ge=(0,U.useState)(),ce=i()(ge,2),me=ce[0],re=ce[1],ve=(0,U.useState)([]),pe=i()(ve,2),Q=pe[0],ie=pe[1],be=(0,U.useState)([]),fe=i()(be,2),_e=fe[0],Me=fe[1],De=(0,U.useState)([]),Ee=i()(De,2),oe=Ee[0],je=Ee[1],ue=(0,_.useAccess)(),Pe=(0,_.useIntl)();(0,U.useEffect)(function(){(0,q.Hr)("sys_job_group").then(function(Z){Me(Z)}),(0,q.pX)("sys_normal_disable").then(function(Z){je(Z)})},[]);var Oe=[{title:(0,r.jsx)(_.FormattedMessage,{id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,r.jsx)(_.FormattedMessage,{id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),dataIndex:"jobName",valueType:"text",render:function(L,h){return(0,r.jsx)("a",{onClick:function(){le(!0),re(h)},children:L})}},{title:(0,r.jsx)(_.FormattedMessage,{id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),dataIndex:"jobGroup",valueType:"text",valueEnum:_e,render:function(L,h){return(0,r.jsx)(k.Z,{options:_e,value:h.jobGroup})}},{title:(0,r.jsx)(_.FormattedMessage,{id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),dataIndex:"invokeTarget",valueType:"textarea"},{title:(0,r.jsx)(_.FormattedMessage,{id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),dataIndex:"cronExpression",valueType:"text"},{title:(0,r.jsx)(_.FormattedMessage,{id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:oe,render:function(L,h){return(0,r.jsx)(k.Z,{enums:oe,value:h.status})}},{title:(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(L,h){return[(0,r.jsx)(d.ZP,{type:"link",size:"small",icon:(0,r.jsx)(f.Z,{}),hidden:!ue.hasPerms("monitor:job:edit"),onClick:function(){G(!0),re(h)},children:"\u7F16\u8F91"},"edit"),(0,r.jsx)(d.ZP,{type:"link",size:"small",danger:!0,icon:(0,r.jsx)(I.Z,{}),hidden:!ue.hasPerms("monitor:job:remove"),onClick:a()(e()().mark(function v(){return e()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:A.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var H=a()(e()().mark(function J(){var ae;return e()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,M(h);case 2:ae=V.sent,ae&&ne.current&&ne.current.reload();case 4:case"end":return V.stop()}},J)}));function w(){return H.apply(this,arguments)}return w}()});case 1:case"end":return T.stop()}},v)})),children:"\u5220\u9664"},"batchRemove"),(0,r.jsx)(x.Z,{menu:{items:[{label:"\u6267\u884C\u4E00\u6B21",key:"runOnce"},{label:"\u8BE6\u7EC6",key:"detail"},{label:"\u5386\u53F2",key:"log"}],onClick:function(Y){var T=Y.key;T==="runOnce"?A.Z.confirm({title:"\u8B66\u544A",content:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var H=a()(e()().mark(function J(){var ae;return e()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,O.uu)(h.jobId,h.jobGroup);case 2:ae=V.sent,ae&&o.ZP.success("\u6267\u884C\u6210\u529F");case 4:case"end":return V.stop()}},J)}));function w(){return H.apply(this,arguments)}return w}()}):T==="detail"?(le(!0),re(h)):T==="log"&&_.history.push("/monitor/job-log/index/".concat(h.jobId))}},children:(0,r.jsx)("a",{className:"ant-dropdown-link",onClick:function(Y){return Y.preventDefault()},children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(m.Z,{}),"\u66F4\u591A"]})})},"more")]}}];return(0,r.jsxs)(D._z,{children:[(0,r.jsx)("div",{style:{width:"100%",float:"right"},children:(0,r.jsx)(P.Z,{headerTitle:Pe.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:ne,formRef:W,rowKey:"jobId",search:{labelWidth:120},toolBarRender:function(){return[(0,r.jsxs)(d.ZP,{type:"primary",hidden:!ue.hasPerms("monitor:job:add"),onClick:a()(e()().mark(function L(){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:re(void 0),G(!0);case 2:case"end":return v.stop()}},L)})),children:[(0,r.jsx)(l.Z,{})," ",(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,r.jsxs)(d.ZP,{type:"primary",danger:!0,hidden:(Q==null?void 0:Q.length)===0||!ue.hasPerms("monitor:job:remove"),onClick:a()(e()().mark(function L(){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:A.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,r.jsx)(te.Z,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return a()(e()().mark(function T(){var H,w,J;return e()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,b(Q);case 2:H=$.sent,H&&(ie([]),(w=ne.current)===null||w===void 0||(J=w.reloadAndRest)===null||J===void 0||J.call(w));case 4:case"end":return $.stop()}},T)}))()},onCancel:function(){}});case 1:case"end":return v.stop()}},L)})),children:[(0,r.jsx)(I.Z,{}),(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove"),(0,r.jsxs)(d.ZP,{type:"primary",hidden:!ue.hasPerms("monitor:job:export"),onClick:a()(e()().mark(function L(){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:de();case 1:case"end":return v.stop()}},L)})),children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(L){return(0,O.Go)(C()({},L)).then(function(h){var v={data:h.rows,total:h.total,success:!0};return v})},columns:Oe,rowSelection:{onChange:function(L,h){ie(h)}}},"jobList")}),(Q==null?void 0:Q.length)>0&&(0,r.jsx)(s.S,{extra:(0,r.jsxs)("div",{children:[(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,r.jsx)("a",{style:{fontWeight:600},children:Q.length}),(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,r.jsx)(d.ZP,{danger:!0,hidden:!ue.hasPerms("monitor:job:del"),onClick:a()(e()().mark(function Z(){return e()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:A.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var v=a()(e()().mark(function T(){var H,w,J;return e()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,b(Q);case 2:H=$.sent,H&&(ie([]),(w=ne.current)===null||w===void 0||(J=w.reloadAndRest)===null||J===void 0||J.call(w));case 4:case"end":return $.stop()}},T)}));function Y(){return v.apply(this,arguments)}return Y}()});case 1:case"end":return h.stop()}},Z)})),children:(0,r.jsx)(_.FormattedMessage,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,r.jsx)(E.default,{onSubmit:function(){var Z=a()(e()().mark(function L(h){var v;return e()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(v=!1,!h.jobId){T.next=7;break}return T.next=4,X(C()({},h));case 4:v=T.sent,T.next=10;break;case 7:return T.next=9,N(C()({},h));case 9:v=T.sent;case 10:v&&(G(!1),re(void 0),ne.current&&ne.current.reload());case 11:case"end":return T.stop()}},L)}));return function(L){return Z.apply(this,arguments)}}(),onCancel:function(){G(!1),re(void 0)},open:g,values:me||{},jobGroupOptions:_e||{},statusOptions:oe}),(0,r.jsx)(p.default,{onCancel:function(){le(!1),re(void 0)},open:he,values:me||{},statusOptions:oe})]})};y.default=se},32092:function(ee,y,n){n.d(y,{Go:function(){return u},Q$:function(){return D},Y$:function(){return _},Zn:function(){return U},eX:function(){return d},gK:function(){return j},uu:function(){return P}});var S=n(90228),i=n.n(S),K=n(87999),e=n.n(K),c=n(61032),C=n(18606);function u(f){return a.apply(this,arguments)}function a(){return a=e()(i()().mark(function f(I){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:I}));case 1:case"end":return l.stop()}},f)})),a.apply(this,arguments)}function U(f){return(0,c.request)("/api/monitor/job/".concat(f),{method:"GET"})}function _(f){return x.apply(this,arguments)}function x(){return x=e()(i()().mark(function f(I){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:I}));case 1:case"end":return l.stop()}},f)})),x.apply(this,arguments)}function j(f){return o.apply(this,arguments)}function o(){return o=e()(i()().mark(function f(I){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:I}));case 1:case"end":return l.stop()}},f)})),o.apply(this,arguments)}function d(f){return A.apply(this,arguments)}function A(){return A=e()(i()().mark(function f(I){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job/".concat(I),{method:"DELETE"}));case 1:case"end":return l.stop()}},f)})),A.apply(this,arguments)}function D(f){return(0,C.su)("/api/monitor/job/export",{params:f},"job_".concat(new Date().getTime(),".xlsx"))}function P(f,I){return s.apply(this,arguments)}function s(){return s=e()(i()().mark(function f(I,m){var l;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return l={jobId:I,jobGroup:m},O.abrupt("return",(0,c.request)("/api/monitor/job/run",{method:"PUT",data:l}));case 2:case"end":return O.stop()}},f)})),s.apply(this,arguments)}},65269:function(ee,y,n){n.d(y,{Hr:function(){return A},QK:function(){return O},Vd:function(){return j},a7:function(){return f},jK:function(){return _},n2:function(){return te},oH:function(){return P},pX:function(){return o},sF:function(){return m}});var S=n(26068),i=n.n(S),K=n(90228),e=n.n(K),c=n(87999),C=n.n(c),u=n(61032),a=n(41009),U=n(18606);function _(E){return x.apply(this,arguments)}function x(){return x=C()(e()().mark(function E(p){return e()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/system/dict/type/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:p}));case 1:case"end":return r.stop()}},E)})),x.apply(this,arguments)}function j(E){return(0,u.request)("/api/system/dict/type/".concat(E),{method:"GET"})}function o(E,p){return d.apply(this,arguments)}function d(){return d=C()(e()().mark(function E(p,k){var r,N;return e()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log("getDictValueEnum resp:",p),b.next=3,(0,u.request)("/api/system/dict/data/type/".concat(p),{method:"GET"});case 3:if(r=b.sent,console.log("getDictValueEnum resp:",p,r),r.code!==a.iK.SUCCESS){b.next=11;break}return N={},r.data.forEach(function(M){N[M.dictValue]={text:M.dictLabel,label:M.dictLabel,value:k?Number(M.dictValue):M.dictValue,key:M.dictCode,listClass:M.listClass,status:M.listClass}}),b.abrupt("return",N);case 11:return b.abrupt("return",{});case 12:case"end":return b.stop()}},E)})),d.apply(this,arguments)}function A(E,p){return D.apply(this,arguments)}function D(){return D=C()(e()().mark(function E(p,k){var r,N;return e()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,u.request)("/api/system/dict/data/type/".concat(p),{method:"GET"});case 2:if(r=b.sent,r.code!==200){b.next=6;break}return N=r.data.map(function(M){return{text:M.dictLabel,label:M.dictLabel,value:k?Number(M.dictValue):M.dictValue,key:M.dictCode,listClass:M.listClass,status:M.listClass}}),b.abrupt("return",N);case 6:return b.abrupt("return",[]);case 7:case"end":return b.stop()}},E)})),D.apply(this,arguments)}function P(E){return s.apply(this,arguments)}function s(){return s=C()(e()().mark(function E(p){return e()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/system/dict/type",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:p}));case 1:case"end":return r.stop()}},E)})),s.apply(this,arguments)}function f(E){return I.apply(this,arguments)}function I(){return I=C()(e()().mark(function E(p){return e()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/system/dict/type",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:p}));case 1:case"end":return r.stop()}},E)})),I.apply(this,arguments)}function m(E){return l.apply(this,arguments)}function l(){return l=C()(e()().mark(function E(p){return e()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/system/dict/type/".concat(p),{method:"DELETE"}));case 1:case"end":return r.stop()}},E)})),l.apply(this,arguments)}function te(E){return(0,U.su)("/api/system/dict/type/export",{params:E},"dict_type_".concat(new Date().getTime(),".xlsx"))}function O(E){return q.apply(this,arguments)}function q(){return q=C()(e()().mark(function E(p){return e()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,u.request)("/api/system/dict/type/optionselect",{params:i()({},p),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return r.stop()}},E)})),q.apply(this,arguments)}},206:function(ee,y,n){n.d(y,{n:function(){return S}});function S(i,K,e){if(K!==void 0){var c=i[K];if(c)return c.text}return e||K}}}]);
